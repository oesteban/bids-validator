(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{70939:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=70939,e.exports=t},82766:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(98402)}])},98402:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return iu}});var n=i(24246),s=i(27378),o=i(23615),r=i.n(o),a=i(26407),l=i.n(a),c=i(89257),d=i(63032),u=i(13473);class f extends s.Component{render(){let e=this.props.error,t="";return e.line&&(t+="Line: "+e.line+" "),e.character&&(t+="Character: "+e.character),""===t&&e.evidence&&(t="Evidence: "),(0,n.jsxs)("div",{className:"em-body issue",children:[(0,n.jsxs)("h4",{className:"em-header clearfix mt-4",children:[(0,n.jsx)("strong",{className:"em-header pull-left",children:e.file.name}),(0,n.jsxs)("strong",{className:"em-header pull-right",children:[e.file.size/1e3," KB | ",e.file.type]})]}),(0,n.jsxs)("span",{className:"e-meta",children:[(0,n.jsx)("label",{children:"Location: "}),(0,n.jsx)("p",{children:e.file.webkitRelativePath}),(0,n.jsx)("label",{children:"Reason: "}),(0,n.jsx)("p",{children:e.reason})]}),(0,n.jsxs)("span",{className:"e-meta",children:[(0,n.jsx)("label",{children:t}),(0,n.jsx)("p",{children:e.evidence})]})]})}}f.propTypes={file:r().object,error:r().object,type:r().string.isRequired};class h extends s.Component{render(){let e=this,t=this.props.issues.map((t,i)=>{let s=t.files;-1===this.state.showMore.indexOf(i)&&(s=t.files.slice(0,10));let o=!1,r=s.map(function(t,i){if(t&&t.file)return o=!0,(0,n.jsx)(f,{type:e.props.issueType,error:t,index:i},i)});return o?(0,n.jsxs)(c.Z,{className:"validation-error fadeIn",children:[(0,n.jsx)(c.Z.Header,{className:"error-header","aria-expanded":this.state.errorOpen,"aria-controls":"error_"+i,onClick:()=>this.setState({errorOpen:!this.state.errorOpen}),children:this._header(t,i,this.props.issueType,o)}),(0,n.jsx)(d.Z,{in:this.state.errorOpen,children:(0,n.jsxs)(c.Z.Body,{id:"error_"+i,children:[r,this._viewMore(t.files,i)]})})]},i):(0,n.jsx)("div",{className:"panel panel-default",children:(0,n.jsx)("div",{className:"panel-heading",children:this._header(t,i,this.props.issueType,o)})},i)});return(0,n.jsx)("div",{children:t})}_header(e,t,i,s){let o,r=l()("files",e.files.length);return s&&(o=(0,n.jsxs)("span",{className:"pull-right",children:[e.files.length," ",r]})),(0,n.jsxs)("span",{className:"panel-title file-header",children:[(0,n.jsx)("h4",{className:"em-header clearfix",children:(0,n.jsxs)("strong",{className:"em-header pull-left",children:[i," ",t+1,": [Code ",e.code,"] ",e.key]})}),this._issueLink(e),e.reason,o]})}_issueLink(e){return e&&e.helpUrl?(0,n.jsx)("p",{children:(0,n.jsx)("a",{target:"_blank",href:e.helpUrl,children:"Click here for more information about this issue"})}):null}_viewMore(e,t){if(-1===this.state.showMore.indexOf(t)&&e.length>10)return(0,n.jsx)("div",{className:"issues-view-more",onClick:this._showMore.bind(this,t),children:(0,n.jsxs)("button",{children:["View ",e.length-10," more files"]})})}_showMore(e){let t=this.state.showMore;t.push(e),this.setState({showMore:t})}constructor(){super(),this.state={showMore:[],errorOpen:!1}}}h.propTypes={issues:r().array.isRequired,issueType:r().string.isRequired};class p extends s.Component{render(){let e,t,i=this.props.errors,s=this.props.warnings;if(i.length>0){let t=this._countFiles(i),s=(0,n.jsxs)("span",{children:["view ",i.length," ",l()("error",i.length)," ",this._countText(t)]});e=(0,n.jsxs)(c.Z,{className:"fadeIn upload-panel error-wrap my-3",children:[(0,n.jsx)(u.Z,{onClick:()=>this.setState({errorsOpen:!this.state.errorsOpen}),"aria-controls":"errors-issues","aria-expanded":this.state.errorsOpen,variant:"danger",className:"mb-0",children:s}),(0,n.jsx)(d.Z,{in:this.state.errorsOpen,children:(0,n.jsx)(c.Z.Body,{id:"errors-issues",children:(0,n.jsx)(h,{issues:i,issueType:"Error"})})})]},"1")}if(s.length>0){let e=this._countFiles(s),i=(0,n.jsxs)("span",{children:["view ",s.length," ",l()("warning",s.length)," ",this._countText(e)]});t=(0,n.jsxs)(c.Z,{className:"fadeIn upload-panel warning-wrap my-3",children:[(0,n.jsx)(u.Z,{onClick:()=>this.setState({warningsOpen:!this.state.warningsOpen}),"aria-controls":"warning-issues","aria-expanded":this.state.warningsOpen,variant:"warning",className:"mb-0",children:i}),(0,n.jsx)(d.Z,{in:this.state.warningsOpen,children:(0,n.jsx)(c.Z.Body,{id:"warning-issues",children:(0,n.jsx)(h,{issues:s,issueType:"Warning"})})})]},"2")}return(0,n.jsxs)("div",{children:[e,t]})}_countFiles(e){let t=0;for(let i of e)(i.files.length>1||i.files[0].file)&&(t+=i.files.length);return t}_countText(e){if(e>0)return(0,n.jsxs)("span",{children:["in ",e," ",l()("files",e)]})}constructor(){super(),this.state={warningsOpen:!1,errorsOpen:!1}}}p.propTypes={errors:r().array,warnings:r().array},p.Props={errors:[],warnings:[]};class m extends s.Component{render(){let e=(0,n.jsxs)("div",{className:"loading-wrap fadeIn",children:[(0,n.jsx)("div",{className:"spinner",children:(0,n.jsx)("div",{className:"spinnerinner"})}),(0,n.jsx)("span",{children:this.props.text})]});return this.props.active?e:null}}m.propTypes={text:r().string,active:r().bool},m.defaultProps={text:"Loading",active:!1};class _ extends s.Component{render(){let e=this._generateErrorLog(this.props.errors,this.props.warnings);return(0,n.jsxs)("a",{download:this.props.dirName+"_errors.txt",className:"error-log",target:"_blank",href:e,children:["Download error log for ",this.props.dirName]})}_generateErrorLog(e,t){let i=this._generateIssueLog(e,"Error");return"data:application/octet-stream;charset=utf-8,"+encodeURIComponent(i+=this._generateIssueLog(t,"Warning"))}_generateIssueLog(e,t){let i="";for(var n=0;n<e.length;n++){i+="File Path: "+e[n].reason+"\n\n";for(var s=0;s<e[n].files.length;s++){var o=e[n].files[s];i+="	Type:		"+t+"\n",o&&o.file&&(o.file.name&&(i+="	File:		"+o.file.name+"\n"),o.file.webkitRelativePath&&(i+="	Location:		"+o.file.webkitRelativePath+"\n"),o.reason&&(i+="	Reason:		"+o.reason+"\n"),o.line&&(i+="	Line:		"+o.line+"\n"),o.character&&(i+="	Character:	"+o.character+"\n"),o.evidence&&(i+="	Evidence:	"+o.evidence+"\n\n"))}i+="\n======================================================\n\n\n"}return i}}var y=i(74494),g=i.n(y);class v extends s.Component{render(){if(this.props.items)return this.props.items.map((e,t)=>(0,n.jsx)("li",{children:e},t))}}v.propTypes={items:r().array},v.defaultProps={items:[]};class b extends s.Component{render(){let e=this.props.summary;if(!e)return null;var t=e.sessions.length>0?e.sessions.length:1;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:this.props.dirName}),(0,n.jsx)("div",{className:"card container my-3",children:(0,n.jsxs)("div",{className:"card-header row summary p-4",children:[(0,n.jsxs)("div",{className:"col-sm",children:[(0,n.jsx)("h5",{children:"Summary"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[e.totalFiles," ",l()("File",e.totalFiles),", ",g()(e.size)]}),(0,n.jsxs)("li",{children:[e.subjects.length," -"," ",l()("Subject",e.subjects.length)]}),(0,n.jsxs)("li",{children:[t," - ",l()("Session",t)]})]})]}),(0,n.jsxs)("div",{className:"col-sm",children:[(0,n.jsx)("h5",{children:"Available Tasks"}),(0,n.jsx)("ul",{children:(0,n.jsx)(v,{items:e.tasks})})]}),(0,n.jsxs)("div",{className:"col-sm",children:[(0,n.jsx)("h5",{children:"Available Modalities"}),(0,n.jsx)("ul",{children:(0,n.jsx)(v,{items:e.modalities})})]})]})})]})}}class S extends s.Component{render(){let e,t=this.props.errors,i=this.props.warnings,s=this.props.dirName,o=0,r=0;"Invalid"!==t&&(r=(o=i.length)+" "+l()("Warning",o));let a=(0,n.jsxs)("h5",{children:["Click to view details on"," ",(0,n.jsx)("a",{href:"https://bids-specification.readthedocs.io/en/stable/",target:"_blank",children:"BIDS specification"})]}),c=(0,n.jsxs)("h4",{children:["This directory failed an initial Quick Test. This means the basic names and structure of the files and directories do not comply with BIDS specification. ",(0,n.jsx)("span",{onClick:this._reset,children:"Select a new folder"})," ","and try again."]}),d=(0,n.jsxs)("h4",{children:["We found ",r," in your dataset."]}),u=(0,n.jsx)("h4",{children:"Your dataset is not a valid BIDS dataset."}),f=(0,n.jsx)("h4",{children:"This is a valid BIDS dataset!"}),h=(0,n.jsxs)("h5",{children:["If you have any questions please post on"," ",(0,n.jsx)("a",{href:"https://neurostars.org/tags/bids",target:"_blank",children:"Neurostars"})]}),y=(0,n.jsxs)("h5",{children:["The source code for the validator can be found"," ",(0,n.jsx)("a",{href:"https://github.com/bids-standard/bids-validator",target:"_blank",children:"here"})]});e="Invalid"===t?c:t.length>0?u:i.length>0?d:f;let g=(0,n.jsx)(m,{text:"validating",active:"validating"===this.props.status}),v=(0,n.jsxs)("div",{className:"card card-header container issues my-3",children:[(0,n.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:this._reset,children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,n.jsx)(b,{summary:this.props.summary,dirName:this.props.dirName}),e,"Invalid"!==t?(0,n.jsx)(p,{errors:t,warnings:i}):null,t.length>0&&"Invalid"!==t||i.length>0?(0,n.jsx)(_,{dirName:s,errors:t,warnings:i}):null,a,h,y]});return(0,n.jsx)("div",{children:"validating"===this.props.status?g:v})}constructor(e){super(e),this._reset=this.props.reset.bind(this)}}S.propTypes={reset:r().func,errors:r().array,warnings:r().array,dirName:r().string,status:r().string},S.defaultProps={reset:()=>{},errors:[],warnings:[],dirName:"",status:""};class T extends s.Component{render(){return(0,n.jsx)("input",{type:"file",className:"dirUpload-btn",onClick:this.props.onClick,onChange:this._onFileSelect.bind(this),ref:this.fileSelectRef,directory:"",webkitdirectory:""})}_onFileSelect(e){if(e.target&&e.target.files.length>0){let t=e.target.files;this.props.onChange({list:t})}}}var I=e=>{let{setOption:t,options:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("form",{className:"options",onClick:t,children:[(0,n.jsx)("label",{children:(0,n.jsx)("strong",{children:"Options:"})}),(0,n.jsx)("input",{name:"ignoreWarnings",type:"checkbox",checked:i.ignoreWarnings,readOnly:!0}),(0,n.jsx)("label",{htmlFor:"ignoreWarnings",children:"Ignore Warnings"}),(0,n.jsx)("input",{name:"ignoreNiftiHeaders",type:"checkbox",checked:i.ignoreNiftiHeaders,readOnly:!0}),(0,n.jsx)("label",{htmlFor:"ignoreNiftiHeaders",children:"Ignore NIfTI Headers"}),(0,n.jsx)("input",{name:"ignoreSubjectConsistency",type:"checkbox",checked:i.ignoreSubjectConsistency,readOnly:!0}),(0,n.jsx)("label",{htmlFor:"ignoreSubjectConsistency",children:"Skip Subject Filename Consistency Check"})]}),(0,n.jsx)("hr",{})]})};class A extends s.Component{render(){let{options:e,handleOptionToggle:t}=this.props,i=(0,n.jsx)(m,{text:"validating",active:!0}),s=(0,n.jsxs)("div",{className:"card-header",children:[(0,n.jsxs)("h3",{children:["Select a"," ",(0,n.jsx)("a",{href:"https://bids.neuroimaging.io",target:"_blank",children:"BIDS dataset"})," ","to validate"]}),(0,n.jsx)(T,{onClick:this._clearInput,onChange:this._onChange,setRefs:this._setRefs}),(0,n.jsx)("hr",{}),(0,n.jsx)(I,{setOption:t,options:e}),(0,n.jsx)("small",{children:"Note: Selecting a dataset only performs validation. Files are never uploaded."})]});return(0,n.jsx)("div",{className:"card",children:this.props.loading?i:s})}constructor(e){super(e),this.state={loading:!1},this._clearInput=this.props.reset,this._onChange=this.props.onChange,this._setRefs=this.props.setRefs}}i(38423);var E=i(22070),C=i(55676),P=i(99787);let N=i(40619).U3.Issue;var O=function(e,t,i){let n=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(.\d+)?Z?$/,s=e[0],o=s.indexOf("acq_time"),r=e.slice(1);r.map((e,s)=>{let r=e[o],a=(0,C.Z)((0,P.Z)(r))&&n.test(r);"n/a"===r&&(a=!0),r&&!a&&i.push(new N({file:t,evidence:r,line:s+2,reason:"acq_time is not in the format yyyy-MM-ddTHH:mm:ss[.000000]",code:84}))})};let w=i(40619).U3.Issue;var j=function(e,t,i){let n=e[0],s=n.indexOf("age");for(let n=0;n<e.length;n++){let o=e[n],r=o[s];r>=89&&i.push(new w({file:t,evidence:o.join(","),line:n+1,reason:"age of participant is above 89 ",code:56}))}},L=(e,t,i)=>{e.map((n,s)=>{s!==e.findIndex(e=>e===n)&&i.push(new E.Z({file:t,evidence:V(e),line:1,reason:"Duplicate value at column #"+(s+1),code:231})),/^\s*$/.test(n)&&i.push(new E.Z({file:t,evidence:V(e),line:1,reason:"Missing value at column # "+(s+1),code:23})),"n/a"===n&&i.push(new E.Z({file:t,evidence:V(e),line:1,reason:"n/a value in header at column #"+(s+1),code:232}))})};let M=i(40619).U3.Issue;var x=function(e,t,i){let n=e[0],s=n.indexOf("status");if(-1!==s)for(let n=1;n<e.length;n++){let o=e[n],r=o[s];"good"!==r&&"bad"!==r&&"n/a"!=r&&i.push(new M({file:t,evidence:o.toString(),line:n+1,reason:"the status column values should either be good, bad, or n/a",code:125}))}};let D=i(40619).U3.Issue,k=["EEG","ECOG","SEEG","DBS","PD","OTHER","EOG","ECG","EMG","EYEGAZE","GSR","HEOG","MISC","PUPIL","RESP","TEMP","VEOG","PPG","AUDIO","REF","SYSCLOCK","TRIG","ADC","DAC","MEGMAG","MEGGRADAXIAL","MEGGRADPLANAR","MEGREFMAG","MEGREFGRADAXIAL","MEGREFGRADPLANAR","MEGOTHER","HLU","FITERR","POS","ORNT","VEL","GYRO","ACCEL","ANGACCEL","JNTANG","MAGN","LATENCY","MISC","NIRSCWAMPLITUDE","NIRSCWFLUORESCENSEAMPLITUDE","NIRSCWOPTICALDENSITY","NIRSCWHBO","NIRSCWHBR","NIRSCWMUA"];var z=function(e,t,i){let n=e[0],s=n.indexOf("type");if(-1!==s)for(let n=1;n<e.length;n++){let o=e[n],r=o[s];if("n/a"===r)continue;let a=!0;r!=r.toUpperCase()&&(a=!1),r=r.toUpperCase(),k.includes(r)?a||i.push(new D({file:t,evidence:o.join(", "),line:n+1,reason:"the type column values upper-cased",code:130})):i.push(new D({file:t,evidence:o.join(", "),line:n+1,reason:"the type column values should only consist of values specified for *_channels.tsv file",code:131}))}};let Z=e=>e.replace(/^\uFEFF/,""),R=e=>e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),F=e=>e&&!/^\s*$/.test(e);var q=function(e){let t={headers:[],rows:[]};return e=Z(e),t.rows=R(e).split("\n").filter(F).map(e=>e.split("	")),t.headers=t.rows.length?t.rows[0]:[],t};let G=i(40619).U3.Issue,U=["x","y","z","quat_x","quat_y","quat_z","quat_w","n/a"];var $=function(e,t,i){let n=e[0],s=n.indexOf("component");1!=s&&i.push(new G({file:t,evidence:n.join(","),line:0,reason:"Component found on column ".concat(s+1,"."),code:235}));for(let n=1;n<e.length;n++){let o=e[n],r=o[s];U.includes(r)||i.push(new G({file:t,evidence:o.join(","),line:n+1,reason:"Found value ".concat(r),code:236}))}},B=i(3214);let V=e=>"Column headers: ".concat(e.join(", ")),H=e=>"Filename: ".concat(e);var W=(e,t,i,n)=>{let s=[],o=[];if(t.includes("\r")&&!t.includes("\n")){s.push(new E.Z({file:e,evidence:t,code:70})),n(s,null);return}let{headers:r,rows:a}=q(t),l=!1,c=!1,d=!1;L(r,e,s);for(let t=1;t<a.length;t++){let i=a[t],n="row ".concat(t,": ").concat(i.join("	"));if(!(1===i.length&&/^\s*$/.test(i[0]))){if(l&&c&&d)break;i.length===r.length||l||(l=!0,s.push(new E.Z({file:e,evidence:n,line:t+1,code:22})));for(let o=0;o<i.length;o++){let r=i[o];if(l&&c&&d)break;""!==r||c?"NA"!==r&&"na"!==r&&"nan"!==r&&"NaN"!==r||d||(d=!0,s.push(new E.Z({file:e,evidence:n,line:t+1,reason:"Missing value at column # "+(o+1),code:24}))):(c=!0,s.push(new E.Z({file:e,evidence:n,line:t+1,reason:"Missing value at column # "+(o+1),code:23})))}}}let u=function(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=n;r.includes(e)&&o&&(l=o),r[t]!==e&&s.push(new E.Z({file:i,evidence:V(r),line:1,character:a[0].indexOf(r[t]),code:l}))};if(e.name.endsWith("_events.tsv")){(0==r.length||"onset"!==r[0])&&s.push(new E.Z({file:e,evidence:V(r),line:1,code:20})),(r.length<2||"duration"!==r[1].trim())&&s.push(new E.Z({file:e,evidence:V(r),line:1,code:21}));let t=[];for(let e in i)i.hasOwnProperty(e)&&t.push(i[e].relativePath);let n=[];if(r.indexOf("stim_file")>-1)for(let i=0;i<a.length;i++){let l=a[i][r.indexOf("stim_file")],c="/stimuli/"+l;l&&"n/a"!==l&&"stim_file"!==l&&-1==n.indexOf(l)&&(n.push(l),o.push(c),-1==t.indexOf(c)&&s.push(new E.Z({file:e,evidence:l,reason:"A stimulus file ("+l+") was declared but not found in /stimuli.",line:i+1,character:a[i].indexOf(l),code:52})))}}let f=null;if("participants.tsv"===e.name||e.relativePath.includes("phenotype/")){let t=r.indexOf("participant_id");if(-1===t)s.push(new E.Z({file:e,evidence:V(r),line:1,code:48}));else{f=[];for(let i=1;i<a.length;i++){let n=a[i];if(!n||/^\s*$/.test(n))continue;n[t].startsWith("sub-")||s.push(new E.Z({file:e,evidence:V(r),reason:"Participant_id column should be named as sub-<subject_id>.",line:i,code:212}));let o=n[t].replace("sub-","");"emptyroom"!=o&&f.push(o)}}}let h=null;if("samples.tsv"===e.name){let t=[],i=[],n=[],o=r.indexOf("sample_id"),l=r.indexOf("participant_id"),c=r.indexOf("sample_type");if(-1===o&&t.push(new E.Z({file:e,evidence:V(r),line:1,code:216})),-1===l&&t.push(new E.Z({file:e,evidence:V(r),line:1,code:217})),-1===c&&t.push(new E.Z({file:e,evidence:V(r),line:1,code:218})),s.push(...t),0===t.length){h=[];for(let t=1;t<a.length;t++){let n=a[t];!(!n||/^\s*$/.test(n))&&(i.push(n[o]),n[o].startsWith("sample-")||s.push(new E.Z({file:e,evidence:n[o],reason:"sample_id column should be named as sample-<sample_id>.",line:t,code:215})))}f=[];for(let t=1;t<a.length;t++){let i=a[t];if(!i||/^\s*$/.test(i))continue;n.push(i[l]),i[l].startsWith("sub-")||s.push(new E.Z({file:e,evidence:i[l],reason:"Participant_id column should be named as sub-<subject_id>.",line:t,code:212}));let r=i[o].replace("sample-","");"emptyroom"!=r&&h.push(r)}let t=new Set;for(let o=0;o<a.length-1;o++){let r=i[o].concat(n[o]);if(t.has(r)){s.push(new E.Z({file:e,evidence:i,reason:"Each sample from a same subject MUST be described by one and only one row.",line:1,code:220}));break}t.add(r)}}if(-1!==c){let t=["cell line","in vitro differentiated cells","primary cell","cell-free sample","cloning host","tissue","whole organisms","organoid","technical sample"];for(let i=1;i<a.length;i++){let n=a[i];t.includes(n[c])||s.push(new E.Z({file:e,evidence:n[c],reason:"sample_type can't be any value.",line:i+1,code:219}))}}}if(e.relativePath.includes("/meg/")&&e.name.endsWith("_channels.tsv")&&(u("name",0,e,71,230),u("type",1,e,71,230),u("units",2,e,71,230),x(a,e,s),z(a,e,s)),e.relativePath.includes("/eeg/")&&e.name.endsWith("_channels.tsv")&&(u("name",0,e,71,230),u("type",1,e,71,230),u("units",2,e,71,230),x(a,e,s),z(a,e,s)),e.relativePath.includes("/ieeg/")&&e.name.endsWith("_channels.tsv")&&(u("name",0,e,72,229),u("type",1,e,72,229),u("units",2,e,72,229),u("low_cutoff",3,e,72,229),u("high_cutoff",4,e,72,229),x(a,e,s),z(a,e,s)),e.relativePath.includes("/motion/")&&e.name.endsWith("_channels.tsv")){let t=["component","name","tracked_point","type","units"].filter(e=>!r.includes(e));t.length&&s.push(new E.Z({line:1,file:e,code:129,evidence:"Missing Columns: ".concat(t.join(", "))})),x(a,e,s),z(a,e,s),$(a,e,s)}if(e.relativePath.includes("/nirs/")&&e.name.endsWith("_channels.tsv")&&(u("name",0,e,234),u("type",1,e,234),u("source",2,e,234),u("detector",3,e,234),u("wavelength_nominal",4,e,234),u("units",5,e,234),x(a,e,s),z(a,e,s)),e.relativePath.includes("/eeg/")&&e.name.endsWith("_electrodes.tsv")&&(u("name",0,e,96),u("x",1,e,96),u("y",2,e,96),u("z",3,e,96)),e.relativePath.includes("/ieeg/")&&e.name.endsWith("_electrodes.tsv")&&(u("name",0,e,73),u("x",1,e,73),u("y",2,e,73),u("z",3,e,73),u("size",4,e,73)),e.relativePath.includes("/nirs/")&&e.name.endsWith("_optodes.tsv")&&(u("name",0,e,233),u("type",1,e,233),u("x",2,e,233),u("y",3,e,233),u("z",4,e,233)),e.relativePath.includes("/pet/")&&e.name.endsWith("_blood.tsv")&&u("time",0,e,126),"participants.tsv"===e.name&&j(a,e,s),e.name.endsWith("_scans.tsv")){let t=B.dirname(e.relativePath),n=e.name.split("_").slice(0,1),o="/"+n,l=[];for(let e of Object.values(i)){let t=e.relativePath;if(t.startsWith(o)){if(t.includes(".ds/")||t.includes("_meg/")){let e=B.dirname(t);l.push(e)}else if(t.includes("_ieeg.mefd/")){let e=t.substring(0,t.indexOf("_ieeg.mefd/")+10);l.includes(e)||l.push(e)}else l.push(t)}}if(r.indexOf("filename")>-1){let i=r.indexOf("filename");for(let n=1;n<a.length;n++){let o=a[n],r=o[i],c=t+"/"+r;l.includes(c)||s.push(new E.Z({line:n,file:e,code:129,evidence:H(c)}))}}else s.push(new E.Z({line:1,file:e,evidence:V(r),code:68}));r.indexOf("acq_time")>-1&&O(a,e,s)}n(s,f,o)},Y=i(40619);let J=Y.ZP.issues.Issue,X=(e,t)=>{let i=t.slice(),n=Y.ZP.array.diff(e,i),s=n[0],o=n[1],r=o.length?"Subjects "+o.join(", ")+" were found in the folder structure but are missing in phenotype/ .tsv. ":"",a=s.length?"Subjects "+s.join(", ")+" were found in phenotype/ .tsv file but are not present in the folder structure. ":"";return r+a};var K=JSON.parse('{"channels":["description","high_cutoff","low_cutoff","name","notch","source","detector","wavelength_actual","wavelength_nominal","wavelength_emission_actual","component","short_channel","sampling_frequency","software_filters","status","status_description","type","units","reference","group","tracking_system","tracked_point","component","placement"],"electrodes":["name","x","y","z","size","material","manufacturer","group","hemisphere","type","impedance","dimension"],"optodes":["name","type","x","y","z","template_x","template_y","template_z","source_type","detector_type"],"events":["duration","HED","onset","trial_type","response_time","stim_file"],"misc":[],"participants":["participant_id"],"phenotype":["participant_id"],"scans":["acq_time","filename"],"sessions":["acq_time","session_id"],"aslcontext":["volume_type"],"blood":["time","plasma_radioactivity","whole_blood_radioactivity","metabolite_parent_fraction","hplc_recovery_fractions"],"nirs":["name","type","source","detector","wavelength_nominal","units","sampling_frequency","component","wavelength_actual","description","wavelength_emission_actual","short_channel","status","status_description"]}');let Q=Y.ZP.issues.Issue,ee=function(e){let t="misc";if(e.relativePath.includes("phenotype/"))t="phenotype";else if("participants.tsv"===e.name)t="participants";else if(e.name.endsWith("_channels.tsv")||e.name.endsWith("_electrodes.tsv")||e.name.endsWith("_events.tsv")||e.name.endsWith("_scans.tsv")||e.name.endsWith("_sessions.tsv")||e.name.endsWith("_aslcontext.tsv")||e.name.endsWith("_blood.tsv")||e.name.endsWith("_optodes.tsv")){let i=e.name.split("_");t=i[i.length-1].replace(".tsv","")}return t},et=e=>e.replace(/^\uefff/,"").split("\n")[0].trim().split("	"),ei=function(e,t){let i=[];for(let n of e)K[t].includes(n)||i.push(n);return i},en=e=>e.map(e=>'"'.concat(e,'"')).join(", "),es=e=>{let t={},n={blood:()=>i(60524)},s=new Set(e.map(e=>ee(e.file)));return s.forEach(e=>{n.hasOwnProperty(e)&&(t[e]=n[e]())}),t},eo=(e,t,i)=>{let n=[],s=et(e.contents),o={};return Object.entries(i.properties).forEach(e=>{let[i,n]=e;n.hasOwnProperty("requires_tsv_non_custom_columns")&&!0===t[i]&&n.requires_tsv_non_custom_columns.forEach(e=>{e in o?o[e].push(i):o[e]=[i]})}),Object.entries(o).forEach(t=>{let[i,o]=t;s.includes(i)||n.push(new Q({code:211,file:e.file,evidence:"".concat(e.file.name," has headers: ").concat(en(s),'; missing header "').concat(i,'", which is required when any of the properties (').concat(en(o),") are true in the associated JSON sidecar.")}))}),n},er=(e,t,i)=>{let n=[];return e.map(e=>{let s=i.filter(e=>{let t=e[0];return t.relativePath.includes("_asl")});s.forEach(i=>{let s=i[0],o=i[1],r=o.dim,a=r[4],l=Y.ZP.files.potentialLocations(s.relativePath.replace(".gz","").replace("asl.nii","aslcontext.tsv")),c=l.indexOf(e.file.relativePath);if(c>-1){let i=e.contents.replace(/[\r]+/g,"").split("\n").filter(e=>!(!e||/^\s*$/.test(e))),o=["m0scan"],r=i.filter(e=>o.includes(e)),l=["cbf","m0scan","label","control","deltam","volume_type"],c=i.filter(e=>l.includes(e));i.length!=c.length&&n.push(new Q({code:176,file:s})),i.length-1!=a&&n.push(new Q({code:165,file:s}));var d=Y.ZP.files.potentialLocations(e.file.relativePath.replace("aslcontext.tsv","asl.json"));let u=Y.ZP.files.generateMergedSidecarDict(d,t);if(u.hasOwnProperty("M0Type")&&"Included"===u.M0Type&&r.length<1&&n.push(new Q({file:s,code:154,reason:"''M0Type' is set to 'Included' however the tsv file does not contain any m0scan volume."})),u.hasOwnProperty("M0Type")&&"Absent"===u.M0Type&&r.length>=1&&n.push(new Q({file:s,code:199,reason:"''M0Type' is set to 'Absent' however the tsv file contains an m0scan volume. This should be avoided."})),u.hasOwnProperty("FlipAngle")&&u.FlipAngle.constructor===Array){let e=u.FlipAngle,t=e.length;t!==i.length-1&&n.push(new Q({file:s,code:172,reason:"''FlipAngle' for this file does not match the TSV length. Please make sure that the size of the FlipAngle array in the json corresponds to the number of volume listed in the tsv file."}))}if(u.hasOwnProperty("LabelingDuration")&&u.LabelingDuration.constructor===Array&&u.hasOwnProperty("ArterialSpinLabelingType")&&("CASL"==u.ArterialSpinLabelingType||"PCASL"==u.ArterialSpinLabelingType)){let e=u.LabelingDuration,t=e.length;t!==i.length-1&&n.push(new Q({file:s,code:175,reason:"''LabelingDuration' for this file does not match the TSV length. Please be sure that the size of the LabelingDuration array in the json corresponds to the number of volume listed in the tsv file."}))}if(u.hasOwnProperty("RepetitionTimePreparation")&&u.RepetitionTimePreparation.constructor===Array){let e=u.RepetitionTimePreparation,t=e.length;t!==i.length-1&&n.push(new Q({file:s,code:177,reason:"''RepetitionTimePreparation' for this file do not match the TSV length. Please be sure that the size of the RepetitionTimePreparation array in the json corresponds to the number of volume listed in the tsv file."}))}if(u.hasOwnProperty("PostLabelingDelay")&&u.PostLabelingDelay.constructor===Array){let e=u.PostLabelingDelay,t=e.length;t!==i.length-1&&n.push(new Q({file:s,code:174,reason:"''PostLabelingDelay' for this file do not match the TSV length. Please be sure that the size of the PostLabelingDelay array in the json corresponds to the number of volume listed in the tsv file."}))}if(u.hasOwnProperty("TotalAcquiredVolumes")){let e=u.TotalAcquiredVolumes,t=e.length;t!==i.length-1&&n.push(new Q({file:s,code:181,reason:"''TotalAcquiredVolumes' for this file do not match the TSV length. Please be sure that the size of the TotalAcquiredVolumes array in the json corresponds to the number of volume listed in the tsv file."}))}if(u.hasOwnProperty("EchoTime")&&u.EchoTime.constructor===Array){let e=u.EchoTime,t=e.length;t!==i.length-1&&n.push(new Q({file:s,code:196,reason:"''EchoTime' for this file do not match the TSV length. Please be sure that the size of the EchoTime array in the json corresponds to the number of volume listed in the tsv file."}))}}})}),n},ea=Y.ZP.issues.Issue;var el={TSV:W,checkPhenotype:(e,t)=>{let i=[];for(let n=0;n<e.length;n++){let s=e[n],o=s.list.sort(),r=t.subjects.sort();if(!Y.ZP.array.equals(o,r)){let e=X(o,r);i.push(new J({code:51,evidence:e,file:s.file}))}}return i},validateTsvColumns:function(e,t,i){let n=[],s=es(e);e.map(e=>{let i=ee(e.file),o=ei(et(e.contents),i),r="blood"===i;if(o.length>0||r){var a;let i=Y.ZP.files.potentialLocations(e.file.relativePath.replace(".tsv",".json")),l=Y.ZP.files.generateMergedSidecarDict(i,t),c=Object.keys(l),d=o.filter(e=>!c.includes(e));if(d.length&&n.push((a=e.file,new Q({code:82,file:a,evidence:"Columns: "+d.join(", ")+" not defined, please define in: "+i.toString().replace(",",", ")}))),r){let t=eo(e,l,s.blood);n.push(...t)}}});let o=er(e,t,i);return n.push(...o),n},validate:(e,t,i,n,s,o,r,a,l)=>{let c=[],d="",u=e.map(function(e){return Y.ZP.limit(()=>Y.ZP.files.readFile(e,a,l).then(s=>{i.push({file:e,contents:s}),e.name.endsWith("_events.tsv")&&n.push({file:e,path:e.relativePath,contents:s}),W(e,s,t,function(t,i,n){i&&(e.name.endsWith("participants.tsv")?d=s:e.relativePath.includes("phenotype/")&&o.push({list:i,file:e})),n&&n.length&&(r.events=[...new Set([...r.events,...n])]),c=c.concat(t)})}))});return Promise.all(u).then(()=>({tsvIssues:c,participantsTsvContent:d}))},checkAge89:j,checkAcqTimeFormat:O,validateContRec:function(e,t){let i=[];return e.map(e=>{let n=Y.ZP.files.potentialLocations(e.relativePath.replace(".tsv.gz",".json")),s=Y.ZP.files.generateMergedSidecarDict(n,t);0===Object.values(s).length&&i.push(new ea({file:e,code:170}))}),i}},ec=i(64174),ed=i.n(ec);let eu=new(ed())({allErrors:!0});eu.addMetaSchema(i(86237)),eu.addSchema(i(38205));let ef=Y.ZP.issues.Issue;function eh(e,t,i){let n=[],s=Y.ZP.files.potentialLocations(e.relativePath),o=Y.ZP.files.generateMergedSidecarDict(s,t);o&&(n=(n=n.concat(function(e,t){let i=[],n=em(e);return(i=(i=(i=(i=(i=i.concat(e_(e,t,n))).concat(ey(e,t,{field:"RepetitionTime",min:100},2))).concat(ey(e,t,{field:"EchoTime",min:1},3))).concat(ey(e,t,{field:"EchoTime1",min:1},4))).concat(ey(e,t,{field:"EchoTime2",min:1},4))).concat(ey(e,t,{field:"TotalReadoutTime",min:10},5))}(e,o))).concat(ep(e,o))),i(n,o)}let ep=(e,t)=>{let i=[];return t.hasOwnProperty("TotalReadoutTime")&&t.hasOwnProperty("EffectiveEchoSpacing")&&t.TotalReadoutTime<t.EffectiveEchoSpacing&&i.push(new ef({file:e,code:93})),i},em=e=>{let t=null;return e.name&&(e.name.endsWith("participants.json")?t=i(80734):e.name.endsWith("bold.json")||e.name.endsWith("sbref.json")?t=i(60139):e.name.endsWith("asl.json")?t=i(61555):e.name.endsWith("pet.json")?t=i(49885):e.name.endsWith("nirs.json")?t=i(87618):"/dataset_description.json"===e.relativePath?t=i(41045):e.name.endsWith("meg.json")?t=i(97325):e.name.endsWith("ieeg.json")?t=i(61983):e.name.endsWith("eeg.json")?t=i(98876):e.name.endsWith("TEM.json")||e.name.endsWith("SEM.json")||e.name.endsWith("uCT.json")||e.name.endsWith("BF.json")||e.name.endsWith("DF.json")||e.name.endsWith("PC.json")||e.name.endsWith("DIC.json")||e.name.endsWith("FLUO.json")||e.name.endsWith("CONF.json")||e.name.endsWith("PLI.json")||e.name.endsWith("CARS.json")||e.name.endsWith("2PE.json")||e.name.endsWith("MPE.json")||e.name.endsWith("SR.json")||e.name.endsWith("NLO.json")||e.name.endsWith("OCT.json")||e.name.endsWith("SPIM.json")?t=i(9430):e.relativePath.includes("/micr")&&e.name.endsWith("photo.json")?t=i(97100):e.relativePath.includes("/meg/")&&e.name.endsWith("coordsystem.json")?t=i(66829):e.relativePath.includes("/ieeg/")&&e.name.endsWith("coordsystem.json")?t=i(920):e.relativePath.includes("/eeg/")&&e.name.endsWith("coordsystem.json")?t=i(7735):e.relativePath.includes("/nirs/")&&e.name.endsWith("coordsystem.json")?t=i(39890):e.name.endsWith("genetic_info.json")?t=i(87140):e.relativePath.includes("/pet/")&&e.name.endsWith("blood.json")?t=i(60524):e.name.endsWith("physio.json")||e.name.endsWith("stim.json")?t=i(83737):e.name.endsWith("events.json")?t=i(27298):e.name.endsWith("beh.json")?t=i(73791):e.name.endsWith("_motion.json")?t=i(29435):e.name.endsWith("_channels.json")&&(t=i(27364))),t},e_=(e,t,i)=>{let n=[];if(i){let s=eu.compile(i),o=s(t);o||s.errors.map(t=>n.push(new ef({file:e,code:55,evidence:t.dataPath+" "+t.message})))}return n},ey=(e,t,i,n)=>{let s=[],o=i.field,r=i.min;return t.hasOwnProperty(o)&&t[o]>r&&s.push(new ef({code:n,file:e})),s},eg=Y.ZP.issues.Issue,ev=(e,t,i)=>{e.name.indexOf("task")>-1&&t&&t.TaskName&&-1===i.tasks.indexOf(t.TaskName)&&i.tasks.push(t.TaskName)},eb=(e,t,i)=>{let n=e.relativePath.split("/"),s=!!n[1].includes("sub-")&&n.length>3;if(s){let n=Y.ZP.bids_files.checkSidecarForDatafiles(e,t);n||i.push(new eg({code:90,file:e}))}};class eS extends Error{constructor(e){super(e),this.name="JSONParseError"}}var eT={json:eh,validate:(e,t,i,n)=>{let s=[],o=e.map(function(e){return Y.ZP.limit(()=>new Promise(o=>{eb(e,t,s),eh(e,i,(t,i)=>(s=s.concat(t),ev(e,i,n),o()))}))});return new Promise(e=>Promise.all(o).then(()=>e(s)))},load:(e,t,i,n,s)=>{let o=[],r=(e,n,s)=>Y.ZP.files.readFile(e,n,s).then(t=>Y.ZP.json.parse(e,t)).then(n=>{let{issues:s,parsed:r}=n;if(Array.prototype.push.apply(o,s),s&&s.some(e=>"error"===e.severity))throw new eS("Aborted due to parse error");i[e.relativePath]=r,t.push(e)}),a=e.map(e=>Y.ZP.limit(()=>r(e,n,s)));return Promise.all(a).then(()=>o).catch(e=>{if(e instanceof eS)return o;throw e})}};let eI=Y.ZP.issues.Issue;function eA(e,t,i,n,s,o,r){let a,l;let c=t.relativePath,d=[],u=Y.ZP.files.potentialLocations(c.replace(".gz","").replace(".nii",".json")),f=Y.ZP.files.potentialLocations(c.replace(".gz","").replace("bold.nii","events.tsv")),h=c.replace("_asl.nii","_m0scan.nii"),p=Y.ZP.files.generateMergedSidecarDict(u,i),m="It can be included one of the following locations: "+u.join(", "),_="It can be included one of the following locations: "+f.join(", ");if(c.includes("_asl.nii")){if(p.hasOwnProperty("MagneticFieldStrength")||d.push(new eI({file:t,code:182,reason:"You must define 'MagneticFieldStrength' for this file. It is required for perfusion quantification, to infer default relaxation values for blood/tissue."+m})),p.hasOwnProperty("Manufacturer")||d.push(new eI({file:t,code:164,reason:"You should define 'Manufacturer' for this file. This may reflect site differences in multi-site study (especially readout differences, but perhaps also labeling differences). "+m})),p.hasOwnProperty("ArterialSpinLabelingType")||d.push(new eI({file:t,code:133,reason:"You should define 'ArterialSpinLabelingType' for this file. If you don't provide this information CBF quantification will not be possible. "+m})),p.hasOwnProperty("MRAcquisitionType")||d.push(new eI({file:t,code:155,reason:"You should define 'MRAcquisitionType' for this file. If you don't provide this information CBF quantification will not be possible. "+m})),p.hasOwnProperty("ArterialSpinLabelingType")&&p.ArterialSpinLabelingType.constructor===String){let i=p.ArterialSpinLabelingType;if("PASL"==i){if(p.hasOwnProperty("LabelingSlabThickness")||d.push(new eI({file:t,code:142,reason:"You should define 'LabelingSlabThickness' for this file. "+m})),p.hasOwnProperty("BolusCutOffFlag")||d.push(new eI({file:t,code:147,reason:"You should define 'BolusCutOffFlag' for this file. "+m})),p.hasOwnProperty("BolusCutOffFlag")&&p.BolusCutOffFlag.constructor===Boolean){let e=p.BolusCutOffFlag;if(!0!==e||p.hasOwnProperty("BolusCutOffDelayTime")){if(!0===e&&p.hasOwnProperty("BolusCutOffDelayTime")&&p.BolusCutOffDelayTime.constructor===Number&&p.BolusCutOffDelayTime>10)d.push(new eI({file:t,code:186,reason:"'BolusCutOffDelayTime' is greater than 10, are you sure it's expressed in seconds? "}));else if(!0===e&&p.hasOwnProperty("BolusCutOffDelayTime")&&p.BolusCutOffDelayTime.constructor===Array){let e=p.BolusCutOffDelayTime,i=e.filter(e=>e>10);i.length>0&&d.push(new eI({file:t,code:186,reason:"Some values of the 'BolusCutOffDelayTime' array you defined are greater than 10, are you sure they are expressed in seconds? "}))}}else d.push(new eI({file:t,code:149,reason:"You should define 'BolusCutOffDelayTime' for this file."+m}));if(p.hasOwnProperty("BolusCutOffDelayTime")&&p.BolusCutOffDelayTime.constructor===Array){let e=p.BolusCutOffDelayTime,i=eP(e);i||d.push(new eI({file:t,code:192,reason:"'BolusCutOffDelayTime' should be monotonically increasing."}))}!0!==e||p.hasOwnProperty("BolusCutOffTechnique")||d.push(new eI({file:t,code:150,reason:"You should define 'BolusCutOffTechnique' for this file."+m}))}if(p.hasOwnProperty("CASLType")||p.hasOwnProperty("PCASLType")||p.hasOwnProperty("LabelingPulseAverageGradient")||p.hasOwnProperty("LabelingPulseMaximumGradient")||p.hasOwnProperty("LabelingPulseAverageB1")||p.hasOwnProperty("LabelingPulseDuration")||p.hasOwnProperty("LabelingPulseFlipAngle")||p.hasOwnProperty("LabelingPulseInterval")||p.hasOwnProperty("LabelingDuration")){var y="",g="",v="",b="",S="",T="",I="",A="",E="";p.hasOwnProperty("CASLType")&&(y="'CASLType', "),p.hasOwnProperty("PCASLType")&&(g="'PCASLType', "),p.hasOwnProperty("LabelingPulseAverageGradient")&&(v="'LabelingPulseAverageGradient', "),p.hasOwnProperty("LabelingPulseMaximumGradient")&&(b="'LabelingPulseMaximumGradient', "),p.hasOwnProperty("LabelingPulseAverageB1")&&(S="'LabelingPulseAverageB1', "),p.hasOwnProperty("LabelingPulseDuration")&&(T="'LabelingPulseDuration', "),p.hasOwnProperty("LabelingPulseFlipAngle")&&(I="'LabelingPulseFlipAngle', "),p.hasOwnProperty("LabelingPulseInterval")&&(A="'LabelingPulseInterval', "),p.hasOwnProperty("LabelingDuration")&&(E="'LabelingDuration', "),d.push(new eI({file:t,code:190,reason:"You defined one of the not allowed fields in case PASL 'ArterialSpinLabelingType'. Please verify "+y+g+v+b+S+T+I+A+E+" and change accordingly."}))}}if("CASL"==i||"PCASL"==i){if("CASL"==i&&p.hasOwnProperty("PCASLType")&&d.push(new eI({file:t,code:191,reason:"You defined the 'PCASLType' with a CASL 'LabellingType'. This is not allowed."})),"PCASL"==i&&p.hasOwnProperty("CASLType")&&d.push(new eI({file:t,code:191,reason:"You defined the 'CASLType' with a PCASL 'LabellingType'. This is not allowed."})),p.hasOwnProperty("PASLType")||p.hasOwnProperty("LabelingSlabThickness")||p.hasOwnProperty("BolusCutOffFlag")||p.hasOwnProperty("BolusCutOffTimingSequence")||p.hasOwnProperty("BolusCutOffDelayTime")||p.hasOwnProperty("BolusCutOffTechnique")){var C="",P="",N="",O="",w="",j="";p.hasOwnProperty("PASLType")&&(C=" 'PASLType', "),p.hasOwnProperty("LabelingSlabThickness")&&(P=" 'LabelingSlabThickness', "),p.hasOwnProperty("BolusCutOffFlag")&&(N=" 'BolusCutOffFlag', "),p.hasOwnProperty("BolusCutOffTimingSequence")&&(O=" 'BolusCutOffTimingSequence', "),p.hasOwnProperty("BolusCutOffDelayTime")&&(w=" 'BolusCutOffDelayTime', "),p.hasOwnProperty("BolusCutOffTechnique")&&(j=" 'BolusCutOffTechnique', "),d.push(new eI({file:t,code:189,reason:"You defined one of the not allowed fields in case of CASL or PCASL 'ArterialSpinLabelingType'. Please verify "+C+P+N+O+w+j+" and change accordingly."}))}if(p.hasOwnProperty("LabelingDuration")){if(e&&p.LabelingDuration.constructor===Array){let i=p.LabelingDuration,n=i.length,s=e.dim[4];n!==s&&d.push(new eI({file:t,code:157,reason:"'LabelingDuration' for this file does not match the 4th dimension of the NIFTI header. "}));let o=i.filter(e=>e>10);o.length>0&&d.push(new eI({file:t,code:187,reason:"In the 'LabelingDuration' array some values are greater than 10, are you sure they are expressed in seconds? "}))}p.LabelingDuration.constructor===Number&&p.LabelingDuration>10&&d.push(new eI({file:t,code:187,reason:"'LabelingDuration' is greater than 10, are you sure it's expressed in seconds?"}))}else d.push(new eI({file:t,code:134,reason:"You should define 'LabelingDuration' for this file. If you don't provide this information CBF quantification will not be possible. LabelingDuration is the total duration, in seconds, of the labeling pulse train. "+m}))}}if(p.hasOwnProperty("PostLabelingDelay")){if(p.PostLabelingDelay.constructor===Number&&p.PostLabelingDelay>10&&d.push(new eI({file:t,code:184,reason:"'PostLabelingDelay' is greater than 10, are you sure it's expressed in seconds?"})),e&&p.PostLabelingDelay.constructor===Array){let i=p.PostLabelingDelay,n=i.length,s=e.dim[4];n!==s&&d.push(new eI({file:t,code:173,reason:"'PostLabelingDelay' for this file does not match the 4th dimension of the NIFTI header. "}));let o=i.filter(e=>e>10);o.length>0&&d.push(new eI({file:t,code:184,reason:"In the 'PostLabelingDelay' array some values are greater than 10, are you sure they are expressed in seconds? "}))}}else d.push(new eI({file:t,code:135,reason:"You should define 'PostLabelingDelay' for this file. If you don't provide this information CBF quantification will not be possible. "+m}));if(p.hasOwnProperty("BackgroundSuppression")||d.push(new eI({file:t,code:136,reason:"You should define 'BackgroundSuppression' for this file. If you don't provide this information CBF quantification will be biased. "+m})),p.hasOwnProperty("BackgroundSuppression")&&(!0!=p.BackgroundSuppression||(p.hasOwnProperty("BackgroundSuppressionPulseTime")||d.push(new eI({file:t,code:144,reason:"You should define 'BackgroundSuppressionPulseTime' for this file. "+m})),p.hasOwnProperty("BackgroundSuppressionNumberPulses")||d.push(new eI({file:t,code:179,reason:"You should define 'BackgroundSuppressionNumberPulses' for this file. "+m}))),p.hasOwnProperty("BackgroundSuppressionNumberPulses")&&p.hasOwnProperty("BackgroundSuppressionPulseTime"))){var L=p.BackgroundSuppressionNumberPulses,M=p.BackgroundSuppressionPulseTime;let e=M.length;L!==e&&d.push(new eI({file:t,code:180,reason:"The BackgroundSuppressionNumberPulses is "+L+" however the array BackgroundSuppressionPulseTime array has "+e+" values. Please check the discrepancy between this two values that must coincides."+m}))}if(p.hasOwnProperty("VascularCrushing")||d.push(new eI({file:t,code:137,reason:"You should define 'VascularCrushing' for this file. It indicates if an ASL crusher method has been used. If you don't provide this information CBF quantification could be biased. "+m})),p.hasOwnProperty("VascularCrushing")&&p.VascularCrushing.constructor===Boolean&&p.VascularCrushing&&!p.hasOwnProperty.VascularCrushingVENC&&d.push(new eI({file:t,code:145,reason:"You should define 'VascularCrushingVENC' for this file. "+m})),p.hasOwnProperty("PulseSequenceDetails")||d.push(new eI({file:t,code:138,reason:"You should define 'PulseSequenceDetails' for this file including information beyond pulse sequence type that identifies the specific pulse sequence used. "+m})),p.hasOwnProperty("M0Type")){if(p.hasOwnProperty("M0Type")&&p.M0Type.constructor===String){let e=p.M0Type;switch(e){case"Separate":eE(h,s,d,t)||d.push(new eI({file:t,code:202,reason:"'M0Type' property of this asl ('"+t.relativePath+"') does not point to an existing file('"+h+"'). Please mind that this value should not include subject level directory ('/"+t.relativePath.split("/")[1]+"/').",evidence:h})),eC(h,d,t);break;case"Included":break;case"Estimate":p.hasOwnProperty("M0Estimate")||d.push(new eI({file:t,code:195,reason:"You set the 'M0Type' to 'Estimate', therefore you should also define 'M0Estimate' for this file.  "+m}));break;case"Absent":(eE(h,s,d,t)||p.hasOwnProperty("M0Estimate"))&&d.push(new eI({file:t,code:198,reason:"You set the 'M0Type' to 'Absent', you should avoid to define 'M0Estimate' or to include an [_m0scan.nii.gz] for this file.  "+m}))}}}else d.push(new eI({file:t,code:153,reason:"You should define 'M0Type' for this file.  "+m}));if(p.hasOwnProperty("FlipAngle")){if(e&&p.FlipAngle.constructor===Array){let i=p.FlipAngle,n=i.length,s=e.dim[4];n!==s&&d.push(new eI({file:t,code:168,reason:"'FlipAngle' for this file do not match the 4th dimension of the NIFTI header. "+m}))}}else p.hasOwnProperty("LookLocker")&&p.LookLocker?d.push(new eI({file:t,code:166,reason:"In case of a LookLocker acquisition you must define 'FlipAngle' for this file.  "+m})):d.push(new eI({file:t,code:167,reason:"You should define 'FlipAngle' for this file.  "+m}))}if(c.includes("_asl.nii")||c.includes("_m0scan.nii")){if(p.hasOwnProperty("AcquisitionVoxelSize")?3!=p.AcquisitionVoxelSize.length&&d.push(new eI({file:t,code:156,reason:"The 'AcquisitionVoxelSize' field length is not 3. AcquisitionVoxelSize must be defined as a vector of length 3.  "+m})):d.push(new eI({file:t,code:143,reason:"You should define 'AcquisitionVoxelSize' for this file.  "+m})),p.hasOwnProperty("RepetitionTimePreparation")){if(e&&p.hasOwnProperty("RepetitionTimePreparation")&&p.RepetitionTimePreparation.constructor===Array){let i=p.RepetitionTimePreparation,n=e.dim[4];i.length!==n&&d.push(new eI({file:t,code:201,evidence:"RepetitionTimePreparation array is of length "+i.length+" for this file and does not match the 4th dimension of the NIFTI header."+m}))}}else d.push(new eI({file:t,code:200,reason:"'RepetitionTimePreparation' must be defined for this file. "+m}))}if(c.includes("_dwi.nii")){let i=Y.ZP.files.potentialLocations(c.replace(".gz","").replace(".nii",".bvec")),s=Y.ZP.files.potentialLocations(c.replace(".gz","").replace(".nii",".bval")),o=Y.ZP.files.getBFileContent(i,n),r=Y.ZP.files.getBFileContent(s,n),a="It can be included in one of the following locations: "+i.join(", "),l="It can be included in one of the following locations: "+s.join(", ");if(o||d.push(new eI({code:32,file:t,reason:"_dwi scans should have a corresponding .bvec file. "+a})),r||d.push(new eI({code:33,file:t,reason:"_dwi scans should have a corresponding .bval file. "+l})),r&&o&&e&&3===o.replace(/^\s+|\s+$/g,"").split("\n").length){let i=[o.split("\n")[0].replace(/^\s+|\s+$/g,"").split(" ").length,o.split("\n")[1].replace(/^\s+|\s+$/g,"").split(" ").length,o.split("\n")[2].replace(/^\s+|\s+$/g,"").split(" ").length,r.replace(/^\s+|\s+$/g,"").split(" ").length,e.dim[4]];i.every(function(e){return e===i[0]})||d.push(new eI({code:29,file:t}))}}if(function(e,t,i){let n=!1,s=!1,o=e.split("/"),r=o[o.length-1].split("_");for(let e=0;e<r.length;e++){let t=r[e];0===t.toLowerCase().indexOf("task")&&t.indexOf("rest")>-1&&(s=!0)}for(let e=0;e<t.length;e++){let s=t[e];i.find(e=>e.path==s)&&(n=!0)}return!s&&e.includes("_bold.nii")&&!n}(c,f,o)&&d.push(new eI({code:25,file:t,reason:"Task scans should have a corresponding events.tsv file. "+_})),e&&(a=e.pixdim[4],"ms"===(l=e.xyzt_units&&e.xyzt_units[3]?e.xyzt_units[3]:null)&&(a/=1e3,l="s"),"us"===l&&(a/=1e6,l="s")),!p.invalid){if(!c.includes("_task-")||c.includes("_defacemask.nii")||c.includes("_sbref.nii")||p.hasOwnProperty("TaskName")||d.push(new eI({file:t,code:50,reason:"You have to define 'TaskName' for this file. "+m})),c.includes("_bold.nii")||c.includes("_sbref.nii")||c.includes("_dwi.nii")||c.includes("_asl.nii")||c.includes("_m0scan.nii")){if(p.hasOwnProperty("EchoTime")){if(e&&p.hasOwnProperty("EchoTime")&&p.EchoTime.constructor===Array){let i=p.EchoTime,n=e.dim[3];i.length!==n&&d.push(new eI({file:t,code:197,evidence:"EchoTime array is of length "+i.length+" and the value of the 'k' dimension is "+n+" for the corresponding nifti header."}))}}else c.includes("_asl.nii")||c.includes("_m0scan.nii")?d.push(new eI({file:t,code:193,reason:"You must define 'EchoTime' for this file. If you don't provide this information a correct CBF quantification will not be possible."+m})):d.push(new eI({file:t,code:6,reason:"You should define 'EchoTime' for this file. If you don't provide this information field map correction will not be possible. "+m}));p.hasOwnProperty("PhaseEncodingDirection")||d.push(new eI({file:t,code:7,reason:"You should define 'PhaseEncodingDirection' for this file. If you don't provide this information field map correction will not be possible. "+m})),p.hasOwnProperty("EffectiveEchoSpacing")||d.push(new eI({file:t,code:8,reason:"You should define 'EffectiveEchoSpacing' for this file. If you don't provide this information field map correction will not be possible. "+m}))}if(c.includes("_dwi.nii")&&!p.hasOwnProperty("TotalReadoutTime")&&d.push(new eI({file:t,code:9,reason:"You should define 'TotalReadoutTime' for this file. If you don't provide this information field map correction using TOPUP might not be possible. "+m})),(c.includes("_bold.nii")||c.includes("_asl.nii"))&&(p.hasOwnProperty("SliceTiming")||p.hasOwnProperty("MRAcquisitionType")&&"3D"===p.MRAcquisitionType&&c.includes("_asl.nii")||(p.hasOwnProperty("MRAcquisitionType")&&"2D"===p.MRAcquisitionType&&c.includes("_asl.nii")?d.push(new eI({file:t,code:183,reason:"You should define 'SliceTiming' for this file. If you don't provide this information slice time correction will not be possible. "+m})):d.push(new eI({file:t,code:13,reason:"You should define 'SliceTiming' for this file. If you don't provide this information slice time correction will not be possible. "+m}))),e&&p.hasOwnProperty("SliceTiming")&&p.SliceTiming.constructor===Array)){let i=p.SliceTiming,n=e.dim[3];i.length!==n&&d.push(new eI({file:t,code:87,evidence:"SliceTiming array is of length "+i.length+" and the value of the 'k' dimension is "+n+" for the corresponding nifti header."}))}if(c.includes("_bold.nii")){if(p.hasOwnProperty("RepetitionTime")||p.hasOwnProperty("VolumeTiming")){if(e&&p.RepetitionTime&&p.EffectiveEchoSpacing&&p.PhaseEncodingDirection&&!p.hasOwnProperty("VolumeTiming"))p.EffectiveEchoSpacing*e.dim[({i:1,j:2,k:3})[p.PhaseEncodingDirection[0]]]>p.RepetitionTime&&d.push(new eI({file:t,code:76,reason:"Abnormally high value of 'EffectiveEchoSpacing' ("+p.EffectiveEchoSpacing+" seconds)."}));else if(p.hasOwnProperty("VolumeTiming")&&p.hasOwnProperty("RepetitionTime"))d.push(new eI({file:t,code:178,reason:"'VolumeTiming' and 'RepetitionTime' for this file are mutually exclusive."+m}));else if(p.hasOwnProperty("VolumeTiming")&&!p.hasOwnProperty("RepetitionTime")){!p.hasOwnProperty("VolumeTiming")||p.hasOwnProperty("SliceTiming")||p.hasOwnProperty("AcquisitionDuration")||d.push(new eI({file:t,code:171}));let e=p.VolumeTiming,i=eP(e);i||d.push(new eI({file:t,code:188,reason:"'VolumeTiming' should be monotonically increasing."}))}}else d.push(new eI({file:t,code:10,reason:"You have to define 'RepetitionTime' or 'VolumeTiming' for this file. "+m}));if(void 0===a&&e)d.push(new eI({file:t,code:75}));else if(p.RepetitionTime&&e){"s"!==l&&d.push(new eI({file:t,code:11}));let e=Number(a).toFixed(3),i=Number(p.RepetitionTime).toFixed(3);e!==i&&d.push(new eI({file:t,code:12,reason:"Repetition time defined in the JSON ("+i+" sec.) did not match the one defined in the NIFTI header ("+e+" sec.)"}))}if(p.hasOwnProperty("SliceTiming")&&p.SliceTiming.constructor===Array){let e=p.SliceTiming,i=function(e,t){let i=[];for(let n=0;n<e.length;n++)e[n]>t&&i.push(e[n]);return i}(e,p.RepetitionTime);i.length>0&&d.push(new eI({file:t,code:66,evidence:i.join(", ")}))}}else if(c.includes("_phasediff.nii")){if(p.hasOwnProperty("EchoTime1")&&p.hasOwnProperty("EchoTime2")||d.push(new eI({file:t,code:15,reason:"You have to define 'EchoTime1' and 'EchoTime2' for this file. "+m})),p.hasOwnProperty("EchoTime1")&&p.hasOwnProperty("EchoTime2")){let e=p.EchoTime2-p.EchoTime1;(e<1e-4||e>.01)&&d.push(new eI({file:t,code:83,reason:"The value of (EchoTime2 - EchoTime1) should be within the range of 0.0001 - 0.01. "+m}))}}else c.includes("_phase1.nii")||c.includes("_phase2.nii")?p.hasOwnProperty("EchoTime")||d.push(new eI({file:t,code:16,reason:"You have to define 'EchoTime' for this file. "+m})):c.includes("_fieldmap.nii")?p.hasOwnProperty("Units")||d.push(new eI({file:t,code:17,reason:"You have to define 'Units' for this file. "+m})):c.includes("_epi.nii")&&(p.hasOwnProperty("PhaseEncodingDirection")||d.push(new eI({file:t,code:18,reason:"You have to define 'PhaseEncodingDirection' for this file. "+m})),p.hasOwnProperty("TotalReadoutTime")||d.push(new eI({file:t,code:19,reason:"You have to define 'TotalReadoutTime' for this file. "+m})));if((c.includes("_m0scan.nii")||Y.ZP.type.file.isFieldMapMainNii(c))&&p.hasOwnProperty("IntendedFor")){let e="string"==typeof p.IntendedFor?[p.IntendedFor]:p.IntendedFor;for(let i=0;i<e.length;i++){let n=e[i];n.startsWith("bids:")||(function(e,t,i,n){let s="/"+n.relativePath.split("/")[1]+"/"+e,o=!1;for(let e in t)if(e){let i=t[e].relativePath;i===s&&(o=!0)}o||i.push(new eI({file:n,code:37,reason:"'IntendedFor' property of this fieldmap  ('"+n.relativePath+"') does not point to an existing file('"+e+"'). Please mind that this value should not include subject level directory ('/"+n.relativePath.split("/")[1]+"/').",evidence:e}))}(n,s,d,t),eC(n,d,t))}}}r(d)}function eE(e,t){let i=e.replace("_m0scan.nii","").replace(".gz",""),n=e.replace(".nii.gz",".nii"),s=!1;for(let o in t)if(o){let r=t[o].relativePath;(RegExp((i+"_dir-*").split("*").map(e=>e.replace(/([.*+?^=!:${}()|[]\/\\])/g,"\\$1")).join(".*")+"_m0scan.nii").test(r)||r===n||r===e)&&(s=!0)}return s}function eC(e,t,i){let n=RegExp(".nii(.gz)?$"),s=n.test(e);s||t.push(new eI({file:i,code:37,reason:"Invalid filetype: IntendedFor should point to the .nii[.gz] files.",evidence:e}))}function eP(e){let t=!1;for(let i=1;i<e.length;i++){if(!(e[i]>e[i-1]))return!1;t=!0}return t}let eN=i(40619).U3.Issue;var eO=e=>{let t=[],i=e.map(function(e){return{count:1,val:e.name.split(".")[0]}}).reduce(function(e,t){return e[t.val]=(e[t.val]||0)+t.count,e},{}),n=Object.keys(i).filter(function(e){return i[e]>1});for(let i of n){let n=e.filter(function(e){return e.name.split(".")[0]===i});for(let e of n)t.push(new eN({code:74,file:e}))}return t};let ew=i(40619).U3.Issue;var ej=e=>{let t=[],i=e.map(e=>e.name),n=i.filter(e=>e.indexOf("_fieldmap")>-1),s=i.filter(e=>e.indexOf("_magnitude")>-1);return n.map(i=>{let n=i.replace("fieldmap","magnitude");-1===s.indexOf(n)&&t.push(new ew({code:91,file:e.find(e=>e.name==i)}))}),t};let eL=i(40619).U3.Issue;var eM=e=>{let t=[],i=e.map(e=>e.name),n=i.filter(e=>e.indexOf("phasediff")>-1),s=i.filter(e=>e.indexOf("magnitude1")>-1);return n.map(i=>{let n=i.replace("phasediff","magnitude1");-1===s.indexOf(n)&&t.push(new eL({code:92,file:e.find(e=>e.name==i)}))}),t},ex={nifti:eA,duplicateFiles:eO,fieldmapWithoutMagnitude:ej,phasediffWithoutMagnitude:eM,validate:(e,t,i,n,s,o,r,a,l)=>{let c=[],d=e.map(function(e){return new Promise(d=>{i.ignoreNiftiHeaders?eA(null,e,n,s,t,o,function(e){c=c.concat(e),d()}):Y.ZP.files.readNiftiHeader(e,a,l,function(i){i&&i.hasOwnProperty("error")?(c.push(i.error),d()):(r.push([e,i]),eA(i,e,n,s,t,o,function(e){c=c.concat(e),d()}))})})});return new Promise(t=>{let i=eO(e);c=c.concat(i);let n=ej(e);c=c.concat(n);let s=eM(e);c=c.concat(s),Promise.all(d).then(()=>t(c))})}},eD={i8:"1.14.0"},ek={options:{},issues:[],summary:{sessions:[],subjects:[],tasks:[],modalities:[],totalFiles:[],size:0}},ez=e=>{e.issues=[]},eZ=e=>{let t=Object.keys(e),i=t.some(t=>{let i=e[t],n=i.relativePath;if(n)return(n=(n=n.split("/")).reverse())[2]&&(0==n[2].indexOf("ses-")||0==n[2].indexOf("sub-"))});return i},eR=i(3214),eF=i.n(eR),eq=i(69474);let eG=Y.ZP.issues.Issue,eU=e=>{try{return e[0].webkitRelativePath.split(eF().sep).pop()}catch(e){return"uploaded-directory"}};var e$=function(e){let t;t=eq.Z?eF().basename(e):eU(e);let i=new eG({code:61,file:{name:t,path:eF().join(".",t),relativePath:eF().join("",t)}});return i};let eB=i(40619).U3.Issue;function eV(e,t,i){let n=[];if((n=n.concat(function(e,t){let i=[];return Y.dt.checkType(e,"string")||i.push(new eB({code:89,file:t,evidence:"The contents of this .bval file have type "+typeof e+" but should be a string."})),i}(t,e))).length)return i(n);i(n=(n=n.concat(function(e,t){let i=[],n=e.replace(/^\s+|\s+$/g,"").split("\n").length;return 1!==n&&i.push(new eB({code:30,file:t})),i}(t,e))).concat(function(e,t){let i=[],n=e.replace(/^\s+|\s+$/g,"").split(" "),s=!1;for(let e=0;e<n.length;e++){let t=n[e];Y.dt.checkType(t,"number")||(s=!0)}return s&&i.push(new eB({code:47,file:t})),i}(t,e)))}var eH={bval:eV,validate:(e,t,i,n)=>{let s=[],o=e.map(function(e){return Y.ZP.limit(()=>new Promise((o,r)=>{Y.ZP.files.readFile(e,i,n).then(i=>{t[e.relativePath]=i,eV(e,i,function(e){s=s.concat(e),o()})}).catch(e=>Y.ZP.issues.redirect(e,r,()=>{s.push(e),o()}))}))});return Promise.all(o).then(()=>s)}};let eW=i(40619).U3.Issue;function eY(e,t,i){let n=[];if((n=n.concat(function(e,t){let i=[];return Y.dt.checkType(e,"string")||i.push(new eW({code:88,file:t,evidence:e?"The contents of this .bvec file have type "+typeof e+" but should be a string.":"The contents of this .bvec file are undefined."})),i}(t,e))).length)return i(n);i(n=(n=(n=n.concat(function(e,t){let i=[];return 3!==e.replace(/^\s+|\s+$/g,"").split("\n").length&&i.push(new eW({code:31,file:t})),i}(t,e))).concat(function(e,t){let i=!1,n=e.replace(/^\s+|\s+$/g,"").split("\n");for(let e=0;e<n.length;e++){let s=n[e].replace(/^\s+|\s+$/g,"").split(" ");if(i||(i=s.length),i!==s.length)return[new eW({code:46,file:t})]}return[]}(t,e))).concat(function(e,t){let i=e.replace(/^\s+|\s+$/g,"").split("\n");for(let e=0;e<i.length;e++){let n=i[e].replace(/^\s+|\s+$/g,"").split(" "),s=n.map(e=>!Y.dt.checkType(e,"number")).some(e=>e);if(s)return[new eW({code:47,file:t})]}return[]}(t,e)))}var eJ={bvec:eY,validate:(e,t,i,n)=>{let s=[],o=e.map(function(e){return Y.ZP.limit(()=>new Promise((o,r)=>{Y.ZP.files.readFile(e,i,n).then(i=>{t[e.relativePath]=i,eY(e,i,function(e){s=s.concat(e),o()})}).catch(e=>Y.ZP.issues.redirect(e,r,()=>{s.push(e),o()}))}))});return Promise.all(o).then(()=>s)}};let eX=Y.ZP.issues.Issue;function eK(e,t,i,n){let s=[],o=e0(e,i),r=Object.keys(t)[0],a="";r.includes(":OME")&&(a=r.split(":OME")[0].concat(":"));let l=e1(e.relativePath,t,a,o),c=e9(t,a,o);n(s=s.concat(l).concat(c))}let eQ=(e,t)=>{if(e===t||"\xb5m"===e&&"um"===t)return 1;if("um"===t){if("mm"===e)return 1e3;if("nm"===e)return .001}else if("mm"===t){if("\xb5m"===e)return .001;if("nm"===e)return 1e-6}else if("nm"===t){if("mm"===e)return 1e6;if("\xb5m"===e)return 1e3}},e0=(e,t)=>{let i=e.relativePath.replace(".tif","").replace(".ome",".json"),n=Y.ZP.files.potentialLocations(i);return Y.ZP.files.generateMergedSidecarDict(n,t)},e1=(e,t,i,n)=>{let s=[],o={Immersion:"Immersion",NumericalAperture:"LensNA",Magnification:"NominalMagnification"};if(t["".concat(i,"OME")]["".concat(i,"Instrument")]&&t["".concat(i,"OME")]["".concat(i,"Instrument")][0]["".concat(i,"Objective")]){let r=t["".concat(i,"OME")]["".concat(i,"Instrument")][0]["".concat(i,"Objective")][0].$;for(let t in o){if(!o.hasOwnProperty(t))continue;let i=o[t];n.hasOwnProperty(t)&&r[i]&&r[i]!=n[t]&&s.push(new eX({file:{relativePath:e,path:e},evidence:"JSON field '".concat(t,"' is inconsistent"),code:224}))}}return s},e9=(e,t,i)=>{let n=[],s=["um","\xb5m","nm","mm"],o=e["".concat(t,"OME")]["".concat(t,"Image")][0]["".concat(t,"Pixels")][0].$.PhysicalSizeX,r=e["".concat(t,"OME")]["".concat(t,"Image")][0]["".concat(t,"Pixels")][0].$.PhysicalSizeXUnit,a=e["".concat(t,"OME")]["".concat(t,"Image")][0]["".concat(t,"Pixels")][0].$.PhysicalSizeY,l=e["".concat(t,"OME")]["".concat(t,"Image")][0]["".concat(t,"Pixels")][0].$.PhysicalSizeYUnit,c=e["".concat(t,"OME")]["".concat(t,"Image")][0]["".concat(t,"Pixels")][0].$.PhysicalSizeZ,d=e["".concat(t,"OME")]["".concat(t,"Image")][0]["".concat(t,"Pixels")][0].$.PhysicalSizeZUnit;if(0===Object.keys(i).length)return[];if([r,l,d].forEach(e=>{s.includes(e)||n.push(new eX({code:222}))}),n.length>0)return n;let u=i.PixelSize,f=i.PixelSizeUnits,h=eQ(r,f),p=eQ(l,f),m=eQ(d,f);return(o*h!==u[0]||a*p!==u[1]||c*m!==u[2])&&n.push(new eX({code:221})),n},e2=e=>{if(!eq.Z)return new DataView(e);{let t=new Uint8Array(e.byteLength);return e.copy(t,0,0,e.byteLength),new DataView(t.buffer)}};var e3=(e,t)=>{let i=e2(e),n=18761===i.getUint16(0);return i.getUint16(2,n)===t};let e4=Y.ZP.issues.Issue,e5=i(40619).U3.Issue,e8=Y.ZP.issues.Issue,e6=(e,t,i,n)=>{let s=Y.ZP.files.potentialLocations(t),o=/_chunk-[0-9]+/,r=s.filter(e=>i.hasOwnProperty(e)&&o.exec(e)),a=r.length||o.exec(e.relativePath),l=Y.ZP.files.generateMergedSidecarDict(s,i);if(Y.ZP.type.file.isMicroscopyPhoto(e.relativePath)){if(l.hasOwnProperty("IntendedFor")){let t="string"==typeof l.IntendedFor?[l.IntendedFor]:l.IntendedFor;return te(t,n,e)}}else{if(0===Object.keys(l).length)return[new e8({file:e,code:225})];if(a)return e7(e,l)}return[]},e7=(e,t)=>{let i=[];return t.hasOwnProperty("ChunkTransformationMatrix")||i.push(new e8({file:e,code:223})),i},te=(e,t,i)=>{let n=[];for(let s=0;s<e.length;s++){let o=e[s],r="/"+i.relativePath.split("/")[1]+"/"+o,a=!1;for(let e in t)if(e){let i=t[e].relativePath;i===r&&(a=!0)}a||n.push(new e8({file:i,code:37,reason:"'IntendedFor' property of this photo ('"+i.relativePath+"') does not point to an existing file ('"+o+"'). Please mind that this value should not include subject level directory ('/"+i.relativePath.split("/")[1]+"/').",evidence:o}))}return n};var tt={ometiff:eK,validate:(e,t)=>{let i=[],n=e.map(function(e){return Y.ZP.limit(()=>new Promise((n,s)=>{Y.ZP.files.readBuffer(e).then(o=>{e3(o,42)?(e.relativePath.endsWith(".ome.btf")&&i.push(new e4({code:227,file:e,evidence:"Inconsistent TIFF file type and extension, given .ome.btf but should be .ome.tif"})),Y.ZP.files.readOMEFile(o).then(s=>{eK(e,s,t,function(e){i=i.concat(e),n()})}).catch(e=>Y.ZP.issues.redirect(e,s,()=>{i.push(e),n()}))):(e3(o,43)?(e.relativePath.endsWith(".ome.tif")&&i.push(new e4({code:227,file:e,evidence:"Inconsistent TIFF file type and extension, given .ome.tif but should be .ome.btf"})),i.push(new e4({code:226,file:e}))):i.push(new e4({code:227,file:e,evidence:"3rd byte of file does not identify file as tiff."})),n())})}))});return Promise.all(n).then(()=>i)},checkSamples:e=>{let t=[],i=Array.from(Object.values(e)).find(e=>e.relativePath&&"/samples.tsv"==e.relativePath);return i||t.push(new e5({code:214})),t},checkJSONAndField:(e,t,i)=>{let n=[];return e.ome&&e.ome.forEach(e=>{let s=e.relativePath.replace(".tif","").replace(".btf","").replace(".ome",".json");n=n.concat(e6(e,s,t,i))}),e.png&&e.png.forEach(e=>{let s=e.relativePath.replace(".png",".json");n=n.concat(e6(e,s,t,i))}),e.tif&&e.tif.forEach(e=>{let s=e.relativePath.replace(".tif",".json");n=n.concat(e6(e,s,t,i))}),e.jpg&&e.jpg.forEach(e=>{let s=e.relativePath.replace(".jpg",".json");n=n.concat(e6(e,s,t,i))}),n}};let ti=Y.ZP.issues.Issue;function tn(e,t,i,n){let s=ts(t),o=to(e,i,n);return[].concat(s,o)}let ts=function(e){let t=[],i=e.events,n=e.directory;if(n){let e=n.filter(function(e){return 0>i.indexOf(e.relativePath)});for(let i of e){let n=e[i];t.push(new ti({code:77,file:n}))}}return t},to=function(e,t,i){let n=[],s=t.filter(e=>{let t=e[0];return t.relativePath.includes("_task-")});return s.forEach(t=>{let s=t[0],o=t[1],r=o.dim,a=r[4],l=Y.ZP.files.potentialLocations(s.relativePath.replace(".gz","").replace(".nii",".json")),c=Y.ZP.files.generateMergedSidecarDict(l,i),d=c.RepetitionTime,u=Math.floor(d*a),f=Math.floor(.5*u),h=Y.ZP.files.potentialLocations(s.relativePath.replace(".gz","").replace("bold.nii","events.tsv")),p=e.filter(e=>h.indexOf(e.path)>-1);for(let e of p){let t=e.contents.split("\n").filter(e=>!(!e||/^\s*$/.test(e))),i=t[t.length-1].trim().split("	")[0];i>u&&n.push(new ti({file:e.file,code:85})),i<f&&n.push(new ti({file:e.file,code:86}))}}),n};var tr={events:tn,validateEvents:tn},ta=i(22532),tl=i(30454),tc=i.n(tl),td=i(27921),tu=i.n(td);let tf=Y.ZP.issues.Issue;function th(e,t){return tc()(t.filter(t=>t.relativePath===e)[0])}function tp(e){return null!==e&&"object"==typeof e&&void 0!==e.HED}let tm=Y.ZP.files.sessions;var t_=Y.ZP.issues.Issue;let ty=function(e){let t=[],{subjects:i,sessions:n}=function(e){let t={},i=[];for(let o in e)if(e.hasOwnProperty(o)){var n,s;let r;let a=e[o];if(!a||!eq.Z&&!a.webkitRelativePath)continue;let l=a.relativePath;if(!Y.ZP.type.isBIDS(l)||Y.ZP.type.file.isStimuliData(l))continue;let c=l.match(/sub-(.*?)(?=\/)/);if(null===c||"sub-emptyroom"==(r=c[0]))continue;t[r]=t[r]||new tm.Subject;let d=(n=l,s=r,n.substring(n.match(s).index+s.length).replace(s,"<sub>"));t[r].files.push(d);let u=d.match(tm.sessionMatcher);if(u){let e=u[1];i.includes(e)||i.push(e),t[r].sessions.includes(e)||t[r].sessions.push(e)}}return{subjects:t,sessions:i}}(e);t.push(...function(e,t){let i=[];for(let n in e)if(e.hasOwnProperty(n)){let s=e[n];t.length>0&&t.forEach(e=>{if(!s.sessions.includes(e)){s.missingSessions.push(e);let t="/".concat(n,"/").concat(e);i.push(new t_({file:{relativePath:t,webkitRelativePath:t,name:e,path:t},reason:"A session is missing from one subject that is present in at least one other subject",evidence:"Subject: ".concat(n,"; Missing session: ").concat(e),code:97}))}})}return i}(i,n));let s=function(e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];n.files.forEach(e=>{0>t.indexOf(e)&&t.push(e)})}return t}(i);return t.push(...function(e,t){let i=[];return Object.keys(e).sort().forEach(n=>{t.forEach(t=>{let s=function(e,t){let i;let n=e.match(tm.sessionMatcher);return!!n&&(i=n[1],t.missingSessions.includes(i))}(t,e[n]);if(!s){let s=function(e,t,i){let n=-1===e.files.indexOf(i);if(n){var s="/"+t+i.replace("<sub>",t);let e=s.substr(s.lastIndexOf("/")+1);return new t_({file:{relativePath:s,webkitRelativePath:s,name:e,path:s},evidence:"Subject: ".concat(t,"; Missing file: ").concat(e),reason:"This file is missing for subject "+t+", but is present for at least one other subject.",code:38})}}(e[n],n,t);s&&i.push(s)}})}),i}(i,s)),t};var tg=Y.ZP.issues.Issue;let tv=e=>e.relativePath.match(/sub-((?!emptyroom).*?)(?=\/)/),tb=(e,t,i)=>i.indexOf(e)===t,tS=e=>Object.values(e).filter(tv).map(e=>tv(e)[1]).filter(tb);var tT=function(e,t){for(var i=[],n=tS(e).filter(function(e){return 0>t.indexOf(e)}),s=0;s<n.length;s++){var o=n[s],r="/sub-"+o;i.push(new tg({file:{relativePath:r,webkitRelativePath:r,name:r,path:r},reason:"No BIDS compatible data found for subject "+o,code:67}))}return i},tI=Y.ZP.issues.Issue;let tA=e=>{let t=[];for(let n of Object.keys(e)){let s=e[n][0],o="";for(var i of e[n])o=o+" "+i.reason;s.reason=o,t.push(s)}return t},tE=(e,t)=>{for(var i={},n=[],s=0;s<e.length;s++){var o,r,a,l,c=!1,d=e[s][0],u=e[s][1],f=d.relativePath;if("dim"===t){if(void 0===u[t]||null===u[t]||u[t].length<u[t][0]){n.push(new tI({file:d,code:40}));continue}if(d.name.indexOf("_bold")>-1&&(4!==u[t][0]||5!==u[t].length)){n.push(new tI({file:d,code:54,evidence:'header field "dim" = '+u[t]}));continue}if((d.name.indexOf("magnitude1")>-1||d.name.indexOf("magnitude2")>-1)&&4!==u[t].length){n.push(new tI({file:d,code:94,evidence:"this magnitude file has more than three dimensions. "}));continue}d.name.indexOf("T1w")>-1&&4!==u[t].length&&n.push(new tI({file:d,code:95,evidence:"this T1w file does not have exactly three dimensions. "}));o=u[t].slice(1,u[t][0]+1).toString()}else if("pixdim"===t){if((void 0===u.xyzt_units||null===u.xyzt_units||u.xyzt_units.length<4)&&(n.push(new tI({file:d,code:41})),c=!0),(void 0===u.pixdim||null===u.pixdim||u.pixdim.length<4)&&(n.push(new tI({file:d,code:42})),c=!0),0===u.qform_code&&0===u.sform_code&&(n.push(new tI({file:d,code:60})),c=!0),!0===c)continue;o=[];for(var h=u[t].slice(1,5),p=u.xyzt_units.slice(0,4),m=0;m<h.length;m++)o.push(""+h[m].toFixed(2)+p[m]);o=o.toString()}else{console.warn("Checks against header field: "+t+" are currently unsupported.");return}d&&(eq.Z||d.webkitRelativePath)&&null!==(a=f.match(/sub-(.*?)(?=\/)/))&&(l=a[0],null!==(a=(r=(r=f.substring(f.match(l).index+l.length)).replace(l,"<sub>")).match(/run-\d+/))&&(r=r.replace(a[0],"<run>")),i.hasOwnProperty(r)?i[r].hasOwnProperty(o)?(i[r][o].count+=1,i[r][o].files.push(d)):i[r][o]={count:1,files:[d]}:(i[r]={},i[r][o]={count:1,files:[d]}))}for(let e of Object.keys(i)){let s=i[e],r=Object.keys(s)[0];for(let e in s)s.hasOwnProperty(e)&&(o=s[e]).count>s[r].count&&(r=e);for(let e of Object.keys(s))if(o=s[e],r!==e&&tC(r,e))for(var _=0;_<o.files.length;_++){var y,g=o.files[_];"dim"===t?y="The most common set of dimensions is: "+r+" (voxels), This file has the dimensions: "+e+" (voxels).":"pixdim"===t&&(y="The most common resolution is: "+r.replace(/,/g," x ")+", This file has the resolution: "+e.replace(/,/g," x ")+"."),n.push(new tI({file:g,reason:y,code:39}))}}return n},tC=(e,t)=>{var i=e.split(","),n=t.split(",");if(i.length!==n.length)return!0;for(var s=0;s<i.length;s++){var o=Number(i[s].match(/-?\d*\.?\d*/)),r=Number(n[s].match(/-?\d*\.?\d*/)),a=i[s].match(/[A-Za-z]*$/)[0],l=n[s].match(/[A-Za-z]*$/)[0];if(Math.abs(o-r)>1e-5||a!==l)return!0}return!1};var tP=e=>{for(var t=[],i={},n=["dim","pixdim"],s=0;s<n.length;s++)tE(e,n[s]).forEach(e=>{39==e.code?i.hasOwnProperty(e.file.relativePath)?i[e.file.relativePath].push(e):i[e.file.relativePath]=[e]:t.push(e)});return t=t.concat(tA(i))};let tN=Y.ZP.issues.Issue,tO=e=>{let t={},i={};t.sub=tw(e,/^\/sub-([a-zA-Z0-9]+)/),t.ses=tw(e,/^\/sub-[a-zA-Z0-9]+\/ses-([a-zA-Z0-9]+)/);let n=e.replace(/^.*[\\/]/,"");return i.sub=tw(n,/^sub-([a-zA-Z0-9]+)/),i.ses=tw(n,/^sub-[a-zA-Z0-9]+_ses-([a-zA-Z0-9]+)/),[t,i]},tw=(e,t)=>{let i=t.exec(e);return i&&i[1]?i[1]:null},tj=(e,t)=>{let i,n;return"session"==e?(i=65,n="ses"):(i=64,n="sub"),new tN({code:i,evidence:"File: ".concat(t.relativePath," is saved in incorrect ").concat(e," directory as per ").concat(n,"-id in filename."),file:t})};var tL=e=>{let t=[],i=Object.keys(e);return i.forEach(i=>{let n=e[i];if(Y.ZP.type.file.isStimuliData(n.relativePath))return;let s=tO(n.relativePath),o=s[0],r=s[1];if(null!==r.sub||null!==r.ses){let e=r.sub!==o.sub,i=r.ses!==o.ses;e&&t.push(tj("subject",n)),i&&t.push(tj("session",n))}}),t};let tM=(e,t,i)=>{let n=Object.keys(e);n.forEach(t=>{let n=e[t],s=n.name;Y.ZP.type.file.isStimuliData(n.relativePath)?(i.stimuli.push(n),i.misc.push(n)):Y.ZP.type.isBIDS(n.relativePath)?tD(s,"nii")||tD(s,"nii.gz")?i.nifti.push(n):tD(s,"json")?i.json.push(n):tD(s,"tsv")?i.tsv.push(n):tD(s,"bval")?i.bval.push(n):tD(s,"bvec")?i.bvec.push(n):tx(s)?(i.ephys.push(n),i.misc.push(n)):tD(s,"tsv.gz")?i.contRecord.push(n):tD(s,"ome.tif")||tD(s,"ome.btf")?i.ome.push(n):tD(s,"jpg")?i.jpg.push(n):tD(s,"png")?i.png.push(n):!tD(s,"tif")||tD(s,"ome.tif")||tD(s,"ome.btf")?i.misc.push(n):i.tif.push(n):(i.invalid.push(n),i.misc.push(n))})},tx=e=>["edf","vhdr","vmrk","eeg","bdf","set","fdt","nwb","rdat","ridx","tdat","tidx","tmet","vidx","vmet"].includes(e.split(".").pop()),tD=(e,t)=>e&&e.endsWith("."+t);var tk=(e,t)=>{let i={json:[],nifti:[],stimuli:[],ephys:[],tsv:[],bval:[],bvec:[],contRecord:[],invalid:[],ome:[],jpg:[],png:[],tif:[],misc:[]};return tM(e,t,i),i};let tz=Y.ZP.issues.Issue,tZ=(e,t)=>{let i=Y.ZP.array.diff(e,t),n=i[0],s=i[1],o=s.length?"Subjects "+s.join(", ")+" were found in the folder structure but are missing in participants.tsv. ":"",r=n.length?"Subjects "+n.join(", ")+" were found in participants.tsv but are not present in the folder structure. ":"";return o+r};var tR={participantsInSubjects:(e,t)=>{let i=[];if(e){let n=e.list.sort(),s=t.sort();if(!Y.ZP.array.equals(s,n,!0)){let t=tZ(n,s);i.push(new tz({code:49,evidence:t,file:e.file}))}}return i},atLeastOneSubject:e=>{let t=[],i=Object.keys(e),n=i.some(t=>{let i=e[t];return i.relativePath&&i.relativePath.startsWith("/sub-")});return n||t.push(new tz({code:45})),t}};let tF=i(40619).U3.Issue,tq=e=>{let t=[];return void 0===e||e.match(/\S/)||t.push(new tF({code:115})),t},tG=e=>{let t=[];if(e&&"object"==typeof e&&e.length){if(e.forEach(e=>{(""+e).split(",").length>2&&t.push(new tF({code:103,evidence:e}))}),1==e.length){let i=e[0];"string"==typeof i&&i.split(",").length<=2&&t.push(new tF({code:102,evidence:i}))}}else t.push(new tF({code:113,evidence:JSON.stringify(e)}));return t};var tU=e=>{let t=[],i=Object.keys(e),n=i.some(e=>"/dataset_description.json"==e),s=i.some(e=>"/genetic_info.json"===e);if(n){let i=e["/dataset_description.json"];t=(t=t.concat(tq(i.Name))).concat(tG(i.Authors)),s&&!("Genetics"in i&&"Dataset"in i.Genetics)&&t.push(new tF({code:128}))}else t.push(new tF({code:57}));return t};let t$=i(40619).U3.Issue;var tB=e=>{let t=[],i=Array.from(Object.values(e)).filter(e=>e.relativePath&&e.relativePath.startsWith("/README"));return i.map(e=>{let i=eq.Z?e.stats.size:e.size;i<=150&&t.push(new t$({code:213,file:e}))}),i.length>1?t.push(new t$({code:228})):0===i.length&&t.push(new t$({code:101})),t};function tV(e){let t=eq.Z?e.stats.size:e.size;var i=t<=0;return["BadChannels","bad.segments"].indexOf(e.name)>-1&&(i=!1),i&&new E.Z({code:99,file:e})}function tH(e){return e instanceof E.Z}let tW="participantId";var tY=e=>{if(e){let t=e.split(/\r?\n/).filter(e=>""!==e).map(e=>e.split("	")),[i,...n]=t,s=i.map(e=>"participant_id"===e?tW:e),o=[tW,"age","sex","group"].map(e=>({key:e,index:s.findIndex(t=>t===e)})).filter(e=>{let{index:t}=e;return -1!==t}),r=o.find(e=>{let{key:t}=e;return t===tW}),a=o.find(e=>{let{key:t}=e;return"age"===t});return void 0===r?null:n.map(e=>(e[r.index]=e[r.index].replace(/^sub-/,""),a&&(e[a.index]=parseInt(e[a.index])),e)).map(e=>o.reduce((t,i)=>{let{key:n,index:s}=i;return{...t,[n]:e[s]}},{}))}};let tJ=(e,t,i)=>{e[t][i]?e[t][i]++:e[t][i]=1},tX=e=>{let t={};return Object.keys(e).forEach(i=>{t[i]=tK(e[i])}),t},tK=e=>Object.keys(e).map(t=>({key:t,count:e[t]})).sort((e,t)=>{let{count:i}=e,{count:n}=t;return n-i}).map(e=>{let{key:t}=e;return t});var tQ=e=>{let t={BodyPart:{},ScannerManufacturer:{},ScannerManufacturersModelName:{},TracerName:{},TracerRadionuclide:{}};return Object.entries(e).forEach(e=>{let[i,n]=e;i.endsWith("pet.json")&&(tJ(t,"ScannerManufacturer",n.Manufacturer),tJ(t,"ScannerManufacturersModelName",n.ManufacturersModelName),tJ(t,"TracerName",n.TracerName),tJ(t,"TracerRadionuclide",n.TracerRadionuclide),n.BodyPart&&tJ(t,"BodyPart",n.BodyPart))}),tX(t)},t0=i(66989);let t1=Y.ZP.issues.Issue;var t9=(e,t,i,n,s,o)=>{ek.options=t;let r={},a={},l=[],c={events:[],directory:[]},d=[],u=[],f=[],h=[];if(ek.options.blacklistModalities){let t=Object.keys(e).map(t=>e[t].relativePath),i=(0,t0.Z)(t);ek.options.blacklistModalities.map(e=>{i.primary.includes(e)&&ek.issues.push(new t1({file:e,evidence:"found ".concat(e," files"),code:139}))})}let p=Y.ZP.collectSummary(e,ek.options,s);for(let t in e)if(e.hasOwnProperty(t)){let i=e[t];"object"==typeof i.stats&&i.stats.hasOwnProperty("size")&&delete i.size}Object.keys(e).forEach(function(t){e[t].ignore&&delete e[t]}),ek.issues=ek.issues.concat(tL(e)),ek.issues=ek.issues.concat(Y.ZP.files.illegalCharacterTest(e));let m=tk(e,ek.options);m.invalid.map(function(e){ek.issues.push(new t1({file:e,evidence:e.name,code:1}))}),p.dataTypes.includes("T1w")||ek.issues.push(new t1({code:53})),Promise.resolve(m.misc.map(tV).filter(tH)).then(t=>(ek.issues=ek.issues.concat(t),el.validate(m.tsv,e,h,l,null,f,c))).then(e=>{let{tsvIssues:t,participantsTsvContent:i}=e;return ek.issues=ek.issues.concat(t),p.subjectMetadata=tY(i),eJ.validate(m.bvec,a)}).then(e=>(ek.issues=ek.issues.concat(e),eH.validate(m.bval,a))).then(e=>(ek.issues=ek.issues.concat(e),eT.load(m.json,d,r))).then(t=>{ek.issues=ek.issues.concat(t);let i=tR.atLeastOneSubject(e);ek.issues=ek.issues.concat(i);let n=tU(r);ek.issues=ek.issues.concat(n);let s=tB(e);if(ek.issues=ek.issues.concat(s),p.modalities.includes("Microscopy")){let t=tt.checkSamples(e),i=tt.checkJSONAndField(m,r,e);ek.issues=ek.issues.concat(t).concat(i)}return eT.validate(d,e,r,p)}).then(e=>(ek.issues=ek.issues.concat(e),tt.validate(m.ome,r))).then(t=>(ek.issues=ek.issues.concat(t),ex.validate(m.nifti,e,ek.options,r,a,l,u,i,n))).then(e=>{ek.issues=ek.issues.concat(e);let t=tR.participantsInSubjects(null,p.subjects);ek.issues=ek.issues.concat(t);let i=el.checkPhenotype(f,p);return ek.issues=ek.issues.concat(i),ek.issues=ek.issues.concat(tP(u)),c.directory=m.stimuli,ek.issues=ek.issues.concat(tr.validateEvents(l,c,u,r)),function(e,t,i,n){let s=e.map(e=>{let i=Y.ZP.files.potentialLocations(e.file.relativePath.replace(".tsv",".json")),n=Y.ZP.files.generateMergedSidecarDict(i,t);return new(e.file.relativePath.endsWith("_events.tsv")?ta.ZP.bids.BidsEventFile:ta.ZP.bids.BidsTabularFile)(e.path,i,n,e.contents,e.file)}),o=function(e,t,i){let n=Object.keys(t),s=[];for(let t of e)s.push(...t.potentialSidecars);let o=tu()(n,s);return o.map(e=>new ta.ZP.bids.BidsSidecar(e,tc()(t[e]),th(e,i)))}(s,t,i),r=o.some(e=>Object.values(e.sidecarData).some(tp))||s.some(e=>-1!==e.parsedTsv.headers.indexOf("HED"));if(!r)return Promise.resolve([]);let a=t["/dataset_description.json"],l=new ta.ZP.validator.BidsJsonFile("/dataset_description.json",tc()(a),th("/dataset_description.json",i)),c=new ta.ZP.validator.BidsDataset(s,o,l,n),d=function(e){let t=e["/dataset_description.json"];return t&&t.HEDVersion?[]:[new tf({code:109})]}(t);try{return ta.ZP.validator.validateBidsDataset(c).then(e=>d.concat(e.map(e=>new tf(e))))}catch(t){let e=d.concat(tf.errorToIssue(t,107));return Promise.resolve(e)}}(h,r,d,n)}).then(i=>{ek.issues=ek.issues.concat(i),ek.issues=ek.issues.concat(el.validateTsvColumns(h,r,u)),ek.issues=ek.issues.concat(el.validateContRec(m.contRecord,r)),t.ignoreSubjectConsistency||(ek.issues=ek.issues.concat(ty(e))),ek.issues=ek.issues.concat(tT(e,p.subjects)),p.modalities=Y.ZP.modalities.group(p.modalities),p.modalities.includes("PET")&&(p.pet=tQ(r));let n=Y.ZP.issues.format(ek.issues,p,ek.options);o(n,p)}).catch(e=>{let t=Y.ZP.issues.exceptionHandler(e,ek.issues,p,ek.options);o(t,p)})},t2=i(43329),t3=i.n(t2);let t4="v1.6.0",t5=["anat","beh","dwi","eeg","fmap","func","ieeg","meg","pet"];async function t8(e,t,n){let s="".concat(e,"/").concat(t);try{let e;if(n)throw Error("Defaulting to embedded bids-specification schema");{let t=await fetch(s);if(200!==t.status)throw Error("Loading remote bids-specification schema failed, falling back to embedded bids-specification@".concat(t4));e=await t.text()}return t3().safeLoad(e)}catch(e){if(eq.Z){let e=i(76333),t=e.readFileSync(s,"utf-8");return t3().safeLoad(t)}throw Error("Loading remote bids-specification schema failed, and internal validation rules will be used instead")}}async function t6(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.includes("v1.6.0")?"":"objects/",n=e.includes("v1.6.0")?"":"rules/",s=n+"datatypes/";return{top_level_files:await t8(e,n+"top_level_files.yaml",t),entities:await t8(e,i+"entities.yaml",t),datatypes:{anat:await t8(e,s+"anat.yaml",t),beh:await t8(e,s+"beh.yaml",t),dwi:await t8(e,s+"dwi.yaml",t),eeg:await t8(e,s+"eeg.yaml",t),fmap:await t8(e,s+"fmap.yaml",t),func:await t8(e,s+"func.yaml",t),ieeg:await t8(e,s+"ieeg.yaml",t),meg:await t8(e,s+"meg.yaml",t),pet:await t8(e,s+"pet.yaml",t)}}}async function t7(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?"P":"",n={label:"[a-zA-Z0-9]+",index:"[0-9]+",sub_ses_dirs:"^[\\/\\\\](sub-[a-zA-Z0-9]+)[\\/\\\\](?:(ses-[a-zA-Z0-9]+)[\\/\\\\])?",type_dir:"[\\/\\\\]",sub_ses_entity:"\\1(_\\2)?",optional:"?",required:""},s={top_level_files:[],datatypes:{anat:[],beh:[],dwi:[],eeg:[],fmap:[],func:[],ieeg:[],meg:[],pet:[]}};for(let t of Object.keys(e.top_level_files)){let n=e.top_level_files[t].extensions.join("|"),o="[\\/\\\\]".concat(t).concat("None"===n?"":"(?".concat(i,"<suffix>").concat(n,")"),"$");s.top_level_files.push(new RegExp(o))}for(let t of t5){let o=e.datatypes[t];for(let r of Object.keys(o)){let a="".concat(n.sub_ses_dirs).concat(t).concat(n.type_dir).concat(n.sub_ses_entity),l=Object.keys(e.entities);for(let t of Object.keys(o[r].entities))if(l.includes(t)){let s=e.entities[t];if("subject"===t||"session"===t)continue;let l=s.entity,c=n[e.entities[t].format];c&&(a+="(?".concat(i,"<").concat(t,">_").concat(l,"-").concat(c,")").concat(n[o[r].entities[t]]))}let c="_(?".concat(i,"<suffix>").concat(o[r].suffixes.join("|"),")"),d=o[r].extensions.map(e=>"*"===e?".*?":e),u="(?".concat(i,"<ext>").concat(d.join("|"),")");s.datatypes[t].push(RegExp(a+c+u+"$"))}}return s}async function ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t7("local"in t?await t6("./bids-validator/spec/src/schema",!0):await t6("https://raw.githubusercontent.com/bids-standard/bids-specification/".concat(e,"/src/schema")))}var it=i(64934),ii=i(83414),is=i.n(ii),io=i(40923);function ir(e,t,i){let n="red"==t?"ERR":"WARN",s=[];for(var o=0;o<e.length;o++){let c=e[o],d=o+1;s.push("	"+is()[t](d+": "+"[".concat(n,"] ")+c.reason+" (code: "+c.code+" - "+c.key+")"));for(var r=0;r<c.files.length;r++){var a=e[o].files[r];if(!a||!a.file)continue;let t="		";if(a.file.relativePath&&(s.push("".concat(t,".")+a.file.relativePath),t="			"),i.verbose&&s.push(t+a.reason),a.line){var l="".concat(t,"@ line: ")+a.line;a.character&&(l+=" character: "+a.character),s.push(l)}a.evidence&&s.push("".concat(t,"Evidence: ")+a.evidence)}c.additionalFileCount>0&&s.push("		"+is()[t]("... and "+c.additionalFileCount+" more files having this issue (Use --verbose to see them all).")),s.push(""),c.helpUrl&&(s.push(is().cyan("	Please visit "+c.helpUrl+" for existing conversations about this issue.")),s.push(""))}return s}let ia={BIDS:(e,t,i)=>{t.json||console.log("bids-validator@".concat(eD.i8)),Y.ZP.options.parse(e,t,async function(t,n){if(t&&t.length>0)i({config:t});else{let t;ek.options=n,ez(ek),n.schema&&(t=await ie(n.schema),(0,it.a)(t));let s=await Y.ZP.files.readDir(e,n);if(eZ(s)){let n=Y.ZP.files.remoteFiles.isGitAnnex(e);t9(s,ek.options,n,e,t,i)}else{let t=e$(e);ek.summary.totalFiles=Object.keys(s).length,i(Y.ZP.issues.format([t],ek.summary,n))}}})},JSON:eT.json,TSV:el,NIFTI:eA,Events:tr,bval:eV,bvec:eY,reformat:Y.ZP.issues.reformat,utils:Y.ZP,consoleFormat:{issues:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i=e.errors,n=e.warnings,s=[];if(i&&1===i.length&&"61"===i[0].code)s.push(is().red("[ERR]  The given directory failed an initial Quick Test. This means the basic names and structure of the files and directories do not comply with BIDS specification. For more info go to https://bids.neuroimaging.io/"));else if(e.config&&e.config.length>=1){s.push(is().red("[ERR]  Invalid Config File"));for(var o=0;o<e.config.length;o++){var r=e.config[o];r.file.file={relativePath:r.file.path},r.files=[r.file]}s=s.concat(ir(e.config,"red",t))}else i.length>=1||n.length>=1?s=(s=s.concat(ir(i,"red",t))).concat(ir(n,"yellow",t)):s.push(is().green("This dataset appears to be BIDS compatible."));return s.join("\n")},summary:function(e){let t=[];if(e){for(var i,n,s,o=e.sessions.length>0?e.sessions.length:1,r=[e.totalFiles+" "+l()("File",e.totalFiles)+", "+g()(e.size),e.subjects.length+" - "+l()("Subject",e.subjects.length),o+" - "+l()("Session",o)],a=e.tasks,c=e.modalities,d=Math.max(r.length,a.length,c.length),u="       ",f=[[u,is().blue.underline("Summary:")+u,is().blue.underline("Available Tasks:")+u,is().blue.underline("Available Modalities:")]],h=0;h<d;h++)i=r[h]?r[h]+u:"",n=a[h]?a[h]+u:"",s=c[h]?c[h]:"",f.push([u,i,n,s]);t.push((0,io.table)(f,{border:(0,io.getBorderCharacters)("void"),columnDefault:{paddingLeft:0,paddingRight:1},drawHorizontalLine:()=>!1})),t.push(""),t.push(is().cyan("	If you have any questions, please post on https://neurostars.org/tags/bids.")),t.push("")}return t.join("\n")},logIssues:ir,unexpectedError:function(e){return is().red(e)}}},il=eD.i8,ic=()=>({dirName:"",list:{},nameError:null,projectId:"",refs:{},errors:[],warnings:[],summary:null,status:"",uploadStatus:"",options:{ignoreWarnings:!1,ignoreNiftiHeaders:!1,ignoreSubjectConsistency:!1}});class id extends s.Component{_validate(e){let t=e.list[0].webkitRelativePath.split("/")[0],i="".concat(t,"/.bids-validator-config.json");return this.setState({status:"validating",showIssues:!0,activeKey:3,dirName:t}),ia.BIDS(e.list,{verbose:!0,...this.state.options,config:i},(e,t)=>"Invalid"===e?this.setState({errors:"Invalid",summary:t,status:"validated"}):this.setState({errors:e.errors?e.errors:[],warnings:e.warnings?e.warnings:[],summary:t,status:"validated"}))}_reset(){this.setState(ic())}render(){return(0,n.jsxs)("div",{id:"root",children:[(0,n.jsx)("nav",{className:"navbar navbar-dark bg-dark fixed-top",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"navbar-header",children:(0,n.jsxs)("a",{className:"navbar-brand",href:"https://www.npmjs.com/package/bids-validator",target:"_blank",children:["BIDS Validator v",il]})})})}),(0,n.jsxs)("div",{className:"container page-wrapper",children:[(0,n.jsx)("div",{className:"validator",children:(0,n.jsx)(A,{loading:"validating"===this.state.status,options:this.state.options,onChange:this.validate,handleOptionToggle:this.handleOptionToggle})}),"validated"===this.state.status?(0,n.jsx)(S,{reset:this.reset,...this.state}):null]})]})}constructor(){super(),this.handleOptionToggle=e=>{let{name:t}=e.target;this.setState(e=>({...e,options:{...e.options,[t]:!e.options[t]}}))},this.state=ic(),this.validate=this._validate.bind(this),this.reset=this._reset.bind(this)}}var iu=()=>(0,n.jsx)(id,{})},40619:function(e,t,i){"use strict";let n;i.d(t,{ZP:function(){return ex},U3:function(){return m},dt:function(){return eh.Z}}),i(32669);var s={equals:function(e,t,i){if(!e||!t||e.length!=t.length)return!1;i&&(e.sort(),t.sort());for(var n=0,o=e.length;n<o;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!s.equals(e[n],t[n],i))return!1}else if(e[n]!=t[n])return!1;return!0},diff:function(e,t){for(var i=[],n=0;n<e.length;n++){var s=e[n],o=t.indexOf(s);o>-1?t.splice(o,1):i.push(s)}return[i,t]}},o=i(13707),r=i.n(o),a={ignoredFile:function(e,t){if(e.ignoredFiles)for(var i=0;i<e.ignoredFiles.length;i++){var n=e.ignoredFiles[i];if(r()(t,n))return!0}return!1},interpret:function(e,t){var i={};if(t.ignore&&t.ignore.length>0)for(var n=this.match(e,t.ignore),s=0;s<n.length;s++)i[n[s]]="ignore";if(t.warn&&t.warn.length>0)for(var o=this.match(e,t.warn),r=0;r<o.length;r++)i[o[r]]="warning";if(t.error&&t.error.length>0)for(var a=this.match(e,t.error),l=0;l<a.length;l++)i[a[l]]="error";return i},match:function(e,t){for(var i=[],n=0;n<t.length;n++){var s=t[n];e.indexOf(s)>-1?i.push(s):s.hasOwnProperty("and")&&this.andFulfilled(e,s.and)&&(i=i.concat(this.flatten(s.and)))}return i},flatten:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.hasOwnProperty("and")?t=t.concat(this.flatten(n.and)):n.hasOwnProperty("or")?t=t.concat(this.flatten(n.or)):t.push(n)}return t},andFulfilled:function(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n.hasOwnProperty("and")){if(!this.andFulfilled(e,n.and))return!1}else if(n.hasOwnProperty("or")){if(!this.orFulfilled(e,n.or))return!1}else if(0>e.indexOf(n))return!1}return!0},orFulfilled:function(e,t){for(var i=0;i<t.length;i++){var n=t[i];if(n.hasOwnProperty("and")){if(this.andFulfilled(e,n.and))return!0}else if(n.hasOwnProperty("or")){if(this.orFulfilled(e,n.or))return!0}else if(e.indexOf(n)>-1)return!0}return!1}};function l(e,t,i){this.parts=e,this.name=t,this.properties=i,this.size=e.reduce(function(e,t){return e+t.length},0),this.type="application/octet-stream",this.lastModified=0}var c=function(){return"undefined"==typeof File?l:File},d=i(90285),u=i.n(d),f=i(1916),h=i(22070),p={list:f.Z,Issue:h.Z,filterFieldMaps:function(e){for(var t=[],i=[6,7,8,9],n=0;n<e.length;n++){var s=e[n];0>i.indexOf(s.code)&&t.push(s)}return t},format:function(e,t,i){var n=[],s=[],o=[];0>t.modalities.indexOf("fieldmap")&&(e=this.filterFieldMaps(e)),e.sort(function(e,t){var i=e.file?e.file.relativePath:"",n=t.file?t.file.relativePath:"";return i>n?1:n>i?-1:0});let r={},l=[];for(var c=0;c<e.length;c++){var d=e[c];!(d.file&&a.ignoredFile(i.config,d.file.relativePath))&&(r[d.code]||(l.push(d.key),l.push(d.code),r[d.code]=f.Z[d.code],r[d.code].files=[],r[d.code].additionalFileCount=0,r[d.code].helpUrl=d.helpUrl),i.verbose||r[d.code].files.length<10?r[d.code].files.push(d):r[d.code].additionalFileCount++)}let u=a.interpret(l,i.config);for(let e in r){if(!r.hasOwnProperty(e))continue;let t=parseInt(e);(d=r[t]).code=t,u.hasOwnProperty(d.code)&&(d.severity=u[d.code]),u.hasOwnProperty(d.key)&&(d.severity=u[d.key]),"error"===d.severity?55==t?n.unshift(d):n.push(d):"warning"!==d.severity||i.ignoreWarnings?"ignore"===d.severity&&o.push(d):s.push(d)}return{errors:n,warnings:s,ignored:o}},errorToIssue:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.stack?e.stack.split("\n").slice(1).join("\n").trim():"";return new h.Z({file:i,evidence:e.stack||"",reason:"".concat(e.message,"; please help the BIDS team and community by opening an issue at (https://github.com/bids-standard/bids-validator/issues) with the evidence here."),code:t})},isAnIssue:function(e){let t=Object.keys(e);return t.includes("code")&&t.includes("reason")},reformat:function(e,t,i){var n=e.errors?e.errors:[],s=e.warnings?e.warnings:[],o=e.ignored?e.ignored:[];e=n.concat(s).concat(o);for(var r=[],a=0;a<e.length;a++)for(var l=e[a],c=0;c<l.files.length;c++){var d=l.files[c];r.push(d)}return p.format(r,t,{config:i})},exceptionHandler:function(e,t,i,n){e.hasOwnProperty("key")?t.push(e):t.push(this.errorToIssue(e));let s=this.format(t,i,n);return s},redirect:function(e,t,i){this.isAnIssue(e)?i():t(e)}},m=Object.assign(h.Z,p),_=i(91565),y=i(64164),g=i.n(y),v=i(60991),b=i.n(v),S=i(69474),T=i(27061),I={getAnnexedFile:function(e,t,i,n){let s={file:e,dir:t};i&&(s.limit=i),s.remotesInfo=this.getRemotesInfo(t,e),s.remotesInfo.map((e,t)=>this.tryRemote(e,s).then(e=>n(null,null,e)).catch(e=>e.code?n(e,null,null):t==s.remotesInfo.length?n(new m({code:98,file:s.file}),null,null):void 0))},tryRemote:function(e,t){t.s3Params=this.getSingleRemoteInfo(t.dir,e.remoteUuid);let i=t.dir.endsWith("/")?t.dir.slice(0,-1):t.dir,n=i.split("/")[i.split("/").length-1],s=n+t.file.relativePath;return t.s3Params.Key=s,t.s3Params.VersionId=e.versionId,this.accessRemoteFile(t)},accessRemoteFile:function(e){return e.limit&&(e.s3Params.Range="bytes=0-"+e.limit),new Promise((t,i)=>{this.constructAwsRequest(e).then(n=>{e.file.name.endsWith(".gz")?this.extractGzipBuffer(n,e).then(e=>t(e)).catch(e=>i(e)):t(n)}).catch(i)})},constructAwsRequest:function(e){let t=!!S.Z&&Object.keys(T.env).indexOf("AWS_ACCESS_KEY_ID")>-1;if(t){let t=new _.g;return t.getObject(e.s3Params).then(e=>e.Body)}{let t=this.constructAwsUrl(e);return fetch(t).then(e=>e.ok?e.buffer():Promise.reject(Error("HTTP response failed - ".concat(e.status," - ").concat(e.statusText))))}},constructAwsUrl:function(e){let t="http://s3.amazonaws.com/".concat(e.s3Params.Bucket,"/").concat(e.s3Params.Key);return t=e.s3Params.VersionId?t+"?VersionId="+e.s3Params.VersionId:t,t=e.s3Params.Range?t+"?Range="+e.s3Params.Range:t},extractGzipBuffer:function(e,t){return new Promise((i,n)=>{try{i(b().inflate(e))}catch(e){return n(new m({code:28,file:t.file}))}})},callGitAnnex:function(e,t){let i=g().execSync(e,{shell:!0,cwd:t});return i.toString()},getRemotesInfo:function(e,t){let i=t.relativePath&&t.relativePath.startsWith("/")?t.relativePath.substring(1):t.relativePath,n=this.getLookupKey(i,e),s=this.getHashDirLower(n,e),o=this.getRemoteMetadata(s,n,e),r=this.processRemoteMetadata(o);return r},getLookupKey:function(e,t){return this.callGitAnnex("git-annex lookupkey ".concat(e),t).trim()},getHashDirLower:function(e,t){try{let i=JSON.parse(this.callGitAnnex("git-annex examinekey --json ".concat(e),t));return i.hashdirlower}catch(e){return null}},getRemoteMetadata:function(e,t,i){let n="git show git-annex:".concat(e).concat(t,".log.rmet");return this.callGitAnnex(n,i)},getSingleRemoteInfo:function(e,t){let i="cd ".concat(e,"\n    git-annex info ").concat(t),n=this.callGitAnnex(i);return this.getRemoteBucket(n)},getRemoteBucket:function(e){let t={Bucket:null};for(let i of e.split("\n"))i.includes("bucket: ")&&(t.Bucket=i.split(": ")[1]);return t},processRemoteMetadata:function(e){let t=[],i=e.split("\n");return i.map(e=>{let i=e.split(" ");if(3==i.length){let e=i[2].split("#"),n=i[0],s=i[1].split(":");if(2==e.length&&2==s.length){let i=s[0],o=e[1],r=e[0].substring(1);t.push({timestamp:n,remoteUuid:i,fileName:o,versionId:r})}}}),t},isGitAnnex:function(e){return!!S.Z&&u().existsSync(e+"/.git/annex")}},A=i(3214),E=i.n(A),C=function(e){let t;if(!e.stats)try{t=u().statSync(e.path)}catch(e){t={size:0}}return t},P=i(53095);function N(e,t,i){var n=[];if(!(0,P.JSHINT)(t))for(var s=P.JSHINT.data(),o=0;s.errors.length>o;++o){var r=s.errors[o];r&&n.push(new m({code:27,file:e,line:r.line?r.line:null,character:r.character?r.character:null,reason:r.reason?r.reason:null,evidence:r.evidence?r.evidence:null}))}i(n)}var O={parse:function(e,t){return new Promise(i=>{let n,s;try{n=JSON.parse(t)}catch(e){s=e}finally{s?N(e,t,function(e){i({issues:e,parsed:null})}):i({issues:[],parsed:n})}})},jshint:N},w={parse:function(e,t,i){(n={ignoreWarnings:!!(n=t||{}).ignoreWarnings,ignoreNiftiHeaders:!!n.ignoreNiftiHeaders,ignoreSymlinks:!!n.ignoreSymlinks,ignoreSubjectConsistency:!!n.ignoreSubjectConsistency,blacklistModalities:n.blacklistModalities,verbose:!!n.verbose,gitTreeMode:!!n.gitTreeMode,remoteFiles:!!n.remoteFiles,gitRef:n.gitRef||"HEAD",config:n.config||{},schema:"disable"!==n.schema&&n.schema}).config&&"boolean"!=typeof n.config?this.parseConfig(e,n.config,function(e,t){n.config=t,i(e,n)}):i(null,n)},getOptions:()=>{let e=Object.freeze({...n});return e},loadConfig:function(e,t,i){if("string"==typeof t){let n;if(S.Z){let i=E().isAbsolute(t)?t:E().join(e,t);n={path:i}}else if(!(n=[...e].find(e=>e.webkitRelativePath===t)))return i(null,n,JSON.stringify({}));n.stats=C(n),Z(n).then(e=>{i(null,n,e)}).catch(e=>{44===e.code?i(null,n,JSON.stringify({})):i([e],n,null)})}else"object"==typeof t&&i(null,{path:"config"},JSON.stringify(t))},parseConfig:function(e,t,i){this.loadConfig(e,t,function(e,t,n){e?i(e,null):O.parse(t,n).then(e=>{let{issues:t,parsed:n}=e;if(t&&t.length>0)i(t,null);else{let e={ignore:n.ignore?[].concat(n.ignore):[],warn:n.warn?[].concat(n.warn):[],error:n.error?[].concat(n.error):[],ignoredFiles:n.ignoredFiles?[].concat(n.ignoredFiles):[]};i(null,e)}})})}},j=i(27061),L=function(e,t,i,n){u().access(e.path,function(s){s?u().lstat(e.path,function(s,o){!s&&o&&o.isSymbolicLink()?w.getOptions().remoteFiles?function(e,t,i,n){if(t){let t=!!e.name.includes(".nii")&&500;I.getAnnexedFile(e,i,t,n)}else n(new m({code:43,file:e}),e.stats)}(e,t,i,n):n(new m({code:114,file:e}),e.stats):n(new m({code:44,file:e}),e.stats)}):j.nextTick(function(){0===e.stats.size&&n(new m({code:99,file:e,reason:"Empty files (".concat(e.path,") not allowed.")}),e.stats),n(null,e.stats)})})},M=i(21832),x=i.n(M);let D=/.json$/,k=e=>D.test(S.Z?e.name:e.relativePath);if("undefined"==typeof TextDecoder){let{TextDecoder:e}=i(71323);i.g.TextDecoder=e}let z=(e,t,i)=>{k(e)&&i({isUtf8:x()(t)})};var Z=function(e,t,i){return new Promise((n,s)=>{if(S.Z)L(e,t,i,function(t,i,o){return t?s(t):(o||u().readFile(e.path,function(t,i){return t?s(t):(z(e,i,t=>{let{isUtf8:i}=t;i||s(new m({code:123,file:e}))}),n(i.toString("utf8")))}),o)?n(o.toString("utf8")):void 0});else{let t=new FileReader;t.onloadend=t=>{if(t.target.readyState==FileReader.DONE){if(!t.target.result)return s(new m({code:44,file:e}));let i=new Uint8Array(t.target.result);return z(e,i,t=>{let{isUtf8:i}=t;i||s(new m({code:123,file:e}))}),n(new TextDecoder().decode(i))}},t.readAsArrayBuffer(e)}})},R=i(62962);let F=i(78843);var q=i(9038),G=i(30816).Buffer;async function U(e,t){let i;if(i="slice"in e?e.slice(0,1024):await e.readBytes(0,1024),0==e.size){t({error:new m({code:44,file:e})});return}if(e.size<348){t({error:new m({code:36,file:e})});return}let n=function(e,t){let i=new FileReader;return i.onloadend=function(){let n;let s=new Uint8Array(i.result);try{n=e.name.endsWith(".nii")?s:b().inflate(s)}catch(i){t(B(s,e));return}t($(n,e))},i}(e,t);n.readAsArrayBuffer(i)}function $(e,t){var i;try{i=q.parseNIfTIHeader(e)}catch(e){return{error:new m({code:26,file:t})}}return i}function B(e,t){try{q.parseNIfTIHeader(e)}catch(e){return{error:new m({code:26,file:t})}}return{error:new m({code:28,file:t})}}var V=i(36678),H=i.n(V);async function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=await eo(e),n=S.Z?await X(E().resolve(e),i,t):function(e,t){let i=[];for(let n=0;n<e.length;n++){let s=e[n];s.relativePath=J(s.webkitRelativePath),t.ignores(E().relative("/",s.relativePath))&&(s.ignore=!0),i.push(s)}return i}(e,i),s=Y(n);return s}function Y(e){let t={};for(let i=0;i<e.length;i++)t[i]=e[i];return t}function J(e){if(-1!==e.indexOf("\\")){let t=e.split("\\");return"/"+t.slice(1).join("/")}if("/"===e[0])return e;{let t=e.split("/");return"/"+t.slice(1).join("/")}}async function X(e,t,i){let n=e.substr(e.lastIndexOf(E().sep)+1)+"$",s=e.replace(new RegExp(n),"");if(i.gitTreeMode){let n=await en(e,t,i);if(null!==n)return n}return await es(e,s,t,i)}let K=(e,t)=>new Promise(i=>{let n="",s=y.spawn("git",["ls-tree","-l","-r",t],{cwd:e,encoding:"utf-8"});s.stdout.on("data",e=>{n+=e.toString()}),s.stderr.on("data",()=>{i(null)}),s.on("close",()=>{i(n.trim().split("\n"))})}),Q=e=>e.map(e=>{let[t,i]=e.split("	"),[n,s,o,r]=t.split(/\s+/);return{path:i,mode:n,objType:s,objHash:o,size:r}}).filter(e=>{let{path:t,mode:i}=e;return!/^\.git/.test(t)&&!/^\.datalad/.test(t)&&".gitattributes"!==t&&"160000"!==i}).reduce((e,t)=>{let{files:i,symlinkFilenames:n,symlinkObjects:s}=e,{path:o,mode:r,objHash:a,size:l}=t;return"120000"===r?(n.push(o),s.push(a)):i.push({path:o,size:parseInt(l)}),{files:i,symlinkFilenames:n,symlinkObjects:s}},{files:[],symlinkFilenames:[],symlinkObjects:[]}),ee=(e,t)=>new Promise(i=>{let n="",s=y.spawn("git",["cat-file","--batch","--buffer"],{cwd:e,encoding:"utf-8"});s.stdin.write(t),s.stdin.end(),s.stdout.on("data",e=>{n+=e.toString()}),s.stderr.on("data",()=>{i(null)}),s.on("close",()=>{i(n.trim().split("\n"))})}),et=(e,t)=>e.filter((e,t)=>t%2==1).map((e,i)=>{let n=t[i],s=e.split("/").pop(),o=parseInt(s.match(/-s(\d+)/)[1]);return{path:n,size:o}}),ei=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];return n.reduce((e,t)=>[...e,...t],[]).map(e=>(e.relativePath=E().normalize("".concat(E().sep).concat(e.path)),e)).filter(e=>{let i=t.ignores(e.relativePath.slice(1));return!i}).map(t=>(t.relativePath=J(t.relativePath),t.name=E().basename(t.path),t.path=E().join(e,t.relativePath),t))};async function en(e,t,i){let n=await K(e,i.gitRef);if(null===n||1===n.length&&""===n[0])return null;let{files:s,symlinkFilenames:o,symlinkObjects:r}=Q(n),a=await ee(e,r.join("\n")),l=et(a,o);return ei(e,t,s,l)}async function es(e,t,i,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=await u().promises.readdir(e,{withFileTypes:!0});for(let r of o){let o=E().join(e,r.name),a=J(E().relative(t,o)),l=i.ignores(E().relative("/",a)),c={name:r.name,path:o,relativePath:a};if(l&&(c.ignore=!0),r.isDirectory())await es(o,t,i,n,s);else if(r.isSymbolicLink()){if(n.ignoreSymlinks)s.push(c);else try{let e=await u().promises.realpath(o),r=await u().promises.stat(e);r.isDirectory()?await es(e,t,i,n,s):s.push(c)}catch(e){return}}else s.push(c)}return s}async function eo(e){let t=H()().add(".*").add("!*.icloud").add("/derivatives").add("/sourcedata").add("/code"),i=S.Z?function(e){let t=e+"/.bidsignore";try{return u().accessSync(t),{path:t,stats:{size:null}}}catch(e){return null}}(e):function(e){for(var t=0;t<e.length;t++){let i=e[t],n=J(i.webkitRelativePath);if("/.bidsignore"===n)return i}}(e);if(i){let e=await Z(i);t.add(e)}return t}var er=Object.assign(W,{readDir:W,getFilesFromFs:es,fileArrayToObject:Y,harmonizeRelativePath:J,readLsTreeLines:Q,readCatFileLines:et,processFiles:ei});let ea=e=>{let t=e.filename,i=e.path,n=t.length-1,s=t[n],o=t.slice(0,n),r=o.filter(e=>0>i.indexOf(e)),a=[];return i.map((e,t)=>{let n=i.slice(0,t+1),l=n.join("/"),c=o.filter(e=>n.indexOf(e)>-1),d=c.join("_");for(let e=0;e<Math.pow(2,r.length);e++){let t=r.filter((t,i)=>e&1<<i).concat([s]).join("_");a.push(el(l,t,d))}}),t.indexOf("bold.json")>-1&&(a=ec(a)),a},el=(e,t,i)=>{let n=i?[i,t].join("_"):t;return e+"/"+n},ec=e=>e.filter(e=>e.indexOf("task")>-1),ed={task_re:/sub-(.*?)_task-[a-zA-Z0-9]*[_-][a-zA-Z0-9]*(?:_acq-[a-zA-Z0-9-]*)?(?:_run-\d+)?_/g,acq_re:/sub-(.*?)(_task-\w+.\w+)?(_acq-[a-zA-Z0-9]*[_-][a-zA-Z0-9]*)(?:_run-\d+)?_/g,sub_re:/sub-[a-zA-Z0-9]*[_-][a-zA-Z0-9]*_/g,ses_re:/ses-[a-zA-Z0-9]*[_-][a-zA-Z0-9]*?_(.*?)/g},eu=[[ed.task_re,58,"task name contains illegal character:"],[ed.acq_re,59,"acq name contains illegal character:"],[ed.sub_re,62,"sub name contains illegal character:"],[ed.ses_re,63,"ses name contains illegal character:"]];var ef={FileAPI:c,newFile:function(e){return new(c())([""],e)},readFile:Z,readDir:er,readBuffer:e=>new Promise((t,i)=>{if(S.Z)t(u().readFileSync(e.path));else try{let i=new FileReader;i.onload=e=>{t(e.target.result)},i.readAsArrayBuffer(e)}catch(e){i(e)}}),readOMEFile:e=>{let t=R.ZP.load(e).ImageDescription.description;return new Promise((e,i)=>{F.parseStringPromise(t).then(t=>{e(t)}).catch(e=>i(e))})},readNiftiHeader:function(e,t,i,n){S.Z?L(e,t,i,function(t,i,s){if(e.stats=i,t){n({error:t});return}if(i&&i.size<348){n({error:new m({code:36,file:e})});return}if(!s)return function(e,t){let i=G.alloc(1024);u().open(e.path,"r",function(n,s){if(n){t({error:new m({code:44,file:e})});return}u().read(s,i,0,1024,0,function(){if(e.name.endsWith(".nii"))t($(i,e));else try{let n=b().inflate(i);t($(n,e))}catch(n){t(B(i,e))}})})}(e,n);n($(s,e))}):U(e,n)},generateMergedSidecarDict:function(e,t){let i={};return e.map(e=>{let n=t[e];if(n)for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);else null===n&&(i.invalid=!0)}),i},potentialLocations:e=>{e=e.startsWith("/")?e:"/"+e;let t=e.split("/"),i=t[t.length-1],n=t.splice(0,t.length-1),s=i.split("_"),o=ea({path:n,filename:s});return 0>o.indexOf(e)?[e].concat(o).reverse():o},getBFileContent:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t.hasOwnProperty(n))return t[n]}},collectDirectorySize:e=>{let t=0,i=Object.keys(e);return i.forEach(i=>{let n=e[i];n.size?(t+=n.size,S.Z&&(n.stats={size:n.size})):(n.stats=C(n),t+=n.stats.size)}),t},illegalCharacterTest:e=>{let t=[],i=Object.keys(e);return i.forEach(i=>{let n=e[i],s=n.relativePath;s.startsWith("/derivatives")||s.startsWith("/code")||s.startsWith("/sourcedata")||eu.map(e=>{let i=e[0],o=e[1],r=e[2];i.exec(s)&&t.push(new m({file:n,code:o,evidence:r+s}))})}),t},sessions:{sessionMatcher:RegExp("(ses-.*?)/"),Subject:function(){this.files=[],this.sessions=[],this.missingSessions=[]}},remoteFiles:I,getFileStats:C},eh=i(64934);function ep(e){this.path=this.fileList[e].relativePath;let t=!1,i=this.path.includes(this.dictPath)?this.dictArgs:[];return i.length>0&&i.every(e=>"coordsystem"===e||this.path.includes(e))&&(t=function(e,t,i){let n=!1,s=!1,o=i.relativePath===e;return!o&&eh.Z.file.isDatafile(i.relativePath)&&(n=!0),!o&&!n&&((t.endsWith("_meg")||t.endsWith("_coordsystem"))&&(s=i.relativePath.includes("_meg.ds")),(t.endsWith("_ieeg")||t.endsWith("_coordsystem"))&&(s=i.relativePath.includes("_ieeg.mefd"))),s&&(n=!0),n}(this.file.relativePath,this.noExt,this.fileList[e])),t}let em=/^\/derivatives\/\w+re/;var e_=e=>{let t=[];for(let i of e){let e=i.split("_"),n=e[e.length-1];if(eh.Z.file.hasModality(i)){let e=n.slice(0,n.indexOf("."));-1===t.indexOf(e)&&t.push(e)}}return t},ey=i(66989),eg=e=>{let t=[];return Object.keys(e).forEach(i=>{let n=e[i];if(!eh.Z.file.isStimuliData(n.relativePath)&&eh.Z.isBIDS(n.relativePath)){let e=eh.Z.getPathValues(n.relativePath),i=e.sub&&"emptyroom"==e.sub;e.ses&&-1===t.indexOf(e.ses)&&!i&&t.push(e.ses)}}),t},ev=e=>{let t=[],i=Object.keys(e);return i.forEach(i=>{let n=e[i];if(!eh.Z.file.isStimuliData(n.relativePath)&&eh.Z.isBIDS(n.relativePath)){let e=eh.Z.getPathValues(n.relativePath),i=e.sub&&"emptyroom"==e.sub;e.sub&&-1===t.indexOf(e.sub)&&!i&&t.push(e.sub)}}),t},eb=i(91722),eS=i.n(eb)()(200);let eT=["metre","m","kilogram","kg","second","s","ampere","A","kelvin","K","mole","mol","candela","cd","radian","rad","steradian","sr","hertz","Hz","newton","N","pascal","Pa","joule","J","watt","W","coulomb","C","volt","V","farad","F","ohm","Ω","siemens","S","weber","Wb","tesla","T","henry","H","degree","Celsius","\xb0C","lumen","lm","lux","lx","becquerel","Bq","gray","Gy","sievert","Sv","katal","kat"],eI=["deca","da","hecto","h","kilo","k","mega","M","giga","G","tera","T","peta","P","exa","E","zetta","Z","yotta","Y","deci","d","centi","c","milli","m","micro","\xb5","nano","n","pico","p","femto","f","atto","a","zepto","z","yocto","y"],eA=["/","*","⋅"],eE=[...eA,"^"],eC=["⁰","\xb9","\xb2","\xb3","⁴","⁵","⁶","⁷","⁸","⁹"],eP="(".concat(eI.join("|"),")?"),eN="(".concat(eT.join("|"),")"),eO="(".concat("⁻","?[").concat(eC,"]+)?"),ew=new RegExp("".concat("^").concat(eP).concat(eN,"(").concat(eO,"|").concat("(\\^-?[0-9]+)?",")").concat("$")),ej=new RegExp("[".concat(eA.join(""),"]")),eL=e=>"n/a"===e.trim().toLowerCase(),eM=e=>"%"===e.trim();var ex={array:s,config:a,files:ef,bids_files:{checkSidecarForDatafiles:function(e,t){let i=e.relativePath.replace(".json",""),n=i.substring(i.lastIndexOf("/")+1,i.length),s={dictArgs:n.split("_"),dictName:n,dictPath:i.substring(0,i.lastIndexOf("/")+1),file:e,fileList:t,noExt:i},o=Object.keys(t);return o.some(ep,s)}},issues:m,json:O,modalities:{group:function(e){for(var t=[[["magnitude1","magnitude2","phase1","phase2"],"fieldmap"],[["magnitude1","magnitude2","phasediff"],"fieldmap"],[["magnitude1","phasediff"],"fieldmap"],[["magnitude","fieldmap"],"fieldmap"],[["epi"],"fieldmap"]],i=0;i<t.length;i++){for(var n=t[i][0],s=t[i][1],o=!0,r=0;r<n.length;r++)-1===e.indexOf(n[r])&&(o=!1);if(o){e.push(s);for(var a=0;a<n.length;a++)e.splice(e.indexOf(n[a]),1)}}return e}},options:w,type:eh.Z,collectSummary:(e,t)=>{let i={sessions:[],subjects:[],subjectMetadata:{},tasks:[],modalities:[],secondaryModalities:[],totalFiles:-1,size:0,dataProcessed:!1,pet:null};i.dataProcessed=-1!==Object.values(e).findIndex(e=>em.test(e.relativePath)),Object.keys(e).forEach(function(t){e[t].ignore&&delete e[t]}),i.totalFiles=Object.keys(e).length;let n=Object.keys(e).map(t=>e[t].relativePath);i.size=ef.collectDirectorySize(e);let{primary:s,secondary:o}=(0,ey.Z)(n);return i.modalities=s,i.secondaryModalities=o,i.dataTypes=e_(n),i.subjects=ev(e,t),i.sessions=eg(e,t),i},limit:eS,unit:{roots:eT,prefixes:eI,superscriptNumbers:eC,operators:eE,validate:e=>{if(eL(e)||eM(e))return{isValid:!0,evidence:""};{let t=e.split(ej).map(e=>e.trim()),i=t.filter(e=>!ew.test(e)),n=0===i.length,s=n?"":"Subunit".concat(1===i.length?"":"s"," (").concat(i.join(", "),") of unit ").concat(e," is invalid. ");return{isValid:n,evidence:s}}}}}},69474:function(e,t){"use strict";t.Z=!1},22070:function(e,t,i){"use strict";var n=i(1916);let s=e=>{let t=e&&e.key?"search?q="+e.key:"";return"https://neurostars.org/"+t};t.Z=function(e){let t=e.hasOwnProperty("code")?e.code:null,i=n.Z[t];this.key=i.key,this.code=t,this.file=e.hasOwnProperty("file")?e.file:null,this.evidence=e.hasOwnProperty("evidence")?e.evidence:null,this.line=e.hasOwnProperty("line")?e.line:null,this.character=e.hasOwnProperty("character")?e.character:null,this.severity=e.hasOwnProperty("severity")?e.severity:i.severity,this.reason=e.hasOwnProperty("reason")?e.reason:i.reason,this.helpUrl=s(i)}},1916:function(e,t){"use strict";t.Z={0:{key:"INTERNAL ERROR",severity:"error",reason:"Internal error. SOME VALIDATION STEPS MAY NOT HAVE OCCURRED"},1:{key:"NOT_INCLUDED",severity:"error",reason:'Files with such naming scheme are not part of BIDS specification. This error is most commonly caused by typos in file names that make them not BIDS compatible. Please consult the specification and make sure your files are named correctly. If this is not a file naming issue (for example when including files not yet covered by the BIDS specification) you should include a ".bidsignore" file in your dataset (see https://github.com/bids-standard/bids-validator#bidsignore for details). Please note that derived (processed) data should be placed in /derivatives folder and source data (such as DICOMS or behavioural logs in proprietary formats) should be placed in the /sourcedata folder.'},2:{key:"REPETITION_TIME_GREATER_THAN",severity:"warning",reason:"'RepetitionTime' is greater than 100 are you sure it's expressed in seconds?"},3:{key:"ECHO_TIME_GREATER_THAN",severity:"warning",reason:"'EchoTime' is greater than 1 are you sure it's expressed in seconds?"},4:{key:"ECHO_TIME_DIFFERENCE_GREATER_THAN",severity:"warning",reason:"'EchoTimeDifference' is greater than 1 are you sure it's expressed in seconds?"},5:{key:"TOTAL_READOUT_TIME_GREATER_THAN",severity:"warning",reason:"'TotalReadoutTime' is greater than 10 are you sure it's expressed in seconds?"},6:{key:"ECHO_TIME_NOT_DEFINED",severity:"warning",reason:"You should define 'EchoTime' for this file. If you don't provide this information field map correction will not be possible."},7:{key:"PHASE_ENCODING_DIRECTION_NOT_DEFINED",severity:"warning",reason:"You should define 'PhaseEncodingDirection' for this file. If you don't provide this information field map correction will not be possible."},8:{key:"EFFECTIVE_ECHO_SPACING_NOT_DEFINED",severity:"warning",reason:"You should define 'EffectiveEchoSpacing' for this file. If you don't provide this information field map correction will not be possible."},9:{key:"TOTAL_READOUT_TIME_NOT_DEFINED",severity:"warning",reason:"You should define 'TotalReadoutTime' for this file. If you don't provide this information field map correction using TOPUP might not be possible."},10:{key:"REPETITION_TIME_MUST_DEFINE",severity:"error",reason:"You have to define 'RepetitionTime' for this file."},11:{key:"REPETITION_TIME_UNITS",severity:"error",reason:"Repetition time was not defined in seconds, milliseconds or microseconds in the scan's header."},12:{key:"REPETITION_TIME_MISMATCH",severity:"error",reason:"Repetition time did not match between the scan's header and the associated JSON metadata file."},13:{key:"SLICE_TIMING_NOT_DEFINED",severity:"warning",reason:"You should define 'SliceTiming' for this file. If you don't provide this information slice time correction will not be possible. 'Slice Timing' is the time at which each slice was acquired within each volume (frame) of the acquisition. Slice timing is not slice order -- rather, it is a list of times containing the time (in seconds) of each slice acquisition in relation to the beginning of volume acquisition."},15:{key:"ECHO_TIME1-2_NOT_DEFINED",severity:"error",reason:"You have to define 'EchoTime1' and 'EchoTime2' for this file."},16:{key:"ECHO_TIME_MUST_DEFINE",severity:"error",reason:"You have to define 'EchoTime' for this file."},17:{key:"UNITS_MUST_DEFINE",severity:"error",reason:"You have to define 'Units' for this file."},18:{key:"PHASE_ENCODING_DIRECTION_MUST_DEFINE",severity:"error",reason:"You have to define 'PhaseEncodingDirection' for this file."},19:{key:"TOTAL_READOUT_TIME_MUST_DEFINE",severity:"error",reason:"You have to define 'TotalReadoutTime' for this file."},20:{key:"EVENTS_COLUMN_ONSET",severity:"error",reason:"First column of the events file must be named 'onset'"},21:{key:"EVENTS_COLUMN_DURATION",severity:"error",reason:"Second column of the events file must be named 'duration'"},22:{key:"TSV_EQUAL_ROWS",severity:"error",reason:"All rows must have the same number of columns as there are headers."},23:{key:"TSV_EMPTY_CELL",severity:"error",reason:'Empty cell in TSV file detected: The proper way of labeling missing values is "n/a".'},24:{key:"TSV_IMPROPER_NA",severity:"warning",reason:'A proper way of labeling missing values is "n/a".'},25:{key:"EVENTS_TSV_MISSING",severity:"warning",reason:'Task scans should have a corresponding events.tsv file. If this is a resting state scan you can ignore this warning or rename the task to include the word "rest".'},26:{key:"NIFTI_HEADER_UNREADABLE",severity:"error",reason:"We were unable to parse header data from this NIfTI file. Please ensure it is not corrupted or mislabeled."},27:{key:"JSON_INVALID",severity:"error",reason:"Not a valid JSON file."},28:{key:"GZ_NOT_GZIPPED",severity:"error",reason:"This file ends in the .gz extension but is not actually gzipped."},29:{key:"VOLUME_COUNT_MISMATCH",severity:"error",reason:"The number of volumes in this scan does not match the number of volumes in the corresponding .bvec and .bval files."},30:{key:"BVAL_MULTIPLE_ROWS",severity:"error",reason:".bval files should contain exactly one row of volumes."},31:{key:"BVEC_NUMBER_ROWS",severity:"error",reason:".bvec files should contain exactly three rows of volumes."},32:{key:"DWI_MISSING_BVEC",severity:"error",reason:"DWI scans should have a corresponding .bvec file."},33:{key:"DWI_MISSING_BVAL",severity:"error",reason:"DWI scans should have a corresponding .bval file."},36:{key:"NIFTI_TOO_SMALL",severity:"error",reason:"This file is too small to contain the minimal NIfTI header."},37:{key:"INTENDED_FOR",severity:"error",reason:"'IntendedFor' field needs to point to an existing file."},38:{key:"INCONSISTENT_SUBJECTS",severity:"warning",reason:"Not all subjects contain the same files. Each subject should contain the same number of files with the same naming unless some files are known to be missing."},39:{key:"INCONSISTENT_PARAMETERS",severity:"warning",reason:"Not all subjects/sessions/runs have the same scanning parameters."},40:{key:"NIFTI_DIMENSION",severity:"warning",reason:"NIfTI file's header field for dimension information blank or too short."},41:{key:"NIFTI_UNIT",severity:"warning",reason:"NIfTI file's header field for unit information for x, y, z, and t dimensions empty or too short"},42:{key:"NIFTI_PIXDIM",severity:"warning",reason:"NIfTI file's header field for pixel dimension information empty or too short."},43:{key:"ORPHANED_SYMLINK",severity:"error",reason:"This file appears to be an orphaned symlink. Make sure it correctly points to its referent."},44:{key:"FILE_READ",severity:"error",reason:"We were unable to read this file. Make sure it contains data (file size > 0 kB) and is not corrupted, incorrectly named, or incorrectly symlinked."},45:{key:"SUBJECT_FOLDERS",severity:"error",reason:'There are no subject folders (labeled "sub-*") in the root of this dataset.'},46:{key:"BVEC_ROW_LENGTH",severity:"error",reason:"Each row in a .bvec file should contain the same number of values."},47:{key:"B_FILE",severity:"error",reason:".bval and .bvec files must be single space delimited and contain only numerical values."},48:{key:"PARTICIPANT_ID_COLUMN",severity:"error",reason:"Participants and phenotype .tsv files must have a 'participant_id' column."},49:{key:"PARTICIPANT_ID_MISMATCH",severity:"error",reason:"Participant labels found in this dataset did not match the values in participant_id column found in the participants.tsv file."},50:{key:"TASK_NAME_MUST_DEFINE",severity:"error",reason:"You have to define 'TaskName' for this file."},51:{key:"PHENOTYPE_SUBJECTS_MISSING",severity:"error",reason:"A phenotype/ .tsv file lists subjects that were not found in the dataset."},52:{key:"STIMULUS_FILE_MISSING",severity:"error",reason:"A stimulus file was declared but not found in the dataset."},53:{key:"NO_T1W",severity:"ignore",reason:"Dataset does not contain any T1w scans."},54:{key:"BOLD_NOT_4D",severity:"error",reason:"Bold scans must be 4 dimensional."},55:{key:"JSON_SCHEMA_VALIDATION_ERROR",severity:"error",reason:"Invalid JSON file. The file is not formatted according the schema."},56:{key:"Participants age 89 or higher",severity:"warning",reason:'As per section 164.514(C) of "The De-identification Standard" under HIPAA guidelines, participants with age 89 or higher should be tagged as 89+. More information can be found at https://www.hhs.gov/hipaa/for-professionals/privacy/special-topics/de-identification/#standard'},57:{key:"DATASET_DESCRIPTION_JSON_MISSING",severity:"error",reason:"The compulsory file /dataset_description.json is missing. See Section 03 (Modality agnostic files) of the BIDS specification."},58:{key:"TASK_NAME_CONTAIN_ILLEGAL_CHARACTER",severity:"error",reason:"Task Name contain an Illegal Character hyphen or underscore. Please edit the filename as per BIDS spec."},59:{key:"ACQ_NAME_CONTAIN_ILLEGAL_CHARACTER",severity:"error",reason:"acq Name contain an Illegal Character hyphen or underscore. Please edit the filename as per BIDS spec."},60:{key:"SFORM_AND_QFORM_IN_IMAGE_HEADER_ARE_ZERO",severity:"error",reason:"sform_code and qform_code in the image header are 0. The image/file will be considered invalid or assumed to be in LAS orientation."},61:{key:"QUICK_VALIDATION_FAILED",severity:"error",reason:'Quick validation failed - the general folder structure does not resemble a BIDS dataset. Have you chosen the right folder (with "sub-*/" subfolders)? Check for structural/naming issues and presence of at least one subject.'},62:{key:"SUBJECT_VALUE_CONTAINS_ILLEGAL_CHARACTER",severity:"error",reason:"Sub label contain an Illegal Character hyphen or underscore. Please edit the filename as per BIDS spec."},63:{key:"SESSION_VALUE_CONTAINS_ILLEGAL_CHARACTER",severity:"error",reason:"Ses label contain an Illegal Character hyphen or underscore. Please edit the filename as per BIDS spec."},64:{key:"SUBJECT_LABEL_IN_FILENAME_DOESNOT_MATCH_DIRECTORY",severity:"error",reason:"Subject label in the filename doesn't match with the path of the file. File seems to be saved in incorrect subject directory."},65:{key:"SESSION_LABEL_IN_FILENAME_DOESNOT_MATCH_DIRECTORY",severity:"error",reason:"Session label in the filename doesn't match with the path of the file. File seems to be saved in incorrect session directory."},66:{key:"SLICETIMING_VALUES_GREATOR_THAN_REPETITION_TIME",severity:"error",reason:'"SliceTiming" value/s contains invalid value as it is greater than RepetitionTime.  SliceTiming values should be in seconds not milliseconds (common mistake).'},67:{key:"NO_VALID_DATA_FOUND_FOR_SUBJECT",severity:"error",reason:"No BIDS compatible data found for at least one subject."},68:{key:"FILENAME_COLUMN",severity:"error",reason:"_scans.tsv files must have a 'filename' column."},70:{key:"WRONG_NEW_LINE",severity:"error",reason:"All TSV files must use Line Feed '\\n' characters to denote new lines. This files uses Carriage Return '\\r'."},71:{key:"MISSING_TSV_COLUMN_CHANNELS",severity:"error",reason:"The column names of the channels file must begin with ['name', 'type', 'units']"},72:{key:"MISSING_TSV_COLUMN_IEEG_CHANNELS",severity:"error",reason:"The column names of the channels file must begin with ['name', 'type', 'units', 'low_cutoff', 'high_cutoff']"},73:{key:"MISSING_TSV_COLUMN_IEEG_ELECTRODES",severity:"error",reason:"The column names of the electrodes file must begin with ['name', 'x', 'y', 'z', 'size']"},74:{key:"DUPLICATE_NIFTI_FILES",severity:"error",reason:"NIfTI file exist with both '.nii' and '.nii.gz' extensions."},75:{key:"NIFTI_PIXDIM4",severity:"error",reason:"NIfTI file's header is missing time dimension information."},76:{key:"EFFECTIVEECHOSPACING_TOO_LARGE",severity:"error",reason:"Abnormally high value of 'EffectiveEchoSpacing'."},77:{key:"UNUSED_STIMULUS",severity:"warning",reason:"There are files in the /stimuli directory that are not utilized in any _events.tsv file."},78:{key:"CHANNELS_COLUMN_SFREQ",severity:"error",reason:"Fourth column of the channels file must be named 'sampling_frequency'"},79:{key:"CHANNELS_COLUMN_LOWCUT",severity:"error",reason:"Third column of the channels file must be named 'low_cutoff'"},80:{key:"CHANNELS_COLUMN_HIGHCUT",severity:"error",reason:"Third column of the channels file must be named 'high_cutoff'"},81:{key:"CHANNELS_COLUMN_NOTCH",severity:"error",reason:"Third column of the channels file must be named 'notch'"},82:{key:"CUSTOM_COLUMN_WITHOUT_DESCRIPTION",severity:"warning",reason:"Tabular file contains custom columns not described in a data dictionary"},83:{key:"ECHOTIME1_2_DIFFERENCE_UNREASONABLE",severity:"error",reason:"The value of (EchoTime2 - EchoTime1) should be within the range of 0.0001 - 0.01."},84:{key:"ACQTIME_FMT",severity:"error",reason:'Entries in the "acq_time" column of _scans.tsv should be expressed in the following format YYYY-MM-DDTHH:mm:ss[.000000] (year, month, day, hour (24h), minute, second, and optionally fractional second; this is equivalent to the RFC3339 "date-time" format.'},85:{key:"SUSPICIOUSLY_LONG_EVENT_DESIGN",severity:"warning",reason:"The onset of the last event is after the total duration of the corresponding scan. This design is suspiciously long. "},86:{key:"SUSPICIOUSLY_SHORT_EVENT_DESIGN",severity:"warning",reason:"The onset of the last event is less than half the total duration of the corresponding scan. This design is suspiciously short. "},87:{key:"SLICETIMING_ELEMENTS",severity:"warning",reason:"The number of elements in the SliceTiming array should match the 'k' dimension of the corresponding NIfTI volume."},88:{key:"MALFORMED_BVEC",severity:"error",reason:"The contents of this .bvec file are undefined or severely malformed. "},89:{key:"MALFORMED_BVAL",severity:"error",reason:"The contents of this .bval file are undefined or severely malformed. "},90:{key:"SIDECAR_WITHOUT_DATAFILE",severity:"error",reason:"A json sidecar file was found without a corresponding data file"},91:{key:"_FIELDMAP_WITHOUT_MAGNITUDE_FILE",severity:"error",reason:"_fieldmap.nii[.gz] file does not have accompanying _magnitude.nii[.gz] file. "},92:{key:"MISSING_MAGNITUDE1_FILE",severity:"warning",reason:"Each _phasediff.nii[.gz] file should be associated with a _magnitude1.nii[.gz] file."},93:{key:"EFFECTIVEECHOSPACING_LARGER_THAN_TOTALREADOUTTIME",severity:"error",reason:"EffectiveEchoSpacing should always be smaller than TotalReadoutTime. "},94:{key:"MAGNITUDE_FILE_WITH_TOO_MANY_DIMENSIONS",severity:"error",reason:"_magnitude1.nii[.gz] and _magnitude2.nii[.gz] files must have exactly three dimensions. "},95:{key:"T1W_FILE_WITH_TOO_MANY_DIMENSIONS",severity:"error",reason:"_T1w.nii[.gz] files must have exactly three dimensions. "},96:{key:"MISSING_TSV_COLUMN_EEG_ELECTRODES",severity:"error",reason:"The column names of the electrodes file must begin with ['name', 'x', 'y', 'z']"},97:{key:"MISSING_SESSION",severity:"warning",reason:"Not all subjects contain the same sessions."},98:{key:"INACCESSIBLE_REMOTE_FILE",severity:"error",reason:"This file appears to be a symlink to a remote annexed file but could not be accessed from any of the configured remotes."},99:{key:"EMPTY_FILE",severity:"error",reason:"Empty files not allowed."},100:{key:"BRAINVISION_LINKS_BROKEN",severity:"error",reason:"Internal file pointers in BrainVision file triplet (*.eeg, *.vhdr, and *.vmrk) are broken or some files do not exist."},101:{key:"README_FILE_MISSING",severity:"warning",reason:"The recommended file /README is missing. See Section 03 (Modality agnostic files) of the BIDS specification."},102:{key:"TOO_FEW_AUTHORS",severity:"warning",reason:"The Authors field of dataset_description.json should contain an array of fields - with one author per field. This was triggered based on the presence of only one author field. Please ignore if all contributors are already properly listed."},103:{key:"MULTIPLE_COMMAS_IN_AUTHOR_FIELD",severity:"error",reason:"The Authors field of dataset_description.json should contain an array of fields - with one author per field. This was triggered based on the presence of multiple commas in a single author field. Please ensure your authors are properly formatted."},104:{key:"HED_ERROR",severity:"error",reason:"The validation on this HED string returned an error."},105:{key:"HED_WARNING",severity:"warning",reason:"The validation on this HED string returned a warning."},106:{key:"HED_INTERNAL_ERROR",severity:"error",reason:"An internal error occurred during HED validation."},107:{key:"HED_INTERNAL_WARNING",severity:"warning",reason:"An internal warning occurred during HED validation."},108:{key:"HED_MISSING_VALUE_IN_SIDECAR",severity:"warning",reason:"The json sidecar does not contain this column value as a possible key to a HED string."},109:{key:"HED_VERSION_NOT_DEFINED",severity:"warning",reason:"You should define 'HEDVersion' for this file. If you don't provide this information, the HED validation will use the latest version available."},113:{key:"NO_AUTHORS",severity:"warning",reason:"The Authors field of dataset_description.json should contain an array of fields - with one author per field. This was triggered because there are no authors, which will make DOI registration from dataset metadata impossible."},114:{key:"INCOMPLETE_DATASET",severity:"error",reason:"This dataset contains remote files. If you would like to validate with remote files, use the --remoteFiles option."},115:{key:"EMPTY_DATASET_NAME",severity:"warning",reason:"The Name field of dataset_description.json is present but empty of visible characters."},123:{key:"INVALID JSON ENCODING",severity:"error",reason:"JSON files must be valid utf-8."},124:{key:"INVALID_TSV_UNITS",severity:"error",reason:"Units in .tsv files must be valid SI units as described in the BIDS spec Appendix V (https://bids-specification.readthedocs.io/en/stable/99-appendices/05-units.html)."},125:{key:"CHANNELS_COLUMN_STATUS",severity:"error",reason:"Status column in channels.tsv files must contain only one of two values: good or bad. Per the BIDS spec: (https://bids-specification.readthedocs.io/en/stable/04-modality-specific-files/04-intracranial-electroencephalography.html#channels-description-_channelstsv)."},126:{key:"MISSING_TSV_COLUMN_TIME",severity:"error",reason:"*_blood.tsv require a time column."},127:{key:"NOT_IN_USE",severity:"error",reason:"Code 127 is currently not used or reserved."},128:{key:"NO_GENETIC_DATABASE",severity:"error",reason:"A genetic_info.json file is present but no Database field present in Genetics object in dataset_description.json."},129:{key:"SCANS_FILENAME_NOT_MATCH_DATASET",severity:"error",reason:"The filename in scans.tsv file does not match what is present in the BIDS dataset."},130:{key:"CHANNELS_COLUMN_TYPE_UPPER_CASE",severity:"error",reason:"Type column in channels.tsv files should consist of upper-case characters."},131:{key:"CHANNELS_COLUMN_TYPE",severity:"error",reason:"Type column in channels.tsv files should only consist of values allowed in the specification for MEG/EEG/iEEG data."},133:{key:"LABELING_TYPE_MUST_DEFINE",severity:"error",reason:"You should define 'ArterialSpinLabelingType' for this file. 'ArterialSpinLabelingType' can be CASL, PCASL, PASL."},134:{key:"LABELING_DURATION_MUST_DEFINE",severity:"error",reason:"You should define 'LabelingDuration' for this file. 'LabelingDuration' is the total duration of the labeling pulse train, in seconds, corresponding to the temporal width of the labeling bolus for `(P)CASL`. In case all control-label volumes (or deltam or CBF) have the same `LabelingDuration`, a scalar must be specified. In case the control-label volumes (or deltam or cbf) have a different `LabelingDuration`, an array of numbers must be specified, for which any `m0scan` in the timeseries has a `LabelingDuration` of zero. In case an array of numbers is provided, its length should be equal to the number of volumes specified in `*_aslcontext.tsv`. Corresponds to DICOM Tag 0018,9258 `ASL Pulse Train Duration`."},135:{key:"POST_LABELING_DELAY_MUST_DEFINE",severity:"error",reason:"You should define 'PostLabelingDelay' for this file. 'PostLabelingDelay' is the time, in seconds, after the end of the labeling (for (P)CASL) or middle of the labeling pulse (for PASL) until the middle of the excitation pulse applied to the imaging slab (for 3D acquisition) or first slice (for 2D acquisition). Can be a number (for a single-PLD time series) or an array of numbers (for multi-PLD and Look-Locker). In the latter case, the array of numbers contains the PLD of each volume (i.e. each 'control' and 'label') in the acquisition order. Any image within the time-series without a PLD (e.g. an 'm0scan') is indicated by a zero. Based on DICOM Tags 0018,9079 Inversion Times and 0018,0082 InversionTime."},136:{key:"BACKGROUND_SUPPRESSION_MUST_DEFINE",severity:"error",reason:"You should define 'BackgroundSuppression' for this file. 'BackGroundSuppression' is a boolean indicating if background suppression is used."},137:{key:"VASCULAR_CRUSHING_MUST_DEFINE",severity:"warning",reason:"It is recommended to define 'VascularCrushing' for this file. 'VascularCrushing' is a boolean value indicating if an ASL crusher method is used."},138:{key:"PULSE_SEQUENCE_DETAILS_MISSING",severity:"warning",reason:"It is recommended to define 'PulseSequenceDetails' for this file. 'PulseSequenceDetails' is the information beyond pulse sequence type that identifies the specific pulse sequence used (for example, 'Standard Siemens Sequence distributed with the VB17 software', 'Siemens WIP ### version #.##', or 'Sequence written by X using a version compiled on MM/DD/YYYY')."},139:{key:"BLACKLISTED_MODALITY",severity:"error",reason:"Found a modality that has been blacklisted through validator configuration."},140:{key:"140_EMPTY",severity:"warning",reason:""},141:{key:"141_EMPTY",severity:"warning",reason:""},142:{key:"LABELING_SLAB_THICKNESS_MISSING",severity:"warning",reason:"It is recommended to define 'LabelingSlabThickness' for this file. 'LabelingSlabThickness' is the thickness of the labeling slab in millimeters. For non-selective FAIR a zero is entered. Corresponds to DICOM Tag 0018,9254 ASL Slab Thickness."},143:{key:"ACQUISITION_VOXELSIZE_MISSING",severity:"warning",reason:"It is recommended to define 'AcquisitionVoxelSize' for this file. 'AcquisitionVoxelSize' is an array of numbers with a length of 3, in millimeters. This parameter denotes the original acquisition voxel size, excluding any inter-slice gaps and before any interpolation or resampling within reconstruction or image processing. Any point spread function effects (e.g. due to T2-blurring) that would decrease the effective resolution are not considered here."},144:{key:"BACKGROUND_SUPPRESSION_PULSE_TIME_MISSING",severity:"warning",reason:"It is recommended to define 'BackgroundSuppressionPulseTime' for this file, when the 'BackgroundSuppression' is set to true. 'BackGroundSuppressionPulseTime' is an array of numbers containing timing, in seconds, of the background suppression pulses with respect to the start of the labeling. In case of multi-PLD with different background suppression pulse times, only the pulse time of the first PLD should be defined."},145:{key:"VASCULAR_CRUCHING_VENC_MISSING",severity:"warning",reason:"It is recommended to define 'VascularCrushingVENC' for this file, when the 'VascularCrushing' is set to true. 'VascularCrushingVENC' is the crusher gradient strength, in centimeters per second. Specify either one number for the total time-series, or provide an array of numbers, for example when using QUASAR, using the value zero to identify volumes for which 'VascularCrushing' was turned off. Corresponds to DICOM Tag 0018,925A ASL Crusher Flow Limit."},147:{key:"PASL_BOLUS_CUT_OFF_FLAG",severity:"error",reason:"You should define the 'BolusCutOffFlag' for this file. 'BolusCutOffFlag' is a boolean indicating if a bolus cut-off technique is used. Corresponds to DICOM Tag 0018,925C ASL Bolus Cut-off Flag."},149:{key:"PASL_BOLUS_CUT_OFF_DELAY_TIME",severity:"error",reason:"It is required to define 'BolusCutOffDelayTime' for this file, when 'BolusCutOffFlag' is set to true. 'BolusCutOffDelayTime' is the duration between the end of the labeling and the start of the bolus cut-off saturation pulse(s), in seconds. This can be a number or array of numbers, of which the values must be non-negative and monotonically increasing, depending on the number of bolus cut-off saturation pulses. For Q2TIPS, only the values for the first and last bolus cut-off saturation pulses are provided. Based on DICOM Tag 0018,925F ASL Bolus Cut-off Delay Time."},150:{key:"PASL_BOLUS_CUT_OFF_TECHNIQUE",severity:"error",reason:"It is required to define 'BolusCutOffTechnique' for this file, when 'BolusCutOffFlag' is set to true. 'BolusCutOffTechnique' is the name of the technique used (e.g. Q2TIPS, QUIPSS, QUIPSSII). Corresponds to DICOM Tag 0018,925E ASL Bolus Cut-off Technique."},153:{key:"M0Type_NOT_SET",severity:"error",reason:"You should define the 'M0Type' for this file. 'M0Type' describes the presence of M0 information, as either: “Separate” when a separate `*_m0scan.nii[.gz]` is present, “Included” when an m0scan volume is contained within the current ‘*_asl.nii[.gz]’, “Estimate” when a single whole-brain M0 value is provided, or “Absent” when no specific M0 information is present."},154:{key:"M0Type_SET_INCORRECTLY",severity:"error",reason:"M0Type was not defined correctly. If 'M0Type' is equal to included, the corresponding '*_aslcontext.tsv' should contain the 'm0scan' volume."},155:{key:"MRACQUISITIONTYPE_MUST_DEFINE",severity:"error",reason:"You should define 'MRAcquisitionType' for this file. 'MRAcquistionType' is the type of sequence readout with possible values: `2D` or `3D`. Corresponds to DICOM Tag 0018,0023 `MR Acquisition Type`."},156:{key:"ACQUISITION_VOXELSIZE_WRONG",severity:"warning",reason:"The 'AcquisitionVoxelSize' field length is not 3. 'AcquisitionVoxelSize' should be defined as an array of numbers with a length of 3, in millimeters. This parameter denotes the original acquisition voxel size, excluding any inter-slice gaps and before any interpolation or resampling within reconstruction or image processing. Any point spread function effects (e.g. due to T2-blurring) that would decrease the effective resolution are not considered here."},157:{key:"LABELLING_DURATION_LENGTH_NOT_MATCHING_NIFTI",severity:"error",reason:"The number of values for 'LabelingDuration' for this file does not match the 4th dimension of the NIfTI header. 'LabelingDuration' is the total duration of the labeling pulse train, in seconds, corresponding to the temporal width of the labeling bolus for `(P)CASL`. In case all control-label volumes (or deltam or CBF) have the same `LabelingDuration`, a scalar must be specified. In case the control-label volumes (or deltam or cbf) have a different `LabelingDuration`, an array of numbers must be specified, for which any `m0scan` in the timeseries has a `LabelingDuration` of zero. In case an array of numbers is provided, its length should be equal to the number of volumes specified in `*_aslcontext.tsv`. Corresponds to DICOM Tag 0018,9258 `ASL Pulse Train Duration`."},164:{key:"ASL_MANUFACTURER_MISSING",severity:"warning",reason:"It is recommended to define 'Manufacturer' for this file. 'Manufacturer' is the manufacturer of the equipment that produced the composite instances. Corresponds to DICOM Tag 0008, 0070 Manufacturer"},165:{key:"ASLCONTEXT_TSV_NOT_CONSISTENT",severity:"error",reason:"The number of volumes in the '*_aslcontext.tsv' for this file does not match the number of values in the NIfTI header."},166:{key:"LOOK_LOCKER_FLIP_ANGLE_MISSING",severity:"error",reason:"You should define 'FlipAngle' for this file, in case of a LookLocker acquisition. 'FlipAngle' is the flip angle (FA) for the acquisition, specified in degrees. Corresponds to: DICOM Tag 0018, 1314 `Flip Angle`. The data type number may apply to files from any MRI modality concerned with a single value for this field, or to the files in a file collection where the value of this field is iterated using the flip entity. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL or variable flip angle fMRI sequences."},167:{key:"FLIP_ANGLE_MISSING",severity:"warning",reason:"It is recommended to define 'FlipAngle' for this file. 'FlipAngle' is the flip angle (FA) for the acquisition, specified in degrees. Corresponds to: DICOM Tag 0018, 1314 `Flip Angle`. The data type number may apply to files from any MRI modality concerned with a single value for this field, or to the files in a file collection where the value of this field is iterated using the flip entity. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL or variable flip angle fMRI sequences."},168:{key:"FLIP_ANGLE_NOT_MATCHING_NIFTI",severity:"error",reason:"The number of values for 'FlipAngle' for this file does not match the 4th dimension of the NIfTI header. 'FlipAngle' is the flip angle (FA) for the acquisition, specified in degrees. Corresponds to: DICOM Tag 0018, 1314 `Flip Angle`. The data type number may apply to files from any MRI modality concerned with a single value for this field, or to the files in a file collection where the value of this field is iterated using the flip entity. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL or variable flip angle fMRI sequences."},169:{key:"LABELING_DURATION_PASL_INCONSISTENT",severity:"error",reason:"The 'LabelingDuration' for PASL 'ArterialSpinLabelingType' can be only a numerical value put to zero or unset. 'LabelingDuration' is the total duration of the labeling pulse train, in seconds, corresponding to the temporal width of the labeling bolus for `(P)CASL`. In case all control-label volumes (or deltam or CBF) have the same `LabelingDuration`, a scalar must be specified. In case the control-label volumes (or deltam or cbf) have a different `LabelingDuration`, an array of numbers must be specified, for which any `m0scan` in the timeseries has a `LabelingDuration` of zero. In case an array of numbers is provided, its length should be equal to the number of volumes specified in `*_aslcontext.tsv`. Corresponds to DICOM Tag 0018,9258 `ASL Pulse Train Duration`."},170:{key:"CONTINOUS_RECORDING_MISSING_JSON",severity:"error",reason:"Continous recording data files are required to have an associated JSON metadata file."},171:{key:"VOLUME_TIMING_MISSING_ACQUISITION_DURATION",severity:"error",reason:"The field 'VolumeTiming' requires 'AcquisitionDuration' or 'SliceTiming' to be defined."},172:{key:"FLIP_ANGLE_NOT_MATCHING_ASLCONTEXT_TSV",severity:"error",reason:"The number of values for 'FlipAngle' for this file does not match the number of volumes in the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv'. 'FlipAngle' is the flip angle (FA) for the acquisition, specified in degrees. Corresponds to: DICOM Tag 0018, 1314 `Flip Angle`. The data type number may apply to files from any MRI modality concerned with a single value for this field, or to the files in a file collection where the value of this field is iterated using the flip entity. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL or variable flip angle fMRI sequences."},173:{key:"POST_LABELING_DELAY_NOT_MATCHING_NIFTI",severity:"error",reason:"The number of values for 'PostLabelingDelay' for this file does not match the 4th dimension of the NIfTI header. 'PostLabelingDelay' is the time, in seconds, after the end of the labeling (for (P)CASL) or middle of the labeling pulse (for PASL) until the middle of the excitation pulse applied to the imaging slab (for 3D acquisition) or first slice (for 2D acquisition). Can be a number (for a single-PLD time series) or an array of numbers (for multi-PLD and Look-Locker). In the latter case, the array of numbers contains the PLD of each volume (i.e. each 'control' and 'label') in the acquisition order. Any image within the time-series without a PLD (e.g. an 'm0scan') is indicated by a zero. Based on DICOM Tags 0018,9079 Inversion Times and 0018,0082 InversionTime."},174:{key:"POST_LABELING_DELAY_NOT_MATCHING_ASLCONTEXT_TSV",severity:"error",reason:"'The number of values for PostLabelingDelay' for this file does not match the number of volumes in the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv'.'PostLabelingDelay' is the time, in seconds, after the end of the labeling (for (P)CASL) or middle of the labeling pulse (for PASL) until the middle of the excitation pulse applied to the imaging slab (for 3D acquisition) or first slice (for 2D acquisition). Can be a number (for a single-PLD time series) or an array of numbers (for multi-PLD and Look-Locker). In the latter case, the array of numbers contains the PLD of each volume (i.e. each 'control' and 'label') in the acquisition order. Any image within the time-series without a PLD (e.g. an 'm0scan') is indicated by a zero. Based on DICOM Tags 0018,9079 Inversion Times and 0018,0082 InversionTime."},175:{key:"LABELLING_DURATION_NOT_MATCHING_ASLCONTEXT_TSV",severity:"error",reason:"The number of values for 'LabelingDuration' for this file does not match the number of volumes in the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv'. 'LabelingDuration' is the total duration of the labeling pulse train, in seconds, corresponding to the temporal width of the labeling bolus for `(P)CASL`. In case all control-label volumes (or deltam or CBF) have the same `LabelingDuration`, a scalar must be specified. In case the control-label volumes (or deltam or cbf) have a different `LabelingDuration`, an array of numbers must be specified, for which any `m0scan` in the timeseries has a `LabelingDuration` of zero. In case an array of numbers is provided, its length should be equal to the number of volumes specified in `*_aslcontext.tsv`. Corresponds to DICOM Tag 0018,9258 `ASL Pulse Train Duration`."},176:{key:"ASLCONTEXT_TSV_INCONSISTENT",severity:"error",reason:"In the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv', the 'volume_type' can only be filled with volumes ['cbf' ,'m0scan', 'label', 'control', 'deltam']."},177:{key:"REPETITIONTIMEPREPARATION_NOT_MATCHING_ASLCONTEXT_TSV",severity:"error",reason:"The number of values of 'RepetitionTimePreparation' for this file does not match the number of volumes in the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv'. 'RepetitionTimePreparation' is the interval, in seconds, that it takes a preparation pulse block to re-appear at the beginning of the succeeding (essentially identical) pulse sequence block. The data type number may apply to files from any MRI modality concerned with a single value for this field. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL."},178:{key:"VOLUME_TIMING_AND_REPETITION_TIME_MUTUALLY_EXCLUSIVE",severity:"error",reason:"The fields 'VolumeTiming' and 'RepetitionTime' for this file are mutually exclusive. Choose 'RepetitionTime' when the same repetition time is used for all volumes, or 'VolumeTiming' when variable times are used."},179:{key:"BACKGROUND_SUPPRESSION_PULSE_NUMBER_MISSING",severity:"warning",reason:"It is recommended to define 'BackgroundSuppressionNumberPulses' for this file, in case 'BackgroundSuppression' is set to true. 'BackgroundSuppressionNumberPulses' is the number of background suppression pulses used. Note that this excludes any effect of background suppression pulses applied before the labeling."},180:{key:"BACKGROUND_SUPPRESSION_PULSE_NUMBER_NOT_CONSISTENT",severity:"warning",reason:"The 'BackgroundSuppressionNumberPulses' field is not consistent with the length of 'BackgroundSuppressionPulseTime'. 'BackgroundSuppressionNumberPulses' is the number of background suppression pulses used. Note that this excludes any effect of background suppression pulses applied before the labeling."},181:{key:"TOTAL_ACQUIRED_VOLUMES_NOT_CONSISTENT",severity:"warning",reason:"The number of values for 'TotalAcquiredVolumes' for this file does not match number of volumes in the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv'. 'TotalAcquiredVolumes' is the original number of 3D volumes acquired for each volume defined in the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv'."},182:{key:"MAGNETIC_FIELD_STRENGTH_MISSING",severity:"error",reason:"You should define 'MagneticFieldStrength' for this file. 'MagneticFieldStrength' is the nominal field strength of MR magnet in Tesla. Corresponds to DICOM Tag 0018,0087 'Magnetic Field Strength'."},183:{key:"SLICE_TIMING_NOT_DEFINED_2D_ASL",severity:"error",reason:"'You should define SliceTiming', in case 'SequenceType' is set to a 2D sequence. 'SliceTiming' is the time at which each slice was acquired within each volume (frame) of the acquisition. Slice timing is not slice order -- rather, it is a list of times containing the time (in seconds) of each slice acquisition in relation to the beginning of volume acquisition. The list goes through the slices along the slice axis in the slice encoding dimension (see below). Note that to ensure the proper interpretation of the `SliceTiming` field, it is important to check if the OPTIONAL `SliceEncodingDirection` exists. In particular, if `SliceEncodingDirection` is negative, the entries in `SliceTiming` are defined in reverse order with respect to the slice axis, such that the final entry in the `SliceTiming` list is the time of acquisition of slice 0. Without this parameter slice time correction will not be possible. "},184:{key:"POST_LABELING_DELAY_GREATER",severity:"warning",reason:"'PostLabelingDelay' is greater than 10, are you sure it's expressed in seconds? 'PostLabelingDelay' is the time, in seconds, after the end of the labeling (for (P)CASL) or middle of the labeling pulse (for PASL) until the middle of the excitation pulse applied to the imaging slab (for 3D acquisition) or first slice (for 2D acquisition). Can be a number (for a single-PLD time series) or an array of numbers (for multi-PLD and Look-Locker). In the latter case, the array of numbers contains the PLD of each volume (i.e. each 'control' and 'label') in the acquisition order. Any image within the time-series without a PLD (e.g. an 'm0scan') is indicated by a zero. Based on DICOM Tags 0018,9079 Inversion Times and 0018,0082 InversionTime."},186:{key:"BOLUS_CUT_OFF_DELAY_TIME_GREATER",severity:"warning",reason:"'BolusCutOffDelayTime' is greater than 10, are you sure it's expressed in seconds? 'BolusCutOffDelayTime' is duration between the end of the labeling and the start of the bolus cut-off saturation pulse(s), in seconds. This can be a number or array of numbers, of which the values must be non-negative and monotonically increasing, depending on the number of bolus cut-off saturation pulses. For Q2TIPS, only the values for the first and last bolus cut-off saturation pulses are provided. Based on DICOM Tag 0018,925F ASL Bolus Cut-off Delay Time."},187:{key:"LABELING_DURATION_GREATER",severity:"warning",reason:"'LabelingDuration' is greater than 10, are you sure it's expressed in seconds? 'LabelingDuration' is the total duration of the labeling pulse train, in seconds, corresponding to the temporal width of the labeling bolus for `(P)CASL`. In case all control-label volumes (or deltam or CBF) have the same `LabelingDuration`, a scalar must be specified. In case the control-label volumes (or deltam or cbf) have a different `LabelingDuration`, an array of numbers must be specified, for which any `m0scan` in the timeseries has a `LabelingDuration` of zero. In case an array of numbers is provided, its length should be equal to the number of volumes specified in `*_aslcontext.tsv`. Corresponds to DICOM Tag 0018,9258 `ASL Pulse Train Duration`."},188:{key:"VOLUME_TIMING_NOT_MONOTONICALLY_INCREASING",severity:"error",reason:"'VolumeTiming' is not monotonically increasing. 'VolumeTiming' is the time at which each volume was acquired during the acquisition, referring to the start of each readout in the ASL timeseries. Use this field instead of the 'RepetitionTime' field in the case that the ASL timeseries have a non-uniform time distance between acquired volumes. The list must have the same length as the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv', and the numbers must be non-negative and monotonically increasing. If 'VolumeTiming' is defined, this requires acquisition time (TA) to be defined via 'AcquisitionDuration'."},189:{key:"CASL_PCASL_NOT_ALLOWED_FIELDS",severity:"error",reason:"You defined one of the not allowed fields in case of CASL or PCASL 'ArterialSpinLabelingType'. Please verify which field among 'PASLType', 'LabelingSlabThickness' 'BolusCutOffFlag', 'BolusCutOffTimingSequence', 'BolusCutOffDelayTime' and 'BolusCutOffTechnique' you have filled."},190:{key:"PASL_NOT_ALLOWED_FIELDS",severity:"error",reason:"You defined one of the not allowed fields in case of PASL 'ArterialSpinLabelingType'. Please verify which field among 'CASLType', 'PCASLType' 'LabelingPulseAverageGradient', 'LabelingPulseMaximumGradient', 'LabelingPulseAverageB1', 'LabelingPulseDuration', 'LabelingPulseFlipAngle', 'LabelingPulseInterval', 'LabelingDuration' you have filled."},191:{key:"PCASL_CASL_LABELING_TYPE_NOT_ALLOWED",severity:"error",reason:"You defined either the 'CASLType' with a PCASL 'LabellingType' or the 'PCASLType' with a CASL 'LabellingType'. This is not allowed, please check that these fields are filled correctly."},192:{key:"BOLUS_CUT_OFF_DELAY_TIME_NOT_MONOTONICALLY_INCREASING",severity:"error",reason:"'BolusCutOffDelayTime' is not monotonically increasing. 'BolusCutOffDelayTime' is the duration between the end of the labeling and the start of the bolus cut-off saturation pulse(s), in seconds. This can be a number or array of numbers, of which the values must be non-negative and monotonically increasing, depending on the number of bolus cut-off saturation pulses. For Q2TIPS, only the values for the first and last bolus cut-off saturation pulses are provided. Based on DICOM Tag 0018,925F ASL Bolus Cut-off Delay Time."},193:{key:"ECHO_TIME_NOT_DEFINED",severity:"error",reason:"You must define 'EchoTime' for this file. 'EchoTime' is the echo time (TE) for the acquisition, specified in seconds. Corresponds to DICOM Tag 0018, 0081 Echo Time (please note that the DICOM term is in milliseconds not seconds). The data type number may apply to files from any MRI modality concerned with a single value for this field, or to the files in a file collection where the value of this field is iterated using the echo entity. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL or variable echo time fMRI sequences."},194:{key:"MRACQUISITIONTYPE_MISSING",severity:"warning",reason:"It is recommended to define 'MRAcquisitionType' for this file. 'MRAcquistionType' is the type of sequence readout with possible values: `2D` or `3D`. Corresponds to DICOM Tag 0018,0023 `MR Acquisition Type`."},195:{key:"M0ESTIMATE_NOT_DEFINED",severity:"error",reason:"You must define 'M0Estimate' for this file, in case 'M0Type' is defined as 'Estimate'. 'M0Estimate' is a single numerical whole-brain M0 value (referring to the M0 of blood), only if obtained externally (for example retrieved from CSF in a separate measurement)."},196:{key:"ECHO_TIME_NOT_CONSISTENT",severity:"warning",reason:"The number of values for 'EchoTime' for this file does not match number of volumes in the 'sub-<label>[_ses-<label>][_acq-<label>][_rec-<label>][_run-<index>]_aslcontext.tsv'.  'EchoTime' is the echo time (TE) for the acquisition, specified in seconds. "},197:{key:"ECHO_TIME_ELEMENTS",severity:"warning",reason:"The number of elements in the 'EchoTime' array should match the 'k' dimension of the corresponding NIfTI volume."},198:{key:"M0Type_SET_INCORRECTLY_TO_ABSENT",severity:"error",reason:"You defined M0Type as 'absent' while including a separate '*_m0scan.nii[.gz]' and '*_m0scan.json', or defining the 'M0Estimate' field. This is not allowed, please check that this field are filled correctly."},199:{key:"M0Type_SET_INCORRECTLY_TO_ABSENT_IN_ASLCONTEXT",severity:"error",reason:"You defined M0Type as 'absent' while including an m0scan volume within the '*_aslcontext.tsv'. This is not allowed, please check that this field are filled correctly."},200:{key:"REPETITION_TIME_PREPARATION_MISSING",severity:"error",reason:"You must define 'RepetitionTimePreparation' for this file. 'RepetitionTimePreparation' is the interval, in seconds, that it takes a preparation pulse block to re-appear at the beginning of the succeeding (essentially identical) pulse sequence block. The data type number may apply to files from any MRI modality concerned with a single value for this field. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL."},201:{key:"REPETITIONTIME_PREPARATION_NOT_CONSISTENT",severity:"error",reason:"The number of values for 'RepetitionTimePreparation' for this file does not match the 4th dimension of the NIfTI header. 'RepetitionTimePreparation' is the interval, in seconds, that it takes a preparation pulse block to re-appear at the beginning of the succeeding (essentially identical) pulse sequence block. The data type number may apply to files from any MRI modality concerned with a single value for this field. The data type array provides a value for each volume in a 4D dataset and should only be used when the volume timing is critical for interpretation of the data, such as in ASL."},202:{key:"M0Type_SET_INCORRECTLY",severity:"error",reason:"M0Type was not defined correctly. If 'M0Type' is equal to separate, the dataset should include a *_m0scan.nii[.gz] and *_m0scan.json file."},211:{key:"TSV_MISSING_REQUIRED_COLUMN",severity:"error",reason:"A TSV file is missing a column required by a value in its JSON sidecar."},212:{key:"PARTICIPANT_ID_PATTERN",severity:"error",reason:'Participant_id column labels must consist of the pattern "sub-<subject_id>".'},213:{key:"README_FILE_SMALL",severity:"warning",reason:"The recommended file /README is very small. Please consider expanding it with additional information about the dataset."},214:{key:"SAMPLES_TSV_MISSING",severity:"error",reason:"The compulsory file /samples.tsv is missing. See Section 03 (Modality agnostic files) of the BIDS specification."},215:{key:"SAMPLE_ID_PATTERN",severity:"error",reason:'sample_id column labels must consist of the pattern "sample-<sample_id>".'},216:{key:"SAMPLE_ID_COLUMN",severity:"error",reason:"Samples .tsv files must have a 'sample_id' column."},217:{key:"PARTICIPANT_ID_COLUMN",severity:"error",reason:"Samples .tsv files must have a 'participant_id' column."},218:{key:"SAMPLE_TYPE_COLUMN",severity:"error",reason:"Samples .tsv files must have a 'sample_type' column."},219:{key:"SAMPLE_TYPE_VALUE",severity:"error",reason:"sample_type MUST consist of one of the following values: cell line, in vitro differentiated cells, primary cell, cell-free sample, cloning host, tissue, whole organisms, organoid or technical sample."},220:{key:"SAMPLE_ID_DUPLICATE",severity:"error",reason:"Each sample from a same subject MUST be described by one and only one row."},221:{key:"PIXEL_SIZE_INCONSISTENT",severity:"error",reason:"PixelSize need to be consistent with PhysicalSizeX, PhysicalSizeY and PhysicalSizeZ OME metadata fields"},222:{key:"INVALID_PIXEL_SIZE_UNIT",severity:"warning",reason:'PixelSize consistency is only validated for "mm", "\xb5m" and "nm".'},223:{key:"CHUNK_TRANSFORMATION_MATRIX_MISSING",severity:"warning",reason:"It is recommended to define 'ChunkTransformationMatrix' for this file."},224:{key:"OPTIONAL_FIELD_INCONSISTENT",severity:"error",reason:"Optional JSON field is not consistent with the OME-TIFF metadata"},225:{key:"NO_VALID_JSON",severity:"error",reason:"No valid JSON file found for this file"},226:{key:"UNSUPPORTED_BIG_TIFF",severity:"warning",reason:"Metadata consistency check skipped for BigTiff OME-TIFF file"},227:{key:"INCONSISTENT_TIFF_EXTENSION",severity:"error",reason:"Inconsistent TIFF file type and extension"},228:{key:"MULTIPLE_README_FILES",severity:"error",reason:"A BIDS dataset MUST NOT contain more than one `README` file (with or without extension) at its root directory."},229:{key:"INCORRECT_ORDER_TSV_COLUMN_CHANNELS_IEEG",severity:"error",reason:"The column names of the IEEG channels file must be in the following order ['name', 'type', 'units', 'low_cutoff', 'high_cutoff']"},230:{key:"INCORRECT_ORDER_TSV_COLUMN_CHANNELS_EEG",severity:"error",reason:"The column names of the EEG channels file must be in the following order ['name', 'type', 'units']"},231:{key:"TSV_COLUMN_HEADER_DUPLICATE",severity:"error",reason:"Two elements in the first row of a TSV are the same. Each column header must be unique."},232:{key:"TSV_COLUMN_HEADER_NA",severity:"error",reason:'An element in a tsv header is "n/a". A different header name should be chosen.'},233:{key:"MISSING_TSV_COLUMN_NIRS_OPTODES",severity:"error",reason:"The column names of the optodes file must begin with ['name', 'type', 'x', 'y', 'z']"},234:{key:"MISSING_TSV_COLUMN_NIRS_CHANNELS",severity:"error",reason:"The column names of the channels file must begin with ['name', 'type', 'source', 'detector', 'wavelength_nominal', 'units']"},235:{key:"MOTION_COMPONENT_IN_WRONG_COLUMN",severity:"error",reason:"The 'component' column must be the second column in the channels.tsv file."},236:{key:"MOTION_COMPONENT_INVLAID_VALUE",severity:"error",reason:"Values in the 'component' column must be one of ['x', 'y', 'z', 'quat_x', 'quat_y', 'quat_z', 'quat_w', 'n/a']."}}},32669:function(){String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return -1!==n&&n===t}),String.prototype.includes||(String.prototype.includes=function(){return -1!==String.prototype.indexOf.apply(this,arguments)})},66989:function(e,t,i){"use strict";var n=i(64934);t.Z=e=>{let t={MRI:0,PET:0,MEG:0,EEG:0,iEEG:0,Microscopy:0,NIRS:0},i={MRI_Diffusion:0,MRI_Structural:0,MRI_Functional:0,MRI_Perfusion:0,PET_Static:0,PET_Dynamic:0,iEEG_ECoG:0,iEEG_SEEG:0};for(let s of e)n.Z.file.isAnat(s)&&(t.MRI++,i.MRI_Structural++),n.Z.file.isDWI(s)&&(t.MRI++,i.MRI_Diffusion++),n.Z.file.isAsl(s)&&(t.MRI++,i.MRI_Perfusion++),(n.Z.file.isFunc(s)||n.Z.file.isFuncBold(s))&&(t.MRI++,i.MRI_Functional++),n.Z.file.isFieldMap(s)&&t.MRI++,(n.Z.file.isPET(s)||n.Z.file.isPETBlood(s))&&(t.PET++,s.match("rec-acstat")||s.match("rec-nacstat")?i.PET_Static++:(s.match("rec-acdyn")||s.match("rec-nacdyn"))&&i.PET_Dynamic++),n.Z.file.isMeg(s)&&t.MEG++,n.Z.file.isEEG(s)&&t.EEG++,n.Z.file.isIEEG(s)&&t.iEEG++,n.Z.file.isMicroscopy(s)&&t.Microscopy++,n.Z.file.isNIRS(s)&&t.NIRS++;let s=Object.keys(t).filter(e=>0!==t[e]);if(0===s.length)return{primary:[],secondary:[]};let o=s.sort((e,i)=>t[i]===t[e]?"MRI"===i?-1:0:t[i]-t[e]),r=Object.keys(i).filter(e=>0!==i[e]),a=r.sort((e,t)=>i[t]-i[e]);return{primary:o,secondary:a}}},64934:function(e,t,i){"use strict";let n;i.d(t,{Z:function(){return ew},a:function(){return d}});var s=JSON.parse('{"$":{"regexp":"^[\\\\/\\\\\\\\](?:@@@_associated_data_type_@@@)[\\\\/\\\\\\\\](?:.*)$","tokens":{"@@@_associated_data_type_@@@":["code","derivatives","sourcedata","stimuli"]}}}'),o=JSON.parse('{"Xg":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_part-(imag|mag|phase|real))?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["T1w","T2w","PDw","T2starw","FLAIR","inplaneT1","inplaneT2","PDT2","angio","T2star","FLASH","PD"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"n8":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["T1map","T2map","T2starmap","R1map","R2map","R2starmap","PDmap","MTRmap","MTsat","UNIT1","T1rho","MWFmap","MTVmap","PDT2map","Chimap","S0map","M0map"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"MI":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_mod-(?:@@@_anat_suffixes_@@@))?_defacemask\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["T1w","T2w","PDw","T2starw","FLAIR","inplaneT1","inplaneT2","PDT2","angio","T1map","T2map","T2starmap","R1map","R2map","R2starmap","PDmap","MTRmap","MTsat","UNIT1","T1rho","MWFmap","MTVmap","PDT2map","Chimap","TB1map","RB1map","S0map","M0map","MESE","MEGRE","VFA","IRT1","MP2RAGE","MPM","MTS","MTR","T2star","FLASH","PD"],"@@@_anat_ext_@@@":["nii.gz","nii"]}},"AT":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_echo-[0-9]+?(_part-(imag|mag|phase|real))?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["MESE","MEGRE"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"Et":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_flip-[0-9]+?(?:_part-(imag|mag|phase|real))?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["VFA"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"eV":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_inv-[0-9]+?(?:_part-(imag|mag|phase|real))?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["IRT1"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"aq":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?(?:_flip-[0-9]+)?_inv-[0-9]+?(?:_part-(imag|mag|phase|real))?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["MP2RAGE"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"m":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?_flip-[0-9]+?_mt-(on|off)?(?:_part-(imag|mag|phase|real))?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["MPM","MTS"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"LH":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?anat[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_mt-(on|off)?(?:_part-(imag|mag|phase|real))?_(?:@@@_anat_suffixes_@@@)\\\\.(@@@_anat_ext_@@@)$","tokens":{"@@@_anat_suffixes_@@@":["MTR"],"@@@_anat_ext_@@@":["nii\\\\.gz","nii","json"]}},"Xn":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?beh[\\\\/\\\\\\\\]\\\\1(_\\\\2)?_task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?((?:@@@_behavioral_ext_@@@)|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_behavioral_ext_@@@":["_beh\\\\.json","_beh\\\\.tsv","_events\\\\.json","_events\\\\.tsv"],"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"cO":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?dwi[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_part-(imag|mag|phase|real))?((?:@@@_dwi_ext_@@@)|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_dwi_ext_@@@":["_dwi\\\\.nii\\\\.gz","_dwi\\\\.nii","_dwi\\\\.json","_dwi\\\\.bvec","_dwi\\\\.bval","_sbref\\\\.nii\\\\.gz","_sbref\\\\.nii","_sbref\\\\.json"],"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"NW":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?fmap[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_(?:@@@_field_map_type_@@@)\\\\.(@@@_field_map_ext_@@@)$","tokens":{"@@@_field_map_type_@@@":["phasediff","phase1","phase2","magnitude1","magnitude2","magnitude","fieldmap"],"@@@_field_map_ext_@@@":["nii\\\\.gz","nii","json"]}},"l0":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?fmap[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?_dir-[a-zA-Z0-9]+(?:_run-[0-9]+)?_(?:@@@_field_map_type_@@@)\\\\.(@@@_field_map_ext_@@@)$","tokens":{"@@@_field_map_type_@@@":["m0scan","epi"],"@@@_field_map_ext_@@@":["nii\\\\.gz","nii","json"]}},"Kw":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?fmap[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_flip-[0-9]+?(?:_part-(imag|mag|phase|real))?_(?:@@@_field_map_type_@@@)\\\\.(@@@_field_map_ext_@@@)$","tokens":{"@@@_field_map_type_@@@":["TB1DAM"],"@@@_field_map_ext_@@@":["nii\\\\.gz","nii","json"]}},"hk":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?fmap[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_echo-[0-9]+?_flip-[0-9]+?(?:_inv-[0-9]+)?(?:_part-(imag|mag|phase|real))?_(?:@@@_field_map_type_@@@)\\\\.(@@@_field_map_ext_@@@)$","tokens":{"@@@_field_map_type_@@@":["TB1EPI"],"@@@_field_map_ext_@@@":["nii\\\\.gz","nii","json"]}},"UM":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?fmap[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?(?:_flip-[0-9]+)?(?:_inv-[0-9]+)?(?:_part-(imag|mag|phase|real))?_(?:@@@_field_map_type_@@@)\\\\.(@@@_field_map_ext_@@@)$","tokens":{"@@@_field_map_type_@@@":["TB1AFI","TB1TFL","TB1RFM","RB1COR"],"@@@_field_map_ext_@@@":["nii\\\\.gz","nii","json"]}},"xt":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?fmap[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?_flip-[0-9]+?_inv-[0-9]+?(?:_part-(imag|mag|phase|real))?_(?:@@@_field_map_type_@@@)\\\\.(@@@_field_map_ext_@@@)$","tokens":{"@@@_field_map_type_@@@":["TB1SRGE"],"@@@_field_map_ext_@@@":["nii\\\\.gz","nii","json"]}},"d4":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?fmap[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_(?:@@@_field_map_type_@@@)\\\\.(@@@_field_map_ext_@@@)$","tokens":{"@@@_field_map_type_@@@":["TB1map","RB1map"],"@@@_field_map_ext_@@@":["nii\\\\.gz","nii","json"]}},"Yl":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?func[\\\\/\\\\\\\\]\\\\1(_\\\\2)?_task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?(?:_part-(imag|mag|phase|real))?(?:@@@_func_ext_@@@)$","tokens":{"@@@_func_ext_@@@":["_bold\\\\.nii\\\\.gz","_bold\\\\.nii","_bold\\\\.json","_cbv\\\\.nii\\\\.gz","_cbv\\\\.nii","_cbv\\\\.json","_sbref\\\\.nii\\\\.gz","_sbref\\\\.nii","_sbref\\\\.json"]}},"wj":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?func[\\\\/\\\\\\\\]\\\\1(_\\\\2)?_task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?(?:@@@_func_ext_@@@)$","tokens":{"@@@_func_ext_@@@":["_phase\\\\.nii\\\\.gz","_phase\\\\.nii","_phase\\\\.json"]}},"Ct":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?func[\\\\/\\\\\\\\]\\\\1(_\\\\2)?_task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:@@@_func_ext_@@@)$","tokens":{"@@@_func_ext_@@@":["_events\\\\.tsv","_events\\\\.json"]}},"V9":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?func[\\\\/\\\\\\\\]\\\\1(_\\\\2)?_task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@)$","tokens":{"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"Hu":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?func[\\\\/\\\\\\\\]\\\\1(_\\\\2)?_task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?(?:_part-(imag|mag|phase|real))?(?:@@@_func_bold_ext_@@@)$","tokens":{"@@@_func_bold_ext_@@@":["_bold\\\\.nii\\\\.gz","_bold\\\\.nii","_sbref\\\\.nii\\\\.gz","_sbref\\\\.nii"]}},"uu":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?perf[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:(?:@@@_asl_type_@@@)|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_asl_type_@@@":["_asl\\\\.nii\\\\.gz","_asl\\\\.nii","_asl\\\\.json","_m0scan\\\\.nii\\\\.gz","_m0scan\\\\.nii","_m0scan\\\\.json","_aslcontext\\\\.tsv","_asllabeling\\\\.jpg"],"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"Gb":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?eeg[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:_split-[0-9]+)?(?:_space-(@@@_eeg_space_@@@))?((_eeg\\\\.(@@@_eeg_type_@@@)|(@@@_eeg_ext_@@@))|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_eeg_space_@@@":["Other","CapTrak","EEGLAB","EEGLAB-HJ","CTF","ElektaNeuromag","4DBti","KitYokogawa","ChietiItab","ICBM452AirSpace","ICBM452Warp5Space","IXI549Space","fsaverage","fsaverageSym","fsLR","MNIColin27","MNI152Lin","MNI152NLin2009aSym","MNI152NLin2009bSym","MNI152NLin2009cSym","MNI152NLin2009aAsym","MNI152NLin2009bAsym","MNI152NLin2009cAsym","MNI152NLin6Sym","MNI152NLin6ASym","MNI305","NIHPD","OASIS30AntsOASISAnts","OASIS30Atropos","Talairach","UNCInfant","fsaverage3","fsaverage4","fsaverage5","fsaverage6","fsaveragesym","UNCInfant0V21","UNCInfant1V21","UNCInfant2V21","UNCInfant0V22","UNCInfant1V22","UNCInfant2V22","UNCInfant0V23","UNCInfant1V23","UNCInfant2V23"],"@@@_eeg_type_@@@":["vhdr","vmrk","eeg","edf","bdf","set","fdt"],"@@@_eeg_ext_@@@":["_events\\\\.json","_events\\\\.tsv","_electrodes\\\\.json","_electrodes\\\\.tsv","_channels\\\\.json","_channels\\\\.tsv","_eeg\\\\.json","_coordsystem\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif"],"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"wp":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?ieeg[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:_split-[0-9]+)?(?:_space-(@@@_ieeg_space_@@@))?((_ieeg\\\\.(@@@_ieeg_type_@@@)|(@@@_ieeg_ext_@@@))|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_ieeg_space_@@@":["Other","Pixels","ACPC","ScanRAS","ICBM452AirSpace","ICBM452Warp5Space","IXI549Space","fsaverage","fsaverageSym","fsLR","MNIColin27","MNI152Lin","MNI152NLin2009aSym","MNI152NLin2009bSym","MNI152NLin2009cSym","MNI152NLin2009aAsym","MNI152NLin2009bAsym","MNI152NLin2009cAsym","MNI152NLin6Sym","MNI152NLin6ASym","MNI305","NIHPD","OASIS30AntsOASISAnts","OASIS30Atropos","Talairach","UNCInfant","fsaverage3","fsaverage4","fsaverage5","fsaverage6","fsaveragesym","UNCInfant0V21","UNCInfant1V21","UNCInfant2V21","UNCInfant0V22","UNCInfant1V22","UNCInfant2V22","UNCInfant0V23","UNCInfant1V23","UNCInfant2V23"],"@@@_ieeg_type_@@@":["edf","vhdr","vmrk","eeg","set","fdt","nwb","mefd[\\\\/\\\\\\\\].*"],"@@@_ieeg_ext_@@@":["_events\\\\.json","_events\\\\.tsv","_electrodes\\\\.json","_electrodes\\\\.tsv","_channels\\\\.json","_channels\\\\.tsv","_ieeg\\\\.json","_coordsystem\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif"],"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"P8":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?meg[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:_split-[0-9]+)?(_digitizer\\\\.txt|_meg(@@@_meg_type_@@@[\\\\/\\\\\\\\](.(?!\\\\.(sqd|con|fif|raw|raw\\\\.mhd|trg|kdf|chn)$))*|[\\\\/\\\\\\\\](.(?!\\\\.(sqd|con|fif|raw|raw\\\\.mhd|trg|kdf|chn)$))*)|(@@@_meg_ext_@@@)|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_meg_type_@@@":["\\\\.ds[\\\\/\\\\\\\\].*","\\\\.(?:chn|kdf|trg)","\\\\.(?:raw|raw\\\\.mhd)","\\\\.fif","\\\\.(?:con|sqd)","\\\\.(?:kdf|chn|trg)"],"@@@_meg_ext_@@@":["_events\\\\.json","_events\\\\.tsv","_channels\\\\.json","_channels\\\\.tsv","_electrodes\\\\.json","_electrodes\\\\.tsv","_meg\\\\.json","_coordsystem\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif","_headshape\\\\.pos","_markers\\\\.(?:mrk|sqd)"],"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"nC":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?meg[\\\\/]\\\\1(_\\\\2)?_acq-calibration_meg\\\\.dat$"},"qo":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?meg[\\\\/]\\\\1(_\\\\2)?_acq-crosstalk_meg\\\\.fif$"},"Cw":{"regexp":"^[\\\\/\\\\\\\\](?:stimuli)[\\\\/\\\\\\\\](?:.*)$"},"gq":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?nirs[\\\\/\\\\\\\\]\\\\1(_\\\\2)?(((?:_acq-[a-zA-Z0-9]+)?(@@@_nirs_optodes_@@@))|((?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:_part-[0-9]+)?(_nirs\\\\.(@@@_nirs_type_@@@)|(@@@_nirs_ext_@@@))))$","tokens":{"@@@_nirs_type_@@@":["snirf"],"@@@_nirs_ext_@@@":["_events\\\\.json","_events\\\\.tsv","_channels\\\\.json","_channels\\\\.tsv","_nirs\\\\.json","_photo\\\\.jpg"],"@@@_nirs_optodes_@@@":["_optodes\\\\.tsv","_optodes\\\\.json","_coordsystem\\\\.json"]}},"IS":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?pet[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)(?:(_ses-[a-zA-Z0-9]+))?(?:_task-[a-zA-Z0-9]+)?(?:_trc-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:(?:@@@_pet_ext_@@@)|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_pet_ext_@@@":["_pet\\\\.nii\\\\.gz","_pet\\\\.nii","_pet\\\\.json","_events\\\\.json","_events\\\\.tsv"],"@@@_cont_ext_@@@":["_physio\\\\.tsv\\\\.gz","_stim\\\\.tsv\\\\.gz","_physio\\\\.json","_stim\\\\.json"]}},"B9":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?pet[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)(?:(_ses-[a-zA-Z0-9]+))?(?:_task-[a-zA-Z0-9]+)?(?:_trc-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_recording-[a-zA-Z0-9]+)_(@@@_pet_ext_@@@)$","tokens":{"@@@_pet_ext_@@@":["blood\\\\.tsv\\\\.gz","blood\\\\.tsv","blood\\\\.json"]}},"EA":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?motion[\\\\/\\\\\\\\]\\\\1(_\\\\2)?_task-[a-zA-Z0-9]+(_tracksys-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_(@@@_motion_ext_@@@))|((?:_tracksys-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?_(@@@_cont_ext_@@@))$","tokens":{"@@@_motion_ext_@@@":["channels\\\\.json","channels\\\\.tsv","motion\\\\.json","motion\\\\.tsv"],"@@@_cont_ext_@@@":["events\\\\.json","events\\\\.tsv"]}},"lp":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?micr[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)(?:(_ses-[a-zA-Z0-9]+))?(?:_sample-[a-zA-Z0-9]+)(?:_acq-[a-zA-Z0-9]+)?(?:_stain-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_chunk-[0-9]+)?((@@@_microscopy_type_@@@)(@@@_microscopy_ext_@@@))$","tokens":{"@@@_microscopy_type_@@@":["_TEM","_SEM","_uCT","_BF","_DF","_PC","_DIC","_FLUO","_CONF","_PLI","_CARS","_2PE","_MPE","_SR","_NLO","_OCT","_SPIM"],"@@@_microscopy_ext_@@@":["\\\\.ome\\\\.tif","\\\\.ome\\\\.btf","\\\\.ome\\\\.zarr[\\\\/\\\\\\\\].*","\\\\.tif","\\\\.png"]}},"SF":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?micr[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)(?:(_ses-[a-zA-Z0-9]+))?(?:_sample-[a-zA-Z0-9]+)(?:_acq-[a-zA-Z0-9]+)?(@@@_photo_ext_@@@)$","tokens":{"@@@_photo_ext_@@@":["_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif","_photo\\\\.json"]}},"N7":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?micr[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)(?:(_ses-[a-zA-Z0-9]+))?(?:_sample-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_stain-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_chunk-[0-9]+)?(@@@_microscopy_type_@@@)\\\\.json$","tokens":{"@@@_microscopy_type_@@@":["_TEM","_SEM","_uCT","_BF","_DF","_PC","_DIC","_FLUO","_CONF","_PLI","_CARS","_2PE","_MPE","_SR","_NLO","_OCT","_SPIM"]}}}'),r=JSON.parse('{"r":{"regexp":"^[\\\\/\\\\\\\\](?:phenotype)[\\\\/\\\\\\\\](?:.*\\\\.tsv|.*\\\\.json)$"}}'),a=JSON.parse('{"s7":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(@@@_scat_ext_@@@)$","tokens":{"@@@_scat_ext_@@@":["_scans\\\\.tsv","_scans\\\\.json"]}},"Ui":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?(@@@_func_ses_ext_@@@)$","tokens":{"@@@_func_ses_ext_@@@":["_bold\\\\.json","_sbref\\\\.json","_events\\\\.json","_events\\\\.tsv","_physio\\\\.json","_stim\\\\.json"]}},"F2":{"regexp":"^\\\\/(sub-[a-zA-Z0-9]+)\\\\/(?:(ses-[a-zA-Z0-9]+)\\\\/)?\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(@@@_asl_ses_ext_@@@)$","tokens":{"@@@_asl_ses_ext_@@@":["_asl\\\\.json","_aslcontext\\\\.tsv","_m0scan\\\\.json","_asllabeling\\\\.jpg"]}},"Wu":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_trc-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+_)?(@@@_pet_ses_type_@@@)$","tokens":{"@@@_pet_ses_type_@@@":["_pet\\\\.json","_events\\\\.json","_events\\\\.tsv"]}},"L6":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+_)?(@@@_anat_ses_type_@@@)\\\\.json$","tokens":{"@@@_anat_ses_type_@@@":["T1w","T2w","T1map","T2map","T1rho","FLAIR","PD","PDT2","inplaneT1","inplaneT2","angio","defacemask","SWImagandphase"]}},"Ju":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_)?dwi\\\\.(?:@@@_dwi_ses_ext_@@@)$","tokens":{"@@@_dwi_ses_ext_@@@":["json","bval","bvec"]}},"Vy":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(@@@_meg_ses_type_@@@)$","tokens":{"@@@_meg_ses_type_@@@":["_events\\\\.tsv","_channels\\\\.tsv","_channels\\\\.json","_meg\\\\.json","_coordsystem\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif","_headshape\\\\.pos"]}},"nR":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:_space-(@@@_eeg_space_@@@))?(@@@_eeg_ses_type_@@@)$","tokens":{"@@@_eeg_ses_type_@@@":["_events\\\\.tsv","_channels\\\\.tsv","_channels\\\\.json","_electrodes\\\\.tsv","_electrodes\\\\.json","_eeg\\\\.json","_coordsystem\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif"],"@@@_eeg_space_@@@":["Other","CapTrak","EEGLAB","EEGLAB-HJ","CTF","ElektaNeuromag","4DBti","KitYokogawa","ChietiItab","ICBM452AirSpace","ICBM452Warp5Space","IXI549Space","fsaverage","fsaverageSym","fsLR","MNIColin27","MNI152Lin","MNI152NLin2009aSym","MNI152NLin2009bSym","MNI152NLin2009cSym","MNI152NLin2009aAsym","MNI152NLin2009bAsym","MNI152NLin2009cAsym","MNI152NLin6Sym","MNI152NLin6ASym","MNI305","NIHPD","OASIS30AntsOASISAnts","OASIS30Atropos","Talairach","UNCInfant","fsaverage3","fsaverage4","fsaverage5","fsaverage6","fsaveragesym","UNCInfant0V21","UNCInfant1V21","UNCInfant2V21","UNCInfant0V22","UNCInfant1V22","UNCInfant2V22","UNCInfant0V23","UNCInfant1V23","UNCInfant2V23"]}},"AE":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:_space-(@@@_ieeg_space_@@@))?(@@@_ieeg_ses_type_@@@)$","tokens":{"@@@_ieeg_ses_type_@@@":["_events\\\\.tsv","_channels\\\\.tsv","_channels\\\\.json","_electrodes\\\\.tsv","_electrodes\\\\.json","_ieeg\\\\.json","_coordsystem\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif"],"@@@_ieeg_space_@@@":["Other","Pixels","ACPC","ScanRAS","ICBM452AirSpace","ICBM452Warp5Space","IXI549Space","fsaverage","fsaverageSym","fsLR","MNIColin27","MNI152Lin","MNI152NLin2009aSym","MNI152NLin2009bSym","MNI152NLin2009cSym","MNI152NLin2009aAsym","MNI152NLin2009bAsym","MNI152NLin2009cAsym","MNI152NLin6Sym","MNI152NLin6ASym","MNI305","NIHPD","OASIS30AntsOASISAnts","OASIS30Atropos","Talairach","UNCInfant","fsaverage3","fsaverage4","fsaverage5","fsaverage6","fsaveragesym","UNCInfant0V21","UNCInfant1V21","UNCInfant2V21","UNCInfant0V22","UNCInfant1V22","UNCInfant2V22","UNCInfant0V23","UNCInfant1V23","UNCInfant2V23"]}},"X7":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(@@@_motion_ses_type_@@@)$","tokens":{"@@@_motion_ses_type_@@@":["_events.tsv","_events.json","_channels.tsv","_channels.json","_motion.json","_coordsystem.json"]}},"jO":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(?:_sample-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_stain-[a-zA-Z0-9]+)?(?:_run-[0-9]+_)?(?:_chunk-[0-9]+)?(@@@_microscopy_ses_type_@@@)$","tokens":{"@@@_microscopy_ses_type_@@@":["_TEM\\\\.json","_SEM\\\\.json","_uCT\\\\.json","_BF\\\\.json","_DF\\\\.json","_PC\\\\.json","_DIC\\\\.json","_FLUO\\\\.json","_CONF\\\\.json","_PLI\\\\.json","_CARS\\\\.json","_2PE\\\\.json","_MPE\\\\.json","_SR\\\\.json","_NLO\\\\.json","_OCT\\\\.json","_SPIM\\\\.json"]}},"CF":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\](?:(ses-[a-zA-Z0-9]+)[\\\\/\\\\\\\\])?\\\\1(_\\\\2)?(((?:_acq-[a-zA-Z0-9]+)?(@@@_nirs_optodes_@@@))|((?:_task-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(@@@_nirs_ses_type_@@@)))$","tokens":{"@@@_nirs_ses_type_@@@":["_events\\\\.tsv","_channels\\\\.tsv","_nirs\\\\.json","_photo\\\\.jpg"],"@@@_nirs_optodes_@@@":["_optodes\\\\.tsv","_optodes\\\\.json","_coordsystem\\\\.json"]}}}'),l=JSON.parse('{"C":{"regexp":"^[\\\\/\\\\\\\\](sub-[a-zA-Z0-9]+)[\\\\/\\\\\\\\]\\\\1(@@@_subject_level_ext_@@@)$","tokens":{"@@@_subject_level_ext_@@@":["_sessions\\\\.tsv","_sessions\\\\.json"]}}}'),c=JSON.parse('{"Dc":{"regexp":"^[\\\\/\\\\\\\\]?(@@@_root_files_@@@)$","tokens":{"@@@_root_files_@@@":["README","README\\\\.md","README\\\\.rst","README\\\\.txt","CHANGES","CITATION\\\\.cff","LICENSE","dataset_description\\\\.json","genetic_info\\\\.json","participants\\\\.tsv","participants\\\\.json","phasediff.json","phase1\\\\.json","phase2\\\\.json","fieldmap\\\\.json","TB1DAM\\\\.json","TB1EPI\\\\.json","TB1AFI\\\\.json","TB1TFL\\\\.json","TB1RFM\\\\.json","TB1SRGE\\\\.json","RB1COR\\\\.json","events\\\\.json","scans\\\\.json","samples\\\\.json","samples\\\\.tsv"]}},"$g":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_ce-[a-zA-Z0-9]+)?(?:_dir-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_echo-[0-9]+)?((?:@@@_func_top_ext_@@@)|(?:_recording-[a-zA-Z0-9]+)?(?:@@@_cont_ext_@@@))$","tokens":{"@@@_func_top_ext_@@@":["_bold\\\\.json","_sbref\\\\.json","_events\\\\.json","_events\\\\.tsv","_beh\\\\.json"],"@@@_cont_ext_@@@":["_physio\\\\.json","_stim\\\\.json"]}},"rU":{"regexp":"^\\\\/(?:ses-[a-zA-Z0-9]+_)?(?:_acq-[a-zA-Z0-9]+)?(?:_rec-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(@@@_asl_top_ext_@@@)$","tokens":{"@@@_asl_top_ext_@@@":["_asl\\\\.json","_m0scan\\\\.json","_aslcontext\\\\.tsv","_labeling.jpg"]}},"Sj":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:task-[a-zA-Z0-9]+_)?(?:trc-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(@@@_pet_suffixes_@@@)\\\\.json$","tokens":{"@@@_pet_suffixes_@@@":["pet"]}},"Yr":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:task-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(@@@_anat_suffixes_@@@)\\\\.json$","tokens":{"@@@_anat_suffixes_@@@":["T1w","T2w","T1map","T2map","T1rho","FLAIR","PD","PDT2","inplaneT1","inplaneT2","angio","SWImagandphase","T2star","FLASH","PDmap","photo"]}},"bA":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:ce-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:echo-[0-9]+_)?(?:flip-[0-9]+_)?(?:part-(mag|phase|real|imag)_)?(@@@_mese_megre_suffixes_@@@)\\\\.json$","tokens":{"@@@_mese_megre_suffixes_@@@":["VFA"]}},"Jm":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:ce-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:echo-[0-9]+_)?(?:part-(mag|phase|real|imag)_)?(@@@_mese_megre_suffixes_@@@)\\\\.json$","tokens":{"@@@_mese_megre_suffixes_@@@":["MEGRE","MESE"]}},"dv":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:ce-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:inv-[0-9]+_)?(?:part-(mag|phase|real|imag)_)?(@@@_irt1_suffixes_@@@)\\\\.json$","tokens":{"@@@_irt1_suffixes_@@@":["IRT1"]}},"y4":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:ce-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:echo-[0-9]+_)?(?:flip-[0-9]+_)?(?:mt-(on|off)_)(?:part-(mag|phase|real|imag)_)?(@@@_mpm_suffixes_@@@)\\\\.json$","tokens":{"@@@_mpm_suffixes_@@@":["MPM"]}},"LW":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:ce-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:echo-[0-9]+_)?(?:flip-[0-9]+_mt-(on|off)_)?(?:part-(mag|phase|real|imag)_)?(@@@_mts_suffixes_@@@)\\\\.json$","tokens":{"@@@_mts_suffixes_@@@":["MTS"]}},"$c":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:ce-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:mt-(on|off)_)?(?:part-(mag|phase|real|imag)_)?(@@@_mtr_suffixes_@@@)\\\\.json$","tokens":{"@@@_mtr_suffixes_@@@":["MTR"]}},"u8":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:ce-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:echo-[0-9]+_)?(?:flip-[0-9]+_)?(?:inv-[0-9]+_)?(?:part-(mag|phase|real|imag)_)?(@@@_mp2rage_suffixes_@@@)\\\\.json$","tokens":{"@@@_mp2rage_suffixes_@@@":["MP2RAGE"]}},"Bp":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(dwi\\\\.(?:@@@_dwi_top_ext_@@@)|sbref\\\\.json)$","tokens":{"@@@_dwi_top_ext_@@@":["json","bval","bvec"]}},"mI":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:@@@_eeg_top_ext_@@@)$","tokens":{"@@@_eeg_top_ext_@@@":["_eeg\\\\.json","_channels\\\\.tsv","_channels\\\\.json","_electrodes\\\\.tsv","_electrodes\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif","_coordsystem\\\\.json"]}},"m6":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:@@@_ieeg_top_ext_@@@)$","tokens":{"@@@_ieeg_top_ext_@@@":["_ieeg\\\\.json","_channels\\\\.tsv","_channels\\\\.json","_electrodes\\\\.tsv","_electrodes\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif","_coordsystem\\\\.json"]}},"Yi":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:@@@_meg_top_ext_@@@)$","tokens":{"@@@_meg_top_ext_@@@":["_meg\\\\.json","_channels\\\\.tsv","_channels\\\\.json","_photo\\\\.jpg","_photo\\\\.png","_photo\\\\.tif","_coordsystem\\\\.json"]}},"Xf":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?task-[a-zA-Z0-9]+(?:@@@_motion_top_ext_@@@)$","tokens":{"@@@_motion_top_ext_@@@":["_motion\\\\.json","_channels\\\\.tsv","_channels\\\\.json","_coordsystem\\\\.json"]}},"hi":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(((?:_acq-[a-zA-Z0-9]+)?(@@@_nirs_optodes_@@@))|(task-[a-zA-Z0-9]+(?:_acq-[a-zA-Z0-9]+)?(?:_proc-[a-zA-Z0-9]+)?(?:@@@_nirs_top_ext_@@@)))$","tokens":{"@@@_nirs_top_ext_@@@":["_nirs\\\\.json","_channels\\\\.tsv","_photo\\\\.jpg"],"@@@_nirs_optodes_@@@":["_optodes\\\\.tsv","_optodes\\\\.json","_coordsystem\\\\.json"]}},"$3":{"regexp":"^[\\\\/\\\\\\\\](?:acq-[a-zA-Z0-9]+_)?(?:dir-[a-zA-Z0-9]+_)epi\\\\.json$"},"QF":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:task-[a-zA-Z0-9]+_)?(?:acq-[a-zA-Z0-9]+_)?(?:rec-[a-zA-Z0-9]+_)?(?:run-[0-9]+_)?(?:recording-[a-zA-Z0-9]+_)?(@@@_other_top_files_ext_@@@)$","tokens":{"@@@_other_top_files_ext_@@@":["physio\\\\.json","stim\\\\.json"]}},"E4":{"regexp":"^[\\\\/\\\\\\\\](?:ses-[a-zA-Z0-9]+_)?(?:_sample-[a-zA-Z0-9]+)?(?:_acq-[a-zA-Z0-9]+)?(?:_stain-[a-zA-Z0-9]+)?(?:_run-[0-9]+)?(?:_chunk-[0-9]+)?(?:@@@_microscopy_top_ext_@@@)$","tokens":{"@@@_microscopy_top_ext_@@@":["_TEM\\\\.json","_SEM\\\\.json","_uCT\\\\.json","_BF\\\\.json","_DF\\\\.json","_PC\\\\.json","_DIC\\\\.json","_FLUO\\\\.json","_CONF\\\\.json","_PLI\\\\.json","_CARS\\\\.json","_2PE\\\\.json","_MPE\\\\.json","_SR\\\\.json","_NLO\\\\.json","_OCT\\\\.json","_SPIM\\\\.json"]}}}');function d(e){n=e}let u=eL(s.$),f=eL(o.Xg),h=eL(o.n8),p=eL(o.MI),m=eL(o.AT),_=eL(o.Et),y=eL(o.eV),g=eL(o.aq),v=eL(o.m),b=eL(o.LH),S=eL(o.Xn),T=eL(o.cO),I=eL(o.Gb),A=eL(o.NW),E=eL(o.l0),C=eL(o.Kw),P=eL(o.hk),N=eL(o.UM),O=eL(o.xt),w=eL(o.d4),j=eL(o.Yl),L=eL(o.wj),M=eL(o.Ct),x=eL(o.V9),D=eL(o.Hu),k=eL(o.uu),z=eL(o.wp),Z=eL(o.P8),R=eL(o.nC),F=eL(o.qo),q=eL(o.Cw),G=eL(o.IS),U=eL(o.B9),$=eL(o.lp),B=eL(o.SF),V=eL(o.N7),H=eL(o.EA),W=eL(o.gq),Y=eL(r.r),J=eL(a.L6),X=eL(a.Ju),K=eL(a.nR),Q=eL(a.Ui),ee=eL(a.F2),et=eL(a.AE),ei=eL(a.Vy),en=eL(a.s7),es=eL(a.Wu),eo=eL(a.X7),er=eL(a.jO),ea=eL(a.CF),el=eL(l.C),ec=eL(c.Dc),ed=eL(c.$g),eu=eL(c.rU),ef=eL(c.Yr),eh=eL(c.bA),ep=eL(c.Jm),em=eL(c.dv),e_=eL(c.y4),ey=eL(c.LW),eg=eL(c.$c),ev=eL(c.u8),eb=eL(c.Bp),eS=eL(c.mI),eT=eL(c.m6),eI=eL(c.$3),eA=eL(c.QF),eE=eL(c.Yi),eC=eL(c.Sj),eP=eL(c.Xf),eN=eL(c.E4),eO=eL(c.hi);var ew={isBIDS:function(e){return this.file.isTopLevel(e)||this.file.isStimuliData(e)||this.file.isSessionLevel(e)||this.file.isSubjectLevel(e)||this.file.isAnat(e)||this.file.isDWI(e)||this.file.isFunc(e)||this.file.isAsl(e)||this.file.isMeg(e)||this.file.isNIRS(e)||this.file.isIEEG(e)||this.file.isEEG(e)||this.file.isBehavioral(e)||this.file.isFieldMap(e)||this.file.isPhenotypic(e)||this.file.isPET(e)||this.file.isPETBlood(e)||this.file.isMOTION(e)||this.file.isMicroscopy(e)||this.file.isMicroscopyPhoto(e)||this.file.isMicroscopyJSON(e)},file:{isTopLevel:function(e){return n?n.top_level_files.some(t=>t.exec(e))||ed.test(e)||eu.test(e)||eb.test(e)||ef.test(e)||eh.test(e)||ep.test(e)||em.test(e)||e_.test(e)||ey.test(e)||eg.test(e)||ev.test(e)||eI.test(e)||eA.test(e)||eE.test(e)||eS.test(e)||eT.test(e)||eC.test(e)||eP.test(e)||eO.test(e)||eN.test(e):ec.test(e)||ed.test(e)||eu.test(e)||eb.test(e)||ef.test(e)||eh.test(e)||ep.test(e)||em.test(e)||e_.test(e)||ey.test(e)||eg.test(e)||ev.test(e)||eI.test(e)||eA.test(e)||eE.test(e)||eS.test(e)||eT.test(e)||eC.test(e)||eP.test(e)||eO.test(e)||eN.test(e)},isDatafile:function(e){return this.isAssociatedData(e)||this.isTSV(e)||this.isStimuliData(e)||this.isPhenotypic(e)||this.hasModality(e)},isAssociatedData:function(e){return u.test(e)},isTSV:function(e){return e.endsWith(".tsv")},isContinousRecording:function(e){return e.endsWith(".tsv.gz")},isStimuliData:function(e){return q.test(e)},isPhenotypic:function(e){return Y.test(e)},isSessionLevel:function(e){return ej(en,e)||ej(Q,e)||ej(ee,e)||ej(J,e)||ej(X,e)||ej(ei,e)||ej(ea,e)||ej(K,e)||ej(et,e)||ej(es,e)||ej(eo,e)||ej(er,e)},isSubjectLevel:function(e){return el.test(e)},isAnat:function(e){return n?n.datatypes.anat.some(t=>t.exec(e)):ej(f,e)||ej(h,e)||ej(p,e)||ej(m,e)||ej(_,e)||ej(y,e)||ej(g,e)||ej(v,e)||ej(b,e)},isDWI:function(e){return n?n.datatypes.dwi.some(t=>t.exec(e)):ej(T,e)},isFieldMap:function(e){return n?n.datatypes.fmap.some(t=>t.exec(e)):ej(A,e)||ej(E,e)||ej(C,e)||ej(P,e)||ej(O,e)||ej(N,e)||ej(w,e)},isFieldMapMainNii:function(e){return!e.endsWith(".json")&&(ej(A,e)||ej(E,e)||ej(C,e)||ej(P,e)||ej(O,e)||ej(N,e)||ej(w,e))},isFunc:function(e){return n?n.datatypes.func.some(t=>t.exec(e)):ej(j,e)||ej(L,e)||ej(M,e)||ej(x,e)},isAsl:function(e){return ej(k,e)},isPET:function(e){return n?n.datatypes.pet.some(t=>t.exec(e)):ej(G,e)},isPETBlood:function(e){return ej(U,e)},isMeg:function(e){return n?n.datatypes.meg.some(t=>t.exec(e)):ej(Z,e)||ej(R,e)||ej(F,e)},isNIRS:function(e){return ej(W,e)},isEEG:function(e){return n?n.datatypes.eeg.some(t=>t.exec(e)):ej(I,e)},isIEEG:function(e){return n?n.datatypes.ieeg.some(t=>t.exec(e)):ej(z,e)},isMOTION:function(e){return ej(H,e)},isMicroscopy:function(e){return ej($,e)},isMicroscopyPhoto:function(e){return ej(B,e)},isMicroscopyJSON:function(e){return ej(V,e)},isBehavioral:function(e){return n?n.datatypes.beh.some(t=>t.exec(e)):ej(S,e)},isFuncBold:function(e){return ej(D,e)},hasModality:function(e){return this.isAnat(e)||this.isDWI(e)||this.isFieldMap(e)||this.isFieldMapMainNii(e)||this.isFunc(e)||this.isAsl(e)||this.isMeg(e)||this.isNIRS(e)||this.isEEG(e)||this.isIEEG(e)||this.isBehavioral(e)||this.isFuncBold(e)||this.isPET(e)||this.isPETBlood(e)||this.isMicroscopy(e)||this.isMicroscopyPhoto(e)||this.isMicroscopyJSON(e)||this.isMOTION(e)}},checkType:(e,t)=>"number"==t?!isNaN(parseFloat(e))&&isFinite(e):typeof e==t,getPathValues:function(e){var t,i={};return t=/^\/sub-([a-zA-Z0-9]+)/.exec(e),i.sub=t&&t[1]?t[1]:null,t=/^\/sub-[a-zA-Z0-9]+\/ses-([a-zA-Z0-9]+)/.exec(e),i.ses=t&&t[1]?t[1]:null,i},schemaSetup:d};function ej(e,t){let i=e.exec(t);return!!i&&(!!i[2]&&!!i[3]||!i[2])}function eL(e){if(!e.tokens)return new RegExp(e.regexp);{let t=e.regexp,i=Object.keys(e.tokens);for(let n of i){let i=e.tokens[n].join("|");t=t.replace(n,i)}return new RegExp(t)}}},64164:function(){},90285:function(){},76333:function(){},61555:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"EchoTime":{"anyOf":[{"type":"number","exclusiveMinimum":0},{"type":"array","items":{"type":"number","exclusiveMinimum":0}}]},"EffectiveEchoSpacing":{"type":"number","exclusiveMinimum":0},"PhaseEncodingDirection":{"type":"string","enum":["i","j","k","i-","j-","k-"]},"RepetitionTimePreparation":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number"},"minimum":0}]},"SliceEncodingDirection":{"type":"string","enum":["i","j","k","i-","j-","k-"]},"SliceTiming":{"type":"array","items":{"type":"number","minimum":0}},"FlipAngle":{"anyOf":[{"type":"number"},{"type":"array","items":{"type":"number"}}]},"ArterialSpinLabelingType":{"type":"string","enum":["PASL","CASL","PCASL"]},"LabelingDuration":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number"},"minimum":0}]},"PostLabelingDelay":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number"},"minimum":0}]},"BackgroundSuppression":{"type":"boolean"},"VascularCrushing":{"type":"boolean"},"LabelingLocationDescription":{"type":"string"},"LabelingOrientation":{"type":"array","items":{"type":"number"}},"LabelingDistance":{"type":"number"},"LabelingPulseMaximumGradient":{"type":"number","exclusiveMinimum":0},"LabelingPulseFlipAngle":{"type":"number","exclusiveMinimum":0,"maximum":360},"LabelingSlabThickness":{"type":"number","exclusiveMinimum":0},"AcquisitionVoxelSize":{"type":"array","items":{"type":"number","exclusiveMinimum":0}},"BackgroundSuppressionNumberPulses":{"type":"number","minimum":0},"BackgroundSuppressionPulseTime":{"type":"array","items":{"type":"number","minimum":0}},"VascularCrushingVENC":{"anyOf":[{"type":"number"},{"type":"array","items":{"type":"number"}}]},"PCASLType":{"type":"string","enum":["balanced","unbalanced"]},"CASLType":{"type":"string","enum":["single-coil","double-coil"]},"PASLType":{"type":"string"},"LookLocker":{"type":"boolean"},"LabelingPulseDuration":{"type":"number","exclusiveMinimum":0},"LabelingPulseInterval":{"type":"number","exclusiveMinimum":0},"LabelingPulseAverageB1":{"type":"number","exclusiveMinimum":0},"LabelingPulseAverageGradient":{"type":"number","exclusiveMinimum":0},"LabelingEfficiency":{"type":"number","exclusiveMinimum":0},"BolusCutOffFlag":{"type":"boolean"},"BolusCutOffDelayTime":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number"},"minimum":0}]},"BolusCutOffTechnique":{"type":"string"},"M0Type":{"type":"string","enum":["Separate","Included","Estimate","Absent"]},"M0Estimate":{"type":"number","exclusiveMinimum":0},"TotalAcquiredPairs":{"type":"number","exclusiveMinimum":0},"PulseSequenceDetails":{"type":"string"},"Manufacturer":{"type":"string"},"MRAcquisitionType":{"type":"string","enum":["2D","3D"]}}}')},73791:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"TaskName":{"$ref":"common_definitions.json#/definitions/TaskName"},"TaskDescription":{"$ref":"common_definitions.json#/definitions/TaskDescription"},"Instructions":{"$ref":"common_definitions.json#/definitions/Instructions"},"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"InstitutionName":{"$ref":"common_definitions.json#/definitions/InstitutionName"},"InstitutionAddress":{"$ref":"common_definitions.json#/definitions/InstitutionAddress"},"InstitutionalDepartmentName":{"$ref":"common_definitions.json#/definitions/InstitutionalDepartmentName"}},"additionalProperties":true}')},60139:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"AcquisitionDuration":{"type":"number","exclusiveMinimum":0},"EchoTime":{"type":"number","exclusiveMinimum":0},"EffectiveEchoSpacing":{"type":"number","exclusiveMinimum":0},"PhaseEncodingDirection":{"type":"string","enum":["i","j","k","i-","j-","k-"]},"RepetitionTime":{"type":"number","exclusiveMinimum":0},"SliceEncodingDirection":{"type":"string","enum":["i","j","k","i-","j-","k-"]},"SliceTiming":{"type":"array","items":{"type":"number","minimum":0}},"TaskName":{"type":"string"},"VolumeTiming":{"type":"array","items":{"type":"number","minimum":0}},"PartialFourier":{"type":"number"}}}')},27364:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","allOf":[{"type":"object","properties":{"reference_frame":{"title":"Reference Frame","type":"object","properties":{"Levels":{"type":"object","patternProperties":{"^.+$":{"type":"object","properties":{"RotationOrder":{"description":"The sequence in which the extrinsic rotations are applied around the three axes.","type":"string","enum":["XYZ","XZY","YXZ","YZX","ZXY","ZYX"]},"RotationRule":{"description":"The direction of rotation around each axis.","type":"string","enum":["left-hand","right-hand"]},"SpatialAxes":{"description":"The coordinate system in which the motion data are to be interpreted. A sequence of characters from the set `{\'A\', \'P\', \'L\', \'R\', \'S\', \'I\', \'_\'}` indicating the direction of each axis. For example `\\"ARS\\"` indicates positive values in the X, Y, Z axes are respectively anterior, right, and superior of the origin, while `\\"PLI\\"` indicates positive values are posterior, left, and inferior of the origin. The `\\"_\\"` character may be used for unused axes.","type":"string","pattern":"^[APLRSI_]{3}$"}}}}}}}}},{"type":"object","patternProperties":{"^.+$":{"$ref":"common_definitions.json#/definitions/ColumnDescription"}}}]}')},38205:function(e){"use strict";e.exports=JSON.parse('{"$id":"common_definitions.json","definitions":{"CogAtlasID":{"type":"string","format":"uri"},"CogPOID":{"type":"string","format":"uri"},"CoordUnits":{"type":"string","enum":["m","mm","cm","n/a"]},"MEGCoordSys":{"type":"string","enum":["CTF","ElektaNeuromag","4DBti","KitYokogawa","ChietiItab","Other"]},"EEGCoordSys":{"type":"string","enum":["CapTrak","EEGLAB","EEGLAB-HJ","Other"]},"iEEGCoordSys":{"type":"string","enum":["Pixels","ACPC","ScanRAS","Other"]},"StandardTemplateCoordSys":{"type":"string","enum":["ICBM452AirSpace","ICBM452Warp5Space","IXI549Space","fsaverage","fsaverageSym","fsLR","MNIColin27","MNI152Lin","MNI152NLin2009aSym","MNI152NLin2009bSym","MNI152NLin2009cSym","MNI152NLin2009aAsym","MNI152NLin2009bAsym","MNI152NLin2009cAsym","MNI152NLin6Sym","MNI152NLin6ASym","MNI305","NIHPD","OASIS30AntsOASISAnts","OASIS30Atropos","Talairach","UNCInfant"]},"StandardTemplateDeprecatedCoordSys":{"type":"string","enum":["fsaverage3","fsaverage4","fsaverage5","fsaverage6","fsaveragesym","UNCInfant0V21","UNCInfant1V21","UNCInfant2V21","UNCInfant0V22","UNCInfant1V22","UNCInfant2V22","UNCInfant0V23","UNCInfant1V23","UNCInfant2V23"]},"DeviceSerialNumber":{"type":"string"},"ECGChannelCount":{"type":"integer","minimum":0},"EEGChannelCount":{"type":"integer","minimum":0},"NIRSChannelCount":{"type":"integer","minimum":0},"NIRSSourceOptodeCount":{"type":"integer","minimum":0},"NIRSDetectorOptodeCount":{"type":"integer","minimum":0},"EMGChannelCount":{"type":"integer","minimum":0},"EOGChannelCount":{"type":"integer","minimum":0},"EpochLength":{"type":"number","minimum":0},"HardwareFilters":{"anyOf":[{"type":"object","additionalProperties":{"type":"object"}},{"type":"string","pattern":"^n/a$"}]},"InstitutionAddress":{"type":"string"},"InstitutionName":{"type":"string"},"Instructions":{"type":"string"},"InstitutionalDepartmentName":{"type":"string","minLength":1},"LandmarkCoordinates":{"type":"object","additionalProperties":{"type":"array","items":{"type":"number"},"minItems":3,"maxItems":3}},"Manufacturer":{"type":"string","minLength":1},"MiscChannelCount":{"type":"integer","minimum":0},"PowerLineFrequency":{"anyOf":[{"type":"number","exclusiveMinimum":0},{"type":"string","pattern":"^n/a$"}]},"RecordingDuration":{"type":"number"},"RecordingType":{"type":"string","enum":["continuous","epoched","discontinuous"]},"SamplingFrequency":{"type":"number"},"SoftwareFilters":{"anyOf":[{"type":"object","additionalProperties":{"type":"object"}},{"type":"string","pattern":"^n/a$"}]},"SoftwareVersions":{"type":"string"},"TaskDescription":{"type":"string"},"TaskName":{"type":"string","minLength":1},"TermURL":{"title":"TermURL","description":"URL pointing to a formal definition in an ontology available on the web.","type":"string","format":"uri"},"TriggerChannelCount":{"type":"integer","minimum":0},"ColumnDescription":{"type":"object","title":"Column","description":"Column of a corresponding tabular file.","properties":{"LongName":{"title":"LongName","description":" Long (unabbreviated) name of column.","type":"string"},"Description":{"title":"Description","description":"Description of the column.","type":"string"},"Units":{"title":"Units","description":"Measurement units.","type":"string"},"Levels":{"type":"object","title":"Levels","description":"For categorical variables: a dictionary of possible values (keys) and their descriptions (values).","patternProperties":{"^.+$":{"anyOf":[{"type":"string"},{"type":"object","properties":{"Description":{"type":"string"},"TermURL":{"$ref":"#/definitions/TermURL"}}}]}}},"TermURL":{"$ref":"#/definitions/TermURL"},"HED":{"anyOf":[{"type":"object","title":"HED","description":"For categorical variables: a dictionary of possible values (keys) and their HED strings (values).","patternProperties":{"^.+$":{"type":"string"}}},{"type":"string","title":"HED","description":"For value variables: a string with a single \'#\' character where the cell value is to be interpolated."}]}}}}}')},7735:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"IntendedFor":{"type":"string","minLength":1},"FiducialsDescription":{"type":"string","minLength":1},"FiducialsCoordinates":{"$ref":"common_definitions.json#/definitions/LandmarkCoordinates"},"FiducialsCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"FiducialsCoordinateSystemDescription":{"type":"string","minLength":1},"FiducialsCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"EEGCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"EEGCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"EEGCoordinateSystemDescription":{"type":"string","minLength":1},"AnatomicalLandmarkCoordinates":{"$ref":"common_definitions.json#/definitions/LandmarkCoordinates"},"AnatomicalLandmarkCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"AnatomicalLandmarkCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"AnatomicalLandmarkCoordinateSystemDescription":{"type":"string","minLength":1}},"required":["EEGCoordinateSystem","EEGCoordinateUnits"],"additionalProperties":false,"allOf":[{"$ref":"#/dependency-definitions/if-EEGCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-FiducialsCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-AnatomicalLandmarkCoordinateSystem-is-Other-then-Description-is-required"}],"dependency-definitions":{"if-EEGCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"EEGCoordinateSystem":{"const":"Other"}},"required":["EEGCoordinateSystem"]},"then":{"required":["EEGCoordinateSystemDescription"]}},"if-FiducialsCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"FiducialsCoordinateSystem":{"const":"Other"}},"required":["FiducialsCoordinateSystem"]},"then":{"required":["FiducialsCoordinateSystemDescription"]}},"if-AnatomicalLandmarkCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"AnatomicalLandmarkCoordinateSystem":{"const":"Other"}},"required":["AnatomicalLandmarkCoordinateSystem"]},"then":{"required":["AnatomicalLandmarkCoordinateSystemDescription"]}}}}')},920:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"IntendedFor":{"type":"string","minLength":1},"iEEGCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/iEEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"iEEGCoordinateUnits":{"type":"string","enum":["m","mm","cm","pixels","n/a"]},"iEEGCoordinateSystemDescription":{"type":"string","minLength":1},"iEEGCoordinateProcessingDescription":{"type":"string","minLength":1},"iEEGCoordinateProcessingReference":{"type":"string","minLength":1}},"required":["iEEGCoordinateSystem","iEEGCoordinateUnits"],"additionalProperties":false,"allOf":[{"$ref":"#/dependency-definitions/if-iEEGCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-iEEGCoordinateSystem-is-Pixels-then-iEEGCoordinateUnits-must-be-pixels"}],"dependency-definitions":{"if-iEEGCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"iEEGCoordinateSystem":{"const":"Other"}},"required":["iEEGCoordinateSystem"]},"then":{"required":["iEEGCoordinateSystemDescription"]}},"if-iEEGCoordinateSystem-is-Pixels-then-iEEGCoordinateUnits-must-be-pixels":{"if":{"type":"object","properties":{"iEEGCoordinateSystem":{"const":"Pixels"}},"required":["iEEGCoordinateSystem"]},"then":{"type":"object","properties":{"iEEGCoordinateUnits":{"type":"string","enum":["pixels"]}},"required":["iEEGCoordinateUnits"]}}}}')},66829:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"MEGCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"MEGCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"MEGCoordinateSystemDescription":{"type":"string","minLength":1},"EEGCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"EEGCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"EEGCoordinateSystemDescription":{"type":"string","minLength":1},"IntendedFor":{"anyOf":[{"type":"array","items":{"type":"string","minLength":1}},{"type":"string","minLength":1}]},"FiducialsDescription":{"type":"string","minLength":1},"HeadCoilCoordinates":{"$ref":"common_definitions.json#/definitions/LandmarkCoordinates"},"HeadCoilCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"HeadCoilCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"HeadCoilCoordinateSystemDescription":{"type":"string","minLength":1},"AnatomicalLandmarkCoordinates":{"$ref":"common_definitions.json#/definitions/LandmarkCoordinates"},"AnatomicalLandmarkCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"AnatomicalLandmarkCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"AnatomicalLandmarkCoordinateSystemDescription":{"type":"string","minLength":1},"DigitizedHeadPoints":{"type":"string"},"DigitizedHeadPointsCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"DigitizedHeadPointsCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"DigitizedHeadPointsCoordinateSystemDescription":{"type":"string","minLength":1}},"required":["MEGCoordinateSystem","MEGCoordinateUnits"],"additionalProperties":false,"allOf":[{"$ref":"#/dependency-definitions/if-MEGCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-EEGCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-HeadCoilCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-AnatomicalLandmarkCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-DigitizedHeadPointsCoordinateSystem-is-Other-then-Description-is-required"}],"dependency-definitions":{"if-MEGCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"MEGCoordinateSystem":{"const":"Other"}},"required":["MEGCoordinateSystem"]},"then":{"required":["MEGCoordinateSystemDescription"]}},"if-EEGCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"EEGCoordinateSystem":{"const":"Other"}},"required":["EEGCoordinateSystem"]},"then":{"required":["EEGCoordinateSystemDescription"]}},"if-HeadCoilCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"HeadCoilCoordinateSystem":{"const":"Other"}},"required":["HeadCoilCoordinateSystem"]},"then":{"required":["HeadCoilCoordinateSystemDescription"]}},"if-AnatomicalLandmarkCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"AnatomicalLandmarkCoordinateSystem":{"const":"Other"}},"required":["AnatomicalLandmarkCoordinateSystem"]},"then":{"required":["AnatomicalLandmarkCoordinateSystemDescription"]}},"if-DigitizedHeadPointsCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"DigitizedHeadPointsCoordinateSystem":{"const":"Other"}},"required":["DigitizedHeadPointsCoordinateSystem"]},"then":{"required":["DigitizedHeadPointsCoordinateSystemDescription"]}}}}')},39890:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"IntendedFor":{"type":"string","minLength":1},"FiducialsDescription":{"type":"string","minLength":1},"FiducialsCoordinates":{"$ref":"common_definitions.json#/definitions/LandmarkCoordinates"},"FiducialsCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"FiducialsCoordinateSystemDescription":{"type":"string","minLength":1},"FiducialsCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"NIRSCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"NIRSCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"NIRSCoordinateSystemDescription":{"type":"string","minLength":1},"AnatomicalLandmarkCoordinates":{"$ref":"common_definitions.json#/definitions/LandmarkCoordinates"},"AnatomicalLandmarkCoordinateSystem":{"anyOf":[{"$ref":"common_definitions.json#/definitions/MEGCoordSys"},{"$ref":"common_definitions.json#/definitions/EEGCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateCoordSys"},{"$ref":"common_definitions.json#/definitions/StandardTemplateDeprecatedCoordSys"}]},"AnatomicalLandmarkCoordinateUnits":{"$ref":"common_definitions.json#/definitions/CoordUnits"},"AnatomicalLandmarkCoordinateSystemDescription":{"type":"string","minLength":1},"NIRSCoordinateProcessingDescription":{"type":"string","minLength":1}},"required":["NIRSCoordinateSystem","NIRSCoordinateUnits"],"additionalProperties":false,"allOf":[{"$ref":"#/dependency-definitions/if-NIRSCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-FiducialsCoordinateSystem-is-Other-then-Description-is-required"},{"$ref":"#/dependency-definitions/if-AnatomicalLandmarkCoordinateSystem-is-Other-then-Description-is-required"}],"dependency-definitions":{"if-NIRSCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"NIRSCoordinateSystem":{"const":"Other"}},"required":["NIRSCoordinateSystem"]},"then":{"required":["NIRSCoordinateSystemDescription"]}},"if-FiducialsCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"FiducialsCoordinateSystem":{"const":"Other"}},"required":["FiducialsCoordinateSystem"]},"then":{"required":["FiducialsCoordinateSystemDescription"]}},"if-AnatomicalLandmarkCoordinateSystem-is-Other-then-Description-is-required":{"if":{"type":"object","properties":{"AnatomicalLandmarkCoordinateSystem":{"const":"Other"}},"required":["AnatomicalLandmarkCoordinateSystem"]},"then":{"required":["AnatomicalLandmarkCoordinateSystemDescription"]}}}}')},80734:function(e){"use strict";e.exports=JSON.parse('{"type":"object","patternProperties":{"^.+$":{"$ref":"common_definitions.json#/definitions/ColumnDescription"}}}')},41045:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://example.com/example.json","type":"object","properties":{"Name":{"type":"string"},"BIDSVersion":{"type":"string"},"HEDVersion":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string","pattern":"^(?:[a-zA-Z]+:)?(?:[a-zA-Z]+_)?(?:0|[1-9]\\\\d*)\\\\.(?:0|[1-9]\\\\d*)\\\\.(?:0|[1-9]\\\\d*)(?:-(?:(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\\\.(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\\\+(?:[0-9a-zA-Z-]+(?:\\\\.[0-9a-zA-Z-]+)*))?$"}}]},"DatasetType":{"type":"string","enum":["raw","derivative"]},"License":{"type":"string"},"Authors":{"items":{"type":"string"},"type":"array"},"Acknowledgements":{"type":"string"},"HowToAcknowledge":{"type":"string"},"Funding":{"items":{"type":"string"},"type":"array"},"EthicsApprovals":{"items":{"type":"string"},"type":"array"},"ReferencesAndLinks":{"items":{"type":"string"},"type":"array"},"DatasetDOI":{"type":"string"},"DatasetLinks":{"type":"object","properties":{},"propertyNames":{"type":"string","minLength":1,"pattern":"^[a-zA-Z0-9]*$"},"additionalProperties":{"type":"string","format":"uri-reference"}},"GeneratedBy":{"type":"array","minItems":1,"items":{"type":"object","properties":{"Name":{"type":"string"},"Version":{"type":"string"},"Description":{"type":"string"},"CodeURL":{"type":"string","format":"uri"},"Container":{"type":"object","properties":{"Type":{"type":"string"},"Tag":{"type":"string"},"URI":{"type":"string","format":"uri"}}}}}},"SourceDatasets":{"type":"array","items":{"type":"object","properties":{"URL":{"type":"string","format":"uri"},"DOI":{"type":"string"},"Version":{"type":"string"}}}},"Genetics":{"type":"object","properties":{"Database":{"type":"string","format":"uri"},"Dataset":{"type":"string","format":"uri"},"Descriptors":{"items":{"type":"string"},"type":["array","string"]}}}},"required":["Name","BIDSVersion"],"allOf":[{"$ref":"#/dependency-definitions/if-DatasetType-is-derivative-then-GeneratedBy-is-required"}],"dependency-definitions":{"if-DatasetType-is-derivative-then-GeneratedBy-is-required":{"if":{"type":"object","properties":{"DatasetType":{"const":"derivative"}},"required":["DatasetType"]},"then":{"required":["GeneratedBy"]}}}}')},98876:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"TaskName":{"$ref":"common_definitions.json#/definitions/TaskName"},"TaskDescription":{"$ref":"common_definitions.json#/definitions/TaskDescription"},"Instructions":{"$ref":"common_definitions.json#/definitions/Instructions"},"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"InstitutionName":{"$ref":"common_definitions.json#/definitions/InstitutionName"},"InstitutionAddress":{"$ref":"common_definitions.json#/definitions/InstitutionAddress"},"InstitutionalDepartmentName":{"$ref":"common_definitions.json#/definitions/InstitutionalDepartmentName"},"Manufacturer":{"$ref":"common_definitions.json#/definitions/Manufacturer"},"ManufacturersModelName":{"type":"string","minLength":1},"DeviceSerialNumber":{"$ref":"common_definitions.json#/definitions/DeviceSerialNumber"},"SoftwareVersions":{"$ref":"common_definitions.json#/definitions/SoftwareVersions"},"PowerLineFrequency":{"$ref":"common_definitions.json#/definitions/PowerLineFrequency"},"SamplingFrequency":{"$ref":"common_definitions.json#/definitions/SamplingFrequency"},"EEGChannelCount":{"$ref":"common_definitions.json#/definitions/EEGChannelCount"},"EOGChannelCount":{"$ref":"common_definitions.json#/definitions/EOGChannelCount"},"ECGChannelCount":{"$ref":"common_definitions.json#/definitions/ECGChannelCount"},"EMGChannelCount":{"$ref":"common_definitions.json#/definitions/EMGChannelCount"},"MiscChannelCount":{"$ref":"common_definitions.json#/definitions/MiscChannelCount"},"TriggerChannelCount":{"$ref":"common_definitions.json#/definitions/TriggerChannelCount"},"EEGPlacementScheme":{"type":"string"},"EEGReference":{"type":"string"},"EEGGround":{"type":"string"},"CapManufacturer":{"type":"string"},"CapManufacturersModelName":{"type":"string"},"HeadCircumference":{"type":"number","exclusiveMinimum":0},"HardwareFilters":{"$ref":"common_definitions.json#/definitions/HardwareFilters"},"SoftwareFilters":{"$ref":"common_definitions.json#/definitions/SoftwareFilters"},"RecordingDuration":{"$ref":"common_definitions.json#/definitions/RecordingDuration"},"RecordingType":{"$ref":"common_definitions.json#/definitions/RecordingType"},"EpochLength":{"$ref":"common_definitions.json#/definitions/EpochLength"},"SubjectArtefactDescription":{"type":"string"},"ElectricalStimulation":{"type":"boolean"},"ElectricalStimulationParameters":{"type":"string"}},"required":["TaskName","SamplingFrequency","SoftwareFilters","EEGReference","PowerLineFrequency"],"additionalProperties":false}')},27298:function(e){"use strict";e.exports=JSON.parse('{"type":"object","patternProperties":{"^.+$":{"$ref":"common_definitions.json#/definitions/ColumnDescription"}},"properties":{"StimulusPresentation":{"type":"object","properties":{"OperatingSystem":{"type":"string"},"SoftwareName":{"type":"string"},"SoftwareRRID":{"type":"string","pattern":".+_.+"},"SoftwareVersion":{"type":"string"},"Code":{"type":"string","format":"uri"}}}}}')},87140:function(e){"use strict";e.exports=JSON.parse('{"type":"object","definitions":{"GeneticLevelEnum":{"type":"string","enum":["Genetic","Genomic","Epigenomic","Transcriptomic","Metabolomic","Proteomic"]}},"properties":{"GeneticLevel":{"anyof":[{"type":"array","items":{"$ref":"#/definitions/GeneticLevelEnum"}},{"$ref":"#/definitions/GeneticLevelEnum"}]},"AnalyticalApproach":{"items":{"type":"string"},"type":["array","string"]},"SampleOrigin":{"type":"string","enum":["blood","saliva","brain","csf","breast milk","bile","amniotic fluid","other biospecimen"]},"TissueOrigin":{"type":"string","enum":["gray matter","white matter","csf","meninges","macrovascular","microvascular"]},"BrainLocation":{"type":"string"},"CellType":{"type":"string"}},"required":["GeneticLevel","SampleOrigin"],"additionalProperties":false}')},61983:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"TaskName":{"$ref":"common_definitions.json#/definitions/TaskName"},"SamplingFrequency":{"$ref":"common_definitions.json#/definitions/SamplingFrequency"},"PowerLineFrequency":{"$ref":"common_definitions.json#/definitions/PowerLineFrequency"},"DCOffsetCorrection":{"type":"string","minLength":1},"SoftwareFilters":{"$ref":"common_definitions.json#/definitions/SoftwareFilters"},"HardwareFilters":{"$ref":"common_definitions.json#/definitions/HardwareFilters"},"Manufacturer":{"$ref":"common_definitions.json#/definitions/Manufacturer"},"ManufacturersModelName":{"type":"string"},"TaskDescription":{"$ref":"common_definitions.json#/definitions/TaskDescription"},"Instructions":{"$ref":"common_definitions.json#/definitions/Instructions"},"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"InstitutionName":{"$ref":"common_definitions.json#/definitions/InstitutionName"},"InstitutionAddress":{"$ref":"common_definitions.json#/definitions/InstitutionAddress"},"InstitutionalDepartmentName":{"$ref":"common_definitions.json#/definitions/InstitutionalDepartmentName"},"DeviceSerialNumber":{"$ref":"common_definitions.json#/definitions/DeviceSerialNumber"},"ECOGChannelCount":{"type":"integer","minimum":0},"SEEGChannelCount":{"type":"integer","minimum":0},"EEGChannelCount":{"$ref":"common_definitions.json#/definitions/EEGChannelCount"},"EOGChannelCount":{"$ref":"common_definitions.json#/definitions/EOGChannelCount"},"ECGChannelCount":{"$ref":"common_definitions.json#/definitions/ECGChannelCount"},"EMGChannelCount":{"$ref":"common_definitions.json#/definitions/EMGChannelCount"},"MiscChannelCount":{"$ref":"common_definitions.json#/definitions/MiscChannelCount"},"TriggerChannelCount":{"$ref":"common_definitions.json#/definitions/TriggerChannelCount"},"RecordingDuration":{"$ref":"common_definitions.json#/definitions/RecordingDuration"},"RecordingType":{"$ref":"common_definitions.json#/definitions/RecordingType"},"EpochLength":{"$ref":"common_definitions.json#/definitions/EpochLength"},"SubjectArtefactDescription":{"type":"string"},"SoftwareVersions":{"$ref":"common_definitions.json#/definitions/SoftwareVersions"},"iEEGReference":{"type":"string"},"ElectrodeManufacturer":{"type":"string"},"ElectrodeManufacturersModelName":{"type":"string"},"iEEGGround":{"type":"string"},"iEEGPlacementScheme":{"type":"string"},"iEEGElectrodeGroups":{"type":"string"},"ElectricalStimulation":{"type":"boolean"},"ElectricalStimulationParameters":{"type":"string"}},"required":["TaskName","SamplingFrequency","PowerLineFrequency","SoftwareFilters","iEEGReference"],"additionalProperties":false}')},97325:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"TaskName":{"$ref":"common_definitions.json#/definitions/TaskName"},"TaskDescription":{"$ref":"common_definitions.json#/definitions/TaskDescription"},"Instructions":{"$ref":"common_definitions.json#/definitions/Instructions"},"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"InstitutionName":{"$ref":"common_definitions.json#/definitions/InstitutionName"},"InstitutionAddress":{"$ref":"common_definitions.json#/definitions/InstitutionAddress"},"InstitutionalDepartmentName":{"$ref":"common_definitions.json#/definitions/InstitutionalDepartmentName"},"Manufacturer":{"$ref":"common_definitions.json#/definitions/Manufacturer"},"ManufacturersModelName":{"type":"string","minLength":1},"DeviceSerialNumber":{"$ref":"common_definitions.json#/definitions/DeviceSerialNumber"},"SoftwareVersions":{"$ref":"common_definitions.json#/definitions/SoftwareVersions"},"PowerLineFrequency":{"$ref":"common_definitions.json#/definitions/PowerLineFrequency"},"SamplingFrequency":{"$ref":"common_definitions.json#/definitions/SamplingFrequency"},"MEGChannelCount":{"type":"integer","minimum":0},"MEGREFChannelCount":{"type":"integer","minimum":0},"EEGChannelCount":{"$ref":"common_definitions.json#/definitions/EEGChannelCount"},"ECOGChannelCount":{"type":"integer","minimum":0},"SEEGChannelCount":{"type":"integer","minimum":0},"EOGChannelCount":{"$ref":"common_definitions.json#/definitions/EOGChannelCount"},"ECGChannelCount":{"$ref":"common_definitions.json#/definitions/ECGChannelCount"},"EMGChannelCount":{"$ref":"common_definitions.json#/definitions/EMGChannelCount"},"MiscChannelCount":{"$ref":"common_definitions.json#/definitions/MiscChannelCount"},"TriggerChannelCount":{"$ref":"common_definitions.json#/definitions/TriggerChannelCount"},"EEGPlacementScheme":{"type":"string"},"EEGReference":{"type":"string"},"CapManufacturer":{"type":"string"},"CapManufacturersModelName":{"type":"string"},"DewarPosition":{"type":"string"},"HardwareFilters":{"$ref":"common_definitions.json#/definitions/HardwareFilters"},"SoftwareFilters":{"$ref":"common_definitions.json#/definitions/SoftwareFilters"},"RecordingDuration":{"$ref":"common_definitions.json#/definitions/RecordingDuration"},"RecordingType":{"$ref":"common_definitions.json#/definitions/RecordingType"},"EpochLength":{"$ref":"common_definitions.json#/definitions/EpochLength"},"ContinuousHeadLocalization":{"type":"boolean"},"HeadCoilFrequency":{"anyOf":[{"type":"number"},{"type":"array","items":{"type":"number"}}]},"AssociatedEmptyRoom":{"anyOf":[{"type":"array","items":{"type":"string","minLength":1}},{"type":"string","minLength":1}]},"MaxMovement":{"type":"number"},"SubjectArtefactDescription":{"type":"string"},"DigitizedLandmarks":{"type":"boolean"},"DigitizedHeadPoints":{"type":"boolean"},"ElectricalStimulation":{"type":"boolean"},"ElectricalStimulationParameters":{"type":"string"}},"required":["TaskName","SamplingFrequency","PowerLineFrequency","DewarPosition","SoftwareFilters","DigitizedLandmarks","DigitizedHeadPoints"],"additionalProperties":false}')},9430:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"Manufacturer":{"type":"string","minLength":1},"ManufacturersModelName":{"type":"string","minLength":1},"DeviceSerialNumber":{"type":"string","minLength":1},"StationName":{"type":"string","minLength":1},"SoftwareVersions":{"type":"string","minLength":1},"InstitutionName":{"type":"string","minLength":1},"InstitutionAddress":{"type":"string","minLength":1},"InstitutionalDepartmentName":{"type":"string","minLength":1},"BodyPart":{"type":"string","minLength":1},"BodyPartDetails":{"type":"string","minLength":1},"BodyPartDetailsOntology":{"type":"string","minLength":1,"format":"uri"},"SampleEnvironment":{"type":"string","minLength":1,"enum":["in vivo","ex vivo","in vitro"]},"SampleEmbedding":{"type":"string","minLength":1},"SampleFixation":{"type":"string","minLength":1},"SampleStaining":{"anyOf":[{"type":"string","minLength":1},{"type":"array","items":{"type":"string"}}]},"SamplePrimaryAntibody":{"anyOf":[{"type":"string","minLength":1},{"type":"array","items":{"type":"string"}}]},"SampleSecondaryAntibody":{"anyOf":[{"type":"string","minLength":1},{"type":"array","items":{"type":"string"}}]},"SliceThickness":{"type":"number","exclusiveMinimum":0},"SampleExtractionProtocol":{"type":"string","minLength":1},"SampleExtractionInstitution":{"type":"string","minLength":1},"TissueDeformationScaling":{"type":"number"},"PixelSize":{"type":"array","minItems":2,"maxItems":3,"items":{"type":"number","minimum":0}},"PixelSizeUnits":{"type":"string","enum":["mm","um","nm"]},"Immersion":{"type":"string","minLength":1},"NumericalAperture":{"type":"number","exclusiveMinimum":0},"Magnification":{"type":"number","exclusiveMinimum":0},"ImageAcquisitionProtocol":{"type":"string","minLength":1},"OtherAcquisitionParameters":{"type":"string","minLength":1},"ChunkTransformationMatrix":{"anyOf":[{"type":"array","minItems":3,"maxItems":3,"items":{"type":"array","minItems":3,"maxItems":3,"items":{"type":"number"}}},{"type":"array","minItems":4,"maxItems":4,"items":{"type":"array","minItems":4,"maxItems":4,"items":{"type":"number"}}}]},"ChunkTransformationMatrixAxis":{"type":"array","minItems":2,"maxItems":3,"items":{"type":"string"}}},"required":["PixelSize","PixelSizeUnits"],"recommended":["Manufacturer","ManufacturersModelName","DeviceSerialNumber","StationName","SoftwareVersions","InstitutionName","InstitutionAddress","InstitutionalDepartmentName","BodyPart","BodyPartDetails","SampleEnvironment","SampleStaining","SamplePrimaryAntibody","SampleSecondaryAntibody"],"dependencies":{"PixelSize":["PixelSizeUnits"],"ChunkTransformationMatrix":["ChunkTransformationMatrixAxis"]}}')},97100:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"PhotoDescription":{"type":"string","minLength":1},"IntendedFor":{"anyOf":[{"type":"string","minLength":1},{"type":"array","items":{"type":"string","minLength":1},"minItems":1}]}}}')},29435:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"TaskName":{"$ref":"common_definitions.json#/definitions/TaskName"},"TaskDescription":{"$ref":"common_definitions.json#/definitions/TaskDescription"},"Instructions":{"$ref":"common_definitions.json#/definitions/Instructions"},"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"InstitutionName":{"$ref":"common_definitions.json#/definitions/InstitutionName"},"InstitutionAddress":{"$ref":"common_definitions.json#/definitions/InstitutionAddress"},"InstitutionalDepartmentName":{"$ref":"common_definitions.json#/definitions/InstitutionalDepartmentName"},"EpochLength":{"$ref":"common_definitions.json#/definitions/EpochLength"},"RecordingType":{"$ref":"common_definitions.json#/definitions/RecordingType"},"SubjectArtefactDescription":{"type":"string"},"MotionChannelCount":{"type":"number"},"TrackingSystemName":{"type":"string"},"DeviceSerialNumber":{"$ref":"common_definitions.json#/definitions/DeviceSerialNumber"},"SoftwareVersions":{"$ref":"common_definitions.json#/definitions/SoftwareVersions"},"Manufacturer":{"$ref":"common_definitions.json#/definitions/Manufacturer"},"ManufacturersModelName":{"type":"string","minLength":1},"TrackedPointsCount":{"type":"number"},"RecordingDuration":{"$ref":"common_definitions.json#/definitions/RecordingDuration"},"SamplingFrequency":{"$ref":"common_definitions.json#/definitions/SamplingFrequency"},"SamplingFrequencyEffective":{"type":"number"},"SoftwareFilters":{"$ref":"common_definitions.json#/definitions/SoftwareFilters"},"ACCELChannelCount":{"type":"number"},"ANGACCELChannelCount":{"type":"number"},"GYROChannelCount":{"type":"number"},"JNTANGChannelCount":{"type":"number"},"MAGNChannelCount":{"type":"number"},"MISCChannelCount":{"type":"number"},"ORNTChannelCount":{"type":"number"},"POSChannelCount":{"type":"number"},"VELChannelCount":{"type":"number"},"LATENCYChannelCount":{"type":"number"},"MissingValues":{"type":"string"}},"required":["TaskName","SamplingFrequency"],"additionalProperties":false}')},87618:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"TaskName":{"$ref":"common_definitions.json#/definitions/TaskName"},"TaskDescription":{"$ref":"common_definitions.json#/definitions/TaskDescription"},"Instructions":{"$ref":"common_definitions.json#/definitions/Instructions"},"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"InstitutionName":{"$ref":"common_definitions.json#/definitions/InstitutionName"},"InstitutionalDepartmentName":{"type":"string"},"InstitutionAddress":{"$ref":"common_definitions.json#/definitions/InstitutionAddress"},"Manufacturer":{"$ref":"common_definitions.json#/definitions/Manufacturer"},"ManufacturersModelName":{"type":"string","minLength":1},"DeviceSerialNumber":{"$ref":"common_definitions.json#/definitions/DeviceSerialNumber"},"SoftwareVersions":{"$ref":"common_definitions.json#/definitions/SoftwareVersions"},"PowerLineFrequency":{"$ref":"common_definitions.json#/definitions/PowerLineFrequency"},"SamplingFrequency":{"anyOf":[{"$ref":"common_definitions.json#/definitions/SamplingFrequency"},{"enum":["n/a"]}]},"NIRSChannelCount":{"$ref":"common_definitions.json#/definitions/NIRSChannelCount"},"NIRSSourceOptodeCount":{"$ref":"common_definitions.json#/definitions/NIRSSourceOptodeCount"},"NIRSDetectorOptodeCount":{"$ref":"common_definitions.json#/definitions/NIRSDetectorOptodeCount"},"EEGChannelCount":{"$ref":"common_definitions.json#/definitions/EEGChannelCount"},"EOGChannelCount":{"$ref":"common_definitions.json#/definitions/EOGChannelCount"},"ECGChannelCount":{"$ref":"common_definitions.json#/definitions/ECGChannelCount"},"EMGChannelCount":{"$ref":"common_definitions.json#/definitions/EMGChannelCount"},"MiscChannelCount":{"$ref":"common_definitions.json#/definitions/MiscChannelCount"},"TriggerChannelCount":{"$ref":"common_definitions.json#/definitions/TriggerChannelCount"},"NIRSPlacementScheme":{"type":"string"},"CapManufacturer":{"type":"string"},"CapManufacturersModelName":{"type":"string"},"HeadCircumference":{"type":"number","exclusiveMinimum":0},"SourceType":{"type":"string"},"ShortChannelCount":{"type":"number","exclusiveMinimum":0,"recommends_tsv_non_custom_columns":["short_channel"]},"HardwareFilters":{"$ref":"common_definitions.json#/definitions/HardwareFilters"},"SoftwareFilters":{"$ref":"common_definitions.json#/definitions/SoftwareFilters"},"RecordingDuration":{"$ref":"common_definitions.json#/definitions/RecordingDuration"},"RecordingType":{"$ref":"common_definitions.json#/definitions/RecordingType"},"SubjectArtefactDescription":{"type":"string"},"ACCELChannelCount":{"type":"number"},"GYROChannelCount":{"type":"number"},"MAGNChannelCount":{"type":"number"}},"required":["TaskName","SamplingFrequency","NIRSChannelCount","NIRSSourceOptodeCount","NIRSDetectorOptodeCount"],"required_if_tsv_value_present":{"ACCELChannelCount":{"header":"type","value":"ACC"},"MAGNChannelCount":{"header":"type","value":"MAGN"},"GYROChannelCount":{"header":"type","value":"GYRO"}},"additionalProperties":false}')},49885:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"Manufacturer":{"type":"string","minLength":1},"ManufacturersModelName":{"type":"string","minLength":1},"Units":{"type":"string","minLength":1},"TracerName":{"type":"string","minLength":1},"TracerRadionuclide":{"type":"string","minLength":1},"InstitutionName":{"type":"string","minLength":1},"InstitutionAddress":{"type":"string","minLength":1},"InstitutionalDepartmentName":{"$ref":"common_definitions.json#/definitions/InstitutionalDepartmentName"},"BodyPart":{"type":"string","minLength":1},"TracerRadLex":{"type":"string","minLength":1},"TracerSNOMED":{"type":"string","minLength":1},"TracerMolecularWeight":{"type":"number"},"TracerMolecularWeightUnits":{"type":"string","minLength":1},"PharmaceuticalName":{"type":"string","minLength":1},"PharmaceuticalDoseAmount":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number"}}]},"PharmaceuticalDoseUnits":{"type":"string","minLength":1},"PharmaceuticalDoseRegimen":{"type":"string","minLength":1},"PharmaceuticalDoseTime":{"anyOf":[{"type":"number"},{"type":"array","items":{"type":"number"}}]},"Anaesthesia":{"type":"string","minLength":1},"ModeOfAdministration":{"type":"string","minLength":1},"InjectedRadioactivity":{"type":"number"},"InjectedRadioactivityUnits":{"type":"string","minLength":1},"InjectedMass":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^n/a$"}]},"InjectedMassUnits":{"type":"string","minLength":1},"SpecificRadioactivity":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^n/a$"}]},"SpecificRadioactivityUnits":{"type":"string","minLength":1},"InjectedMassPerWeight":{"type":"number"},"InjectedMassPerWeightUnits":{"type":"string","minLength":1},"SpecificRadioactivityMeasTime":{"type":"string","pattern":"^(?:2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]$"},"MolarActivity":{"type":"number"},"MolarActivityUnits":{"type":"string","minLength":1},"MolarActivityMeasTime":{"type":"string","pattern":"^(?:2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]$"},"InfusionRadioactivity":{"type":"number"},"InfusionStart":{"type":"number"},"InfusionSpeed":{"type":"number"},"InfusionSpeedUnits":{"type":"string","minLength":1},"InjectedVolume":{"type":"number"},"Purity":{"type":"number"},"TimeZero":{"type":"string","pattern":"^(?:2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]$"},"ScanStart":{"type":"number"},"InjectionStart":{"type":"number"},"FrameTimesStart":{"type":"array","items":{"type":"number"}},"FrameDuration":{"type":"array","items":{"type":"number"}},"ScanDate":{"type":"string","pattern":"date"},"InjectionEnd":{"type":"number"},"AcquisitionMode":{"type":"string","minLength":1},"ImageDecayCorrected":{"type":"boolean"},"ImageDecayCorrectionTime":{"type":"number"},"ReconMethodName":{"type":"string","minLength":1},"ReconMethodParameterLabels":{"type":"array","items":{"type":"string"}},"ReconMethodParameterUnits":{"type":"array","items":{"type":"string"}},"ReconMethodParameterValues":{"type":"array","items":{"type":"number"}},"ReconFilterType":{"anyOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"ReconFilterSize":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number"}}]},"ReconMethodImplementationVersion":{"type":"string","minLength":1},"AttenuationCorrection":{"type":"string","minLength":1},"AttenuationCorrectionMethodReference":{"type":"string","minLength":1},"ScaleFactor":{"type":"array","items":{"type":"number"}},"ScatterFraction":{"type":"array","items":{"type":"number"}},"DecayCorrectionFactor":{"type":"array","items":{"type":"number"}},"DoseCalibrationFactor":{"type":"number","items":{"type":"number"}},"PromptRate":{"type":"array","items":{"type":"number"}},"RandomRate":{"type":"array","items":{"type":"number"}},"SinglesRate":{"type":"array","items":{"type":"number"}},"CogAtlasID":{"$ref":"common_definitions.json#/definitions/CogAtlasID"},"CogPOID":{"$ref":"common_definitions.json#/definitions/CogPOID"},"TaskName":{"type":"string"},"TaskDescription":{"$ref":"common_definitions.json#/definitions/TaskDescription"},"Instructions":{"$ref":"common_definitions.json#/definitions/Instructions"}},"allOf":[{"if":{"properties":{"InjectedMass":{"enum":["n/a"]},"InjectedMassUnits":{"enum":["n/a"]}}},"then":{},"else":{"required":["InjectedMass","InjectedMassUnits"]}},{"if":{"properties":{"SpecificRadioactivity":{"enum":["n/a"]},"SpecificRadioactivityUnits":{"enum":["n/a"]}}},"then":{},"else":{"required":["SpecificRadioactivity","SpecificRadioactivityUnits"]}},{"if":{"properties":{"ReconFilterType":{"enum":["n/a"]},"ReconFilterSize":{"enum":["n/a"]}}},"then":{},"else":{"required":["ReconFilterType","ReconFilterSize"]}},{"if":{"properties":{"ModeOfAdministration":{"enum":["bolus-infusion"]}}},"then":{"required":["InfusionRadioactivity","InfusionStart","InfusionSpeed","InjectedVolume"]},"else":{}}],"required":["Manufacturer","ManufacturersModelName","Units","TracerName","TracerRadionuclide","ModeOfAdministration","InjectedRadioactivity","InjectedRadioactivityUnits","InjectedMass","InjectedMassUnits","SpecificRadioactivity","SpecificRadioactivityUnits","TimeZero","ScanStart","InjectionStart","FrameTimesStart","FrameDuration","AcquisitionMode","ImageDecayCorrected","ImageDecayCorrectionTime","ReconMethodName","ReconMethodParameterLabels","ReconMethodParameterUnits","ReconMethodParameterValues","ReconFilterType","ReconFilterSize","AttenuationCorrection"],"dependencies":{"TracerMolecularWeight":["TracerMolecularWeightUnits"],"InjectedRadioactivity":["InjectedRadioactivityUnits"],"InjectedMassPerWeight":["InjectedMassPerWeightUnits"],"MolarActivity":["MolarActivityUnits"],"InfusionSpeed":["InfusionSpeedUnits"],"ReconMethodParameterLabels":["ReconMethodParameterUnits","ReconMethodParameterValues"]}}')},60524:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"PlasmaAvail":{"default":false,"type":"boolean","requires_tsv_non_custom_columns":["plasma_radioactivity"]},"PlasmaFreeFraction":{"type":"number","min":0,"max":1},"PlasmaFreeFractionMethod":{"type":"string","minLength":1},"MetaboliteAvail":{"default":false,"type":"boolean","requires_tsv_non_custom_columns":["metabolite_parent_fraction"]},"MetaboliteMethod":{"type":"string","minLength":1},"MetaboliteRecoveryCorrectionApplied":{"type":"boolean","requires_tsv_non_custom_columns":["hplc_recovery_fractions"]},"WithdrawalRate":{"type":"number"},"TubingType":{"type":"string"},"TubingLength":{"type":"number"},"TubingLengthUnits":{"type":"string"},"DispersionConstant":{"type":"number"},"DispersionCorrected":{"type":"boolean"},"WholeBloodAvail":{"default":false,"type":"boolean","requires_tsv_non_custom_columns":["whole_blood_radioactivity"]},"Haematocrit":{"type":"number"},"BloodDensity":{"type":"number"}},"allOf":[{"if":{"properties":{"MetaboliteAvail":{"enum":[true]}}},"then":{"required":["MetaboliteMethod","MetaboliteRecoveryCorrectionApplied"]}}],"required":["MetaboliteAvail","PlasmaAvail","WholeBloodAvail","DispersionCorrected"]}')},83737:function(e){"use strict";e.exports=JSON.parse('{"type":"object","properties":{"SamplingFrequency":{"type":"number","exclusiveMinimum":0},"StartTime":{"type":"number"},"Columns":{"type":"array","items":{"type":"string","minLength":1}},"Manufacturer":{"type":"string"},"ManufacturersModelName":{"type":"string"},"SoftwareVersions":{"type":"string"},"DeviceSerialNumber":{"type":"string"}},"required":["SamplingFrequency","StartTime","Columns"]}')}},function(e){e.O(0,[33,278,379,996,730,664,774,888,179],function(){return e(e.s=82766)}),_N_E=e.O()}]);